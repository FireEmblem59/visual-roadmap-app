(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Xg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cp={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function Px(){if(RE)return Ru;RE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Ru.Fragment=t,Ru.jsx=n,Ru.jsxs=n,Ru}var xE;function Lx(){return xE||(xE=1,Cp.exports=Px()),Cp.exports}var ct=Lx(),Ip={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function Ux(){if(CE)return kt;CE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function M(N,q,tt){this.props=N,this.context=q,this.refs=D,this.updater=tt||S}M.prototype.isReactComponent={},M.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function k(){}k.prototype=M.prototype;function H(N,q,tt){this.props=N,this.context=q,this.refs=D,this.updater=tt||S}var $=H.prototype=new k;$.constructor=H,I($,M.prototype),$.isPureReactComponent=!0;var G=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function P(N,q,tt,it,ft,yt){return tt=yt.ref,{$$typeof:e,type:N,key:q,ref:tt!==void 0?tt:null,props:yt}}function R(N,q){return P(N.type,q,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function O(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return q[tt]})}var z=/\/+/g;function B(N,q){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):q.toString(36)}function x(){}function L(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(x,x):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function et(N,q,tt,it,ft){var yt=typeof N;(yt==="undefined"||yt==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(yt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case e:case t:_t=!0;break;case y:return _t=N._init,et(_t(N._payload),q,tt,it,ft)}}if(_t)return ft=ft(N),_t=it===""?"."+B(N,0):it,G(ft)?(tt="",_t!=null&&(tt=_t.replace(z,"$&/")+"/"),et(ft,q,tt,"",function(Zt){return Zt})):ft!=null&&(b(ft)&&(ft=R(ft,tt+(ft.key==null||N&&N.key===ft.key?"":(""+ft.key).replace(z,"$&/")+"/")+_t)),q.push(ft)),1;_t=0;var Nt=it===""?".":it+":";if(G(N))for(var At=0;At<N.length;At++)it=N[At],yt=Nt+B(it,At),_t+=et(it,q,tt,yt,ft);else if(At=E(N),typeof At=="function")for(N=At.call(N),At=0;!(it=N.next()).done;)it=it.value,yt=Nt+B(it,At++),_t+=et(it,q,tt,yt,ft);else if(yt==="object"){if(typeof N.then=="function")return et(L(N),q,tt,it,ft);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return _t}function V(N,q,tt){if(N==null)return N;var it=[],ft=0;return et(N,it,"","",function(yt){return q.call(tt,yt,ft++)}),it}function F(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var rt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function X(){}return kt.Children={map:V,forEach:function(N,q,tt){V(N,function(){q.apply(this,arguments)},tt)},count:function(N){var q=0;return V(N,function(){q++}),q},toArray:function(N){return V(N,function(q){return q})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},kt.Component=M,kt.Fragment=n,kt.Profiler=a,kt.PureComponent=H,kt.StrictMode=i,kt.Suspense=m,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,kt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return J.H.useMemoCache(N)}},kt.cache=function(N){return function(){return N.apply(null,arguments)}},kt.cloneElement=function(N,q,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=I({},N.props),ft=N.key,yt=void 0;if(q!=null)for(_t in q.ref!==void 0&&(yt=void 0),q.key!==void 0&&(ft=""+q.key),q)!at.call(q,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&q.ref===void 0||(it[_t]=q[_t]);var _t=arguments.length-2;if(_t===1)it.children=tt;else if(1<_t){for(var Nt=Array(_t),At=0;At<_t;At++)Nt[At]=arguments[At+2];it.children=Nt}return P(N.type,ft,void 0,void 0,yt,it)},kt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},kt.createElement=function(N,q,tt){var it,ft={},yt=null;if(q!=null)for(it in q.key!==void 0&&(yt=""+q.key),q)at.call(q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ft[it]=q[it]);var _t=arguments.length-2;if(_t===1)ft.children=tt;else if(1<_t){for(var Nt=Array(_t),At=0;At<_t;At++)Nt[At]=arguments[At+2];ft.children=Nt}if(N&&N.defaultProps)for(it in _t=N.defaultProps,_t)ft[it]===void 0&&(ft[it]=_t[it]);return P(N,yt,void 0,void 0,null,ft)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(N){return{$$typeof:f,render:N}},kt.isValidElement=b,kt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:F}},kt.memo=function(N,q){return{$$typeof:p,type:N,compare:q===void 0?null:q}},kt.startTransition=function(N){var q=J.T,tt={};J.T=tt;try{var it=N(),ft=J.S;ft!==null&&ft(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(X,rt)}catch(yt){rt(yt)}finally{J.T=q}},kt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},kt.use=function(N){return J.H.use(N)},kt.useActionState=function(N,q,tt){return J.H.useActionState(N,q,tt)},kt.useCallback=function(N,q){return J.H.useCallback(N,q)},kt.useContext=function(N){return J.H.useContext(N)},kt.useDebugValue=function(){},kt.useDeferredValue=function(N,q){return J.H.useDeferredValue(N,q)},kt.useEffect=function(N,q,tt){var it=J.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,q)},kt.useId=function(){return J.H.useId()},kt.useImperativeHandle=function(N,q,tt){return J.H.useImperativeHandle(N,q,tt)},kt.useInsertionEffect=function(N,q){return J.H.useInsertionEffect(N,q)},kt.useLayoutEffect=function(N,q){return J.H.useLayoutEffect(N,q)},kt.useMemo=function(N,q){return J.H.useMemo(N,q)},kt.useOptimistic=function(N,q){return J.H.useOptimistic(N,q)},kt.useReducer=function(N,q,tt){return J.H.useReducer(N,q,tt)},kt.useRef=function(N){return J.H.useRef(N)},kt.useState=function(N){return J.H.useState(N)},kt.useSyncExternalStore=function(N,q,tt){return J.H.useSyncExternalStore(N,q,tt)},kt.useTransition=function(){return J.H.useTransition()},kt.version="19.1.1",kt}var IE;function cc(){return IE||(IE=1,Ip.exports=Ux()),Ip.exports}var U=cc();const ut=Xg(U);var Np={exports:{}},xu={},Dp={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function zx(){return NE||(NE=1,(function(e){function t(V,F){var rt=V.length;V.push(F);t:for(;0<rt;){var X=rt-1>>>1,N=V[X];if(0<a(N,F))V[X]=F,V[rt]=N,rt=X;else break t}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var F=V[0],rt=V.pop();if(rt!==F){V[0]=rt;t:for(var X=0,N=V.length,q=N>>>1;X<q;){var tt=2*(X+1)-1,it=V[tt],ft=tt+1,yt=V[ft];if(0>a(it,rt))ft<N&&0>a(yt,it)?(V[X]=yt,V[ft]=rt,X=ft):(V[X]=it,V[tt]=rt,X=tt);else if(ft<N&&0>a(yt,rt))V[X]=yt,V[ft]=rt,X=ft;else break t}}return F}function a(V,F){var rt=V.sortIndex-F.sortIndex;return rt!==0?rt:V.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,v=null,E=3,S=!1,I=!1,D=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function G(V){for(var F=n(p);F!==null;){if(F.callback===null)i(p);else if(F.startTime<=V)i(p),F.sortIndex=F.expirationTime,t(m,F);else break;F=n(p)}}function J(V){if(D=!1,G(V),!I)if(n(m)!==null)I=!0,at||(at=!0,B());else{var F=n(p);F!==null&&et(J,F.startTime-V)}}var at=!1,P=-1,R=5,b=-1;function O(){return M?!0:!(e.unstable_now()-b<R)}function z(){if(M=!1,at){var V=e.unstable_now();b=V;var F=!0;try{t:{I=!1,D&&(D=!1,H(P),P=-1),S=!0;var rt=E;try{e:{for(G(V),v=n(m);v!==null&&!(v.expirationTime>V&&O());){var X=v.callback;if(typeof X=="function"){v.callback=null,E=v.priorityLevel;var N=X(v.expirationTime<=V);if(V=e.unstable_now(),typeof N=="function"){v.callback=N,G(V),F=!0;break e}v===n(m)&&i(m),G(V)}else i(m);v=n(m)}if(v!==null)F=!0;else{var q=n(p);q!==null&&et(J,q.startTime-V),F=!1}}break t}finally{v=null,E=rt,S=!1}F=void 0}}finally{F?B():at=!1}}}var B;if(typeof $=="function")B=function(){$(z)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,L=x.port2;x.port1.onmessage=z,B=function(){L.postMessage(null)}}else B=function(){k(z,0)};function et(V,F){P=k(function(){V(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(V){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var rt=E;E=F;try{return V()}finally{E=rt}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var rt=E;E=V;try{return F()}finally{E=rt}},e.unstable_scheduleCallback=function(V,F,rt){var X=e.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?X+rt:X):rt=X,V){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=rt+N,V={id:y++,callback:F,priorityLevel:V,startTime:rt,expirationTime:N,sortIndex:-1},rt>X?(V.sortIndex=rt,t(p,V),n(m)===null&&V===n(p)&&(D?(H(P),P=-1):D=!0,et(J,rt-X))):(V.sortIndex=N,t(m,V),I||S||(I=!0,at||(at=!0,B()))),V},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(V){var F=E;return function(){var rt=E;E=F;try{return V.apply(this,arguments)}finally{E=rt}}}})(Mp)),Mp}var DE;function Bx(){return DE||(DE=1,Dp.exports=zx()),Dp.exports}var Op={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function Hx(){if(ME)return gn;ME=1;var e=cc();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},gn.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},gn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},gn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},gn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},gn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},gn.requestFormReset=function(m){i.d.r(m)},gn.unstable_batchedUpdates=function(m,p){return m(p)},gn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var OE;function sS(){if(OE)return Op.exports;OE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Op.exports=Hx(),Op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function jx(){if(VE)return xu;VE=1;var e=Bx(),t=cc(),n=sS();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),r;if(g===u)return f(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,A=d.child;A;){if(A===o){T=!0,o=d,u=g;break}if(A===u){T=!0,u=d,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,u=d;break}if(A===u){T=!0,u=g,o=d;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function L(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case M:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case at:return"SuspenseList";case b:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case $:return(r.displayName||"Context")+".Provider";case H:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:L(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return L(r(s))}catch{}}return null}var et=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},X=[],N=-1;function q(r){return{current:r}}function tt(r){0>N||(r.current=X[N],X[N]=null,N--)}function it(r,s){N++,X[N]=r.current,r.current=s}var ft=q(null),yt=q(null),_t=q(null),Nt=q(null);function At(r,s){switch(it(_t,s),it(yt,r),it(ft,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?tE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=tE(s),r=eE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}tt(ft),it(ft,r)}function Zt(){tt(ft),tt(yt),tt(_t)}function Gt(r){r.memoizedState!==null&&it(Nt,r);var s=ft.current,o=eE(s,r.type);s!==o&&(it(yt,r),it(ft,o))}function Re(r){yt.current===r&&(tt(ft),tt(yt)),Nt.current===r&&(tt(Nt),wu._currentValue=rt)}var De=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,Me=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Sn=e.unstable_requestPaint,Lt=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,Mn=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,Br=e.unstable_LowPriority,Hn=e.unstable_IdlePriority,bn=e.log,wr=e.unstable_setDisableYieldValue,te=null,Bt=null;function Oe(r){if(typeof bn=="function"&&wr(r),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(te,r)}catch{}}var ye=Math.clz32?Math.clz32:Qe,Hr=Math.log,Ve=Math.LN2;function Qe(r){return r>>>=0,r===0?32:31-(Hr(r)/Ve|0)|0}var An=256,Rn=4194304;function Ze(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function an(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?d=Ze(u):(T&=A,T!==0?d=Ze(T):o||(o=A&~r,o!==0&&(d=Ze(o))))):(A=u&~g,A!==0?d=Ze(A):T!==0?d=Ze(T):o||(o=u&~r,o!==0&&(d=Ze(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function xn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function vi(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(){var r=An;return An<<=1,(An&4194048)===0&&(An=256),r}function Tr(){var r=Rn;return Rn<<=1,(Rn&62914560)===0&&(Rn=4194304),r}function jn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function er(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qn(r,s,o,u,d,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,j=r.expirationTimes,W=r.hiddenUpdates;for(o=T&~o;0<o;){var lt=31-ye(o),dt=1<<lt;A[lt]=0,j[lt]=-1;var nt=W[lt];if(nt!==null)for(W[lt]=null,lt=0;lt<nt.length;lt++){var st=nt[lt];st!==null&&(st.lane&=-536870913)}o&=~dt}u!==0&&nr(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function nr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-ye(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function ea(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-ye(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function jr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function is(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function qr(){var r=F.p;return r!==0?r:(r=window.event,r===void 0?32:EE(r.type))}function Qa(r,s){var o=F.p;try{return F.p=r,s()}finally{F.p=o}}var ce=Math.random().toString(36).slice(2),xe="__reactFiber$"+ce,Te="__reactProps$"+ce,On="__reactContainer$"+ce,na="__reactEvents$"+ce,xl="__reactListeners$"+ce,Fr="__reactHandles$"+ce,Za="__reactResources$"+ce,wi="__reactMarker$"+ce;function $r(r){delete r[xe],delete r[Te],delete r[na],delete r[xl],delete r[Fr]}function rr(r){var s=r[xe];if(s)return s;for(var o=r.parentNode;o;){if(s=o[On]||o[xe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=sE(r);r!==null;){if(o=r[xe])return o;r=sE(r)}return s}r=o,o=r.parentNode}return null}function ir(r){if(r=r[xe]||r[On]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function sr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function on(r){var s=r[Za];return s||(s=r[Za]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _e(r){r[wi]=!0}var ra=new Set,ss={};function Fn(r,s){Sr(r,s),Sr(r+"Capture",s)}function Sr(r,s){for(ss[r]=s,r=0;r<s.length;r++)ra.add(s[r])}var ia=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wa={},Ti={};function Ja(r){return De.call(Ti,r)?!0:De.call(Wa,r)?!1:ia.test(r)?Ti[r]=!0:(Wa[r]=!0,!1)}function Gr(r,s,o){if(Ja(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ar(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function qe(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Yr,to;function br(r){if(Yr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Yr=s&&s[1]||"",to=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+r+to}var as=!1;function Kr(r,s){if(!r||as)return"";as=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(st){var nt=st}Reflect.construct(r,[],dt)}else{try{dt.call()}catch(st){nt=st}r.call(dt.prototype)}}else{try{throw Error()}catch(st){nt=st}(dt=r())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(st){if(st&&nt&&typeof st.stack=="string")return[st.stack,nt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var j=T.split(`
`),W=A.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===W.length)for(u=j.length-1,d=W.length-1;1<=u&&0<=d&&j[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==W[d]){var lt=`
`+j[u].replace(" at new "," at ");return r.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",r.displayName)),lt}while(1<=u&&0<=d);break}}}finally{as=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?br(o):""}function Cl(r){switch(r.tag){case 26:case 27:case 5:return br(r.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return Kr(r.type,!1);case 11:return Kr(r.type.render,!1);case 1:return Kr(r.type,!0);case 31:return br("Activity");default:return""}}function eo(r){try{var s="";do s+=Cl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Il(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Md(r){var s=Il(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function no(r){r._valueTracker||(r._valueTracker=Md(r))}function Nl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Il(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function sa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Od=/[\n"\\]/g;function ke(r){return r.replace(Od,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $n(r,s,o,u,d,g,T,A){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Cn(s)):r.value!==""+Cn(s)&&(r.value=""+Cn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?os(r,T,Cn(s)):o!=null?os(r,T,Cn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Cn(A):r.removeAttribute("name")}function aa(r,s,o,u,d,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Cn(o):"",s=s!=null?""+Cn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function os(r,s,o){s==="number"&&sa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Si(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Cn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function se(r,s,o){if(s!=null&&(s=""+Cn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Cn(o):""}function oa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(et(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Cn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function or(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||la.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Dl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Cc(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Cc(r,g,s[g])}function Ml(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(r){return kd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var bi=null;function lr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ai=null,Ri=null;function Ol(r){var s=ir(r);if(s&&(r=s.stateNode)){var o=r[Te]||null;t:switch(r=s.stateNode,s.type){case"input":if($n(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ke(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[Te]||null;if(!d)throw Error(i(90));$n(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Nl(u)}break t;case"textarea":se(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Si(r,!!o.multiple,s,!1)}}}var Xr=!1;function Ic(r,s,o){if(Xr)return r(s,o);Xr=!0;try{var u=r(s);return u}finally{if(Xr=!1,(Ai!==null||Ri!==null)&&(Th(),Ai&&(s=Ai,r=Ri,Ri=Ai=null,Ol(s),r)))for(s=0;s<r.length;s++)Ol(r[s])}}function ua(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Te]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(Ar)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){ur=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{ur=!1}var Qr=null,ls=null,xi=null;function Vl(){if(xi)return xi;var r,s=ls,o=s.length,u,d="value"in Qr?Qr.value:Qr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return xi=d.slice(r,1<u?1-u:void 0)}function Zr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Wr(){return!0}function kl(){return!1}function We(r){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wr:kl,this.isPropagationStopped=kl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),s}var ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=We(ee),ha=y({},ee,{view:0,detail:0}),Nc=We(ha),so,ao,Jr,fa=y({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(so=r.screenX-Jr.screenX,ao=r.screenY-Jr.screenY):ao=so=0,Jr=r),so)},movementY:function(r){return"movementY"in r?r.movementY:ao}}),cr=We(fa),Dc=y({},fa,{dataTransfer:0}),Pd=We(Dc),da=y({},ha,{relatedTarget:0}),oo=We(da),Pl=y({},ee,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=We(Pl),Mc=y({},ee,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uo=We(Mc),Ld=y({},ee,{data:0}),Ll=We(Ld),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Vc[r])?!!s[r]:!1}function pa(){return Ul}var kc=y({},ha,{key:function(r){if(r.key){var s=ma[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Zr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Oc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(r){return r.type==="keypress"?Zr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),co=We(kc),Pc=y({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=We(Pc),Ci=y({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),Lc=We(Ci),Uc=y({},ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),zc=We(Uc),Bc=y({},fa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ho=We(Bc),In=y({},ee,{newState:0,oldState:0}),Hc=We(In),jc=[9,13,27,32],ti=Ar&&"CompositionEvent"in window,h=null;Ar&&"documentMode"in document&&(h=document.documentMode);var _=Ar&&"TextEvent"in window&&!h,w=Ar&&(!ti||h&&8<h&&11>=h),C=" ",Q=!1;function ot(r,s){switch(r){case"keyup":return jc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yt=!1;function Fe(r,s){switch(r){case"compositionend":return gt(s);case"keypress":return s.which!==32?null:(Q=!0,C);case"textInput":return r=s.data,r===C&&Q?null:r;default:return null}}function Kt(r,s){if(Yt)return r==="compositionend"||!ti&&ot(r,s)?(r=Vl(),xi=ls=Qr=null,Yt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $e(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Je[r.type]:s==="textarea"}function Ii(r,s,o,u){Ai?Ri?Ri.push(u):Ri=[u]:Ai=u,s=Ch(s,"onChange"),0<s.length&&(o=new io("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var ln=null,ei=null;function Bl(r){Xv(r,0)}function qc(r){var s=sr(r);if(Nl(s))return r}function g_(r,s){if(r==="change")return s}var y_=!1;if(Ar){var Ud;if(Ar){var zd="oninput"in document;if(!zd){var __=document.createElement("div");__.setAttribute("oninput","return;"),zd=typeof __.oninput=="function"}Ud=zd}else Ud=!1;y_=Ud&&(!document.documentMode||9<document.documentMode)}function v_(){ln&&(ln.detachEvent("onpropertychange",E_),ei=ln=null)}function E_(r){if(r.propertyName==="value"&&qc(ei)){var s=[];Ii(s,ei,r,lr(r)),Ic(Bl,s)}}function fR(r,s,o){r==="focusin"?(v_(),ln=s,ei=o,ln.attachEvent("onpropertychange",E_)):r==="focusout"&&v_()}function dR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qc(ei)}function mR(r,s){if(r==="click")return qc(s)}function pR(r,s){if(r==="input"||r==="change")return qc(s)}function gR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:gR;function Hl(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!De.call(s,d)||!Gn(r[d],s[d]))return!1}return!0}function w_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function T_(r,s){var o=w_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=w_(o)}}function S_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?S_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function b_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=sa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=sa(r.document)}return s}function Bd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var yR=Ar&&"documentMode"in document&&11>=document.documentMode,fo=null,Hd=null,jl=null,jd=!1;function A_(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jd||fo==null||fo!==sa(u)||(u=fo,"selectionStart"in u&&Bd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Hl(jl,u)||(jl=u,u=Ch(Hd,"onSelect"),0<u.length&&(s=new io("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=fo)))}function ga(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var mo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},qd={},R_={};Ar&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ya(r){if(qd[r])return qd[r];if(!mo[r])return r;var s=mo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in R_)return qd[r]=s[o];return r}var x_=ya("animationend"),C_=ya("animationiteration"),I_=ya("animationstart"),_R=ya("transitionrun"),vR=ya("transitionstart"),ER=ya("transitioncancel"),N_=ya("transitionend"),D_=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function Rr(r,s){D_.set(r,s),Fn(s,[r])}var M_=new WeakMap;function hr(r,s){if(typeof r=="object"&&r!==null){var o=M_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:eo(s)},M_.set(r,s),s)}return{value:r,source:s,stack:eo(s)}}var fr=[],po=0,$d=0;function Fc(){for(var r=po,s=$d=po=0;s<r;){var o=fr[s];fr[s++]=null;var u=fr[s];fr[s++]=null;var d=fr[s];fr[s++]=null;var g=fr[s];if(fr[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&O_(o,d,g)}}function $c(r,s,o,u){fr[po++]=r,fr[po++]=s,fr[po++]=o,fr[po++]=u,$d|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gd(r,s,o,u){return $c(r,s,o,u),Gc(r)}function go(r,s){return $c(r,null,null,s),Gc(r)}function O_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-ye(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Gc(r){if(50<du)throw du=0,Wm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var yo={};function wR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,o,u){return new wR(r,s,o,u)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ni(r,s){var o=r.alternate;return o===null?(o=Yn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function V_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Yc(r,s,o,u,d,g){var T=0;if(u=r,typeof r=="function")Yd(r)&&(T=1);else if(typeof r=="string")T=Sx(r,o,ft.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case b:return r=Yn(31,o,s,d),r.elementType=b,r.lanes=g,r;case I:return _a(o.children,d,g,s);case D:T=8,d|=24;break;case M:return r=Yn(12,o,s,d|2),r.elementType=M,r.lanes=g,r;case J:return r=Yn(13,o,s,d),r.elementType=J,r.lanes=g,r;case at:return r=Yn(19,o,s,d),r.elementType=at,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case $:T=10;break t;case H:T=9;break t;case G:T=11;break t;case P:T=14;break t;case R:T=16,u=null;break t}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Yn(T,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function _a(r,s,o,u){return r=Yn(7,r,u,s),r.lanes=o,r}function Kd(r,s,o){return r=Yn(6,r,null,s),r.lanes=o,r}function Xd(r,s,o){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var _o=[],vo=0,Kc=null,Xc=0,dr=[],mr=0,va=null,Di=1,Mi="";function Ea(r,s){_o[vo++]=Xc,_o[vo++]=Kc,Kc=r,Xc=s}function k_(r,s,o){dr[mr++]=Di,dr[mr++]=Mi,dr[mr++]=va,va=r;var u=Di;r=Mi;var d=32-ye(u)-1;u&=~(1<<d),o+=1;var g=32-ye(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Di=1<<32-ye(s)+d|o<<d|u,Mi=g+r}else Di=1<<g|o<<d|u,Mi=r}function Qd(r){r.return!==null&&(Ea(r,1),k_(r,1,0))}function Zd(r){for(;r===Kc;)Kc=_o[--vo],_o[vo]=null,Xc=_o[--vo],_o[vo]=null;for(;r===va;)va=dr[--mr],dr[mr]=null,Mi=dr[--mr],dr[mr]=null,Di=dr[--mr],dr[mr]=null}var Nn=null,Se=null,Jt=!1,wa=null,ni=!1,Wd=Error(i(519));function Ta(r){var s=Error(i(418,""));throw $l(hr(s,r)),Wd}function P_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[xe]=r,s[Te]=u,o){case"dialog":jt("cancel",s),jt("close",s);break;case"iframe":case"object":case"embed":jt("load",s);break;case"video":case"audio":for(o=0;o<pu.length;o++)jt(pu[o],s);break;case"source":jt("error",s);break;case"img":case"image":case"link":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"input":jt("invalid",s),aa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),no(s);break;case"select":jt("invalid",s);break;case"textarea":jt("invalid",s),oa(s,u.value,u.defaultValue,u.children),no(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Jv(s.textContent,o)?(u.popover!=null&&(jt("beforetoggle",s),jt("toggle",s)),u.onScroll!=null&&jt("scroll",s),u.onScrollEnd!=null&&jt("scrollend",s),u.onClick!=null&&(s.onclick=Ih),s=!0):s=!1,s||Ta(r)}function L_(r){for(Nn=r.return;Nn;)switch(Nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Nn=Nn.return}}function ql(r){if(r!==Nn)return!1;if(!Jt)return L_(r),Jt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||mp(r.type,r.memoizedProps)),o=!o),o&&Se&&Ta(r),L_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Se=Cr(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Se=null}}else s===27?(s=Se,bs(r.type)?(r=_p,_p=null,Se=r):Se=s):Se=Nn?Cr(r.stateNode.nextSibling):null;return!0}function Fl(){Se=Nn=null,Jt=!1}function U_(){var r=wa;return r!==null&&(Pn===null?Pn=r:Pn.push.apply(Pn,r),wa=null),r}function $l(r){wa===null?wa=[r]:wa.push(r)}var Jd=q(null),Sa=null,Oi=null;function us(r,s,o){it(Jd,s._currentValue),s._currentValue=o}function Vi(r){r._currentValue=Jd.current,tt(Jd)}function tm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function em(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=d;for(var j=0;j<s.length;j++)if(A.context===s[j]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),tm(g.return,o,r),u||(T=null);break t}g=A.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),tm(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Gl(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=d.type;Gn(d.pendingProps.value,T.value)||(r!==null?r.push(A):r=[A])}}else if(d===Nt.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}d=d.return}r!==null&&em(s,r,o,u),s.flags|=262144}function Qc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ba(r){Sa=r,Oi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return z_(Sa,r)}function Zc(r,s){return Sa===null&&ba(r),z_(r,s)}function z_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Oi===null){if(r===null)throw Error(i(308));Oi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Oi=Oi.next=s;return o}var TR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},SR=e.unstable_scheduleCallback,bR=e.unstable_NormalPriority,Ge={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new TR,data:new Map,refCount:0}}function Yl(r){r.refCount--,r.refCount===0&&SR(bR,function(){r.controller.abort()})}var Kl=null,rm=0,Eo=0,wo=null;function AR(r,s){if(Kl===null){var o=Kl=[];rm=0,Eo=sp(),wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rm++,s.then(B_,B_),s}function B_(){if(--rm===0&&Kl!==null){wo!==null&&(wo.status="fulfilled");var r=Kl;Kl=null,Eo=0,wo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function RR(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var H_=V.S;V.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&AR(r,s),H_!==null&&H_(r,s)};var Aa=q(null);function im(){var r=Aa.current;return r!==null?r:he.pooledCache}function Wc(r,s){s===null?it(Aa,Aa.current):it(Aa,s.pool)}function j_(){var r=im();return r===null?null:{parent:Ge._currentValue,pool:r}}var Xl=Error(i(460)),q_=Error(i(474)),Jc=Error(i(542)),sm={then:function(){}};function F_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function th(){}function $_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(th,th),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Y_(r),r;default:if(typeof s.status=="string")s.then(th,th);else{if(r=he,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Y_(r),r}throw Ql=s,Xl}}var Ql=null;function G_(){if(Ql===null)throw Error(i(459));var r=Ql;return Ql=null,r}function Y_(r){if(r===Xl||r===Jc)throw Error(i(483))}var cs=!1;function am(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function hs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(re&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Gc(r),O_(r,null,o),s}return $c(r,u,s,o),Gc(r)}function Zl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ea(r,o)}}function lm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var um=!1;function Wl(){if(um){var r=wo;if(r!==null)throw r}}function Jl(r,s,o,u){um=!1;var d=r.updateQueue;cs=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var j=A,W=j.next;j.next=null,T===null?g=W:T.next=W,T=j;var lt=r.alternate;lt!==null&&(lt=lt.updateQueue,A=lt.lastBaseUpdate,A!==T&&(A===null?lt.firstBaseUpdate=W:A.next=W,lt.lastBaseUpdate=j))}if(g!==null){var dt=d.baseState;T=0,lt=W=j=null,A=g;do{var nt=A.lane&-536870913,st=nt!==A.lane;if(st?(Xt&nt)===nt:(u&nt)===nt){nt!==0&&nt===Eo&&(um=!0),lt!==null&&(lt=lt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Dt=r,xt=A;nt=s;var le=o;switch(xt.tag){case 1:if(Dt=xt.payload,typeof Dt=="function"){dt=Dt.call(le,dt,nt);break t}dt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=xt.payload,nt=typeof Dt=="function"?Dt.call(le,dt,nt):Dt,nt==null)break t;dt=y({},dt,nt);break t;case 2:cs=!0}}nt=A.callback,nt!==null&&(r.flags|=64,st&&(r.flags|=8192),st=d.callbacks,st===null?d.callbacks=[nt]:st.push(nt))}else st={lane:nt,tag:A.tag,payload:A.payload,callback:A.callback,next:null},lt===null?(W=lt=st,j=dt):lt=lt.next=st,T|=nt;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;st=A,A=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);lt===null&&(j=dt),d.baseState=j,d.firstBaseUpdate=W,d.lastBaseUpdate=lt,g===null&&(d.shared.lanes=0),Es|=T,r.lanes=T,r.memoizedState=dt}}function K_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function X_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)K_(o[r],s)}var To=q(null),eh=q(0);function Q_(r,s){r=Hi,it(eh,r),it(To,s),Hi=r|s.baseLanes}function cm(){it(eh,Hi),it(To,To.current)}function hm(){Hi=eh.current,tt(To),tt(eh)}var ds=0,Pt=null,ae=null,Pe=null,nh=!1,So=!1,Ra=!1,rh=0,tu=0,bo=null,xR=0;function Ce(){throw Error(i(321))}function fm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Gn(r[o],s[o]))return!1;return!0}function dm(r,s,o,u,d,g){return ds=g,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=r===null||r.memoizedState===null?O0:V0,Ra=!1,g=o(u,d),Ra=!1,So&&(g=W_(s,o,u,d)),Z_(r),g}function Z_(r){V.H=uh;var s=ae!==null&&ae.next!==null;if(ds=0,Pe=ae=Pt=null,nh=!1,tu=0,bo=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&Qc(r)&&(tn=!0))}function W_(r,s,o,u){Pt=r;var d=0;do{if(So&&(bo=null),tu=0,So=!1,25<=d)throw Error(i(301));if(d+=1,Pe=ae=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=VR,g=s(o,u)}while(So);return g}function CR(){var r=V.H,s=r.useState()[0];return s=typeof s.then=="function"?eu(s):s,r=r.useState()[0],(ae!==null?ae.memoizedState:null)!==r&&(Pt.flags|=1024),s}function mm(){var r=rh!==0;return rh=0,r}function pm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function gm(r){if(nh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nh=!1}ds=0,Pe=ae=Pt=null,So=!1,tu=rh=0,bo=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Pt.memoizedState=Pe=r:Pe=Pe.next=r,Pe}function Le(){if(ae===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=ae.next;var s=Pe===null?Pt.memoizedState:Pe.next;if(s!==null)Pe=s,ae=r;else{if(r===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));ae=r,r={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Pe===null?Pt.memoizedState=Pe=r:Pe=Pe.next=r}return Pe}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(r){var s=tu;return tu+=1,bo===null&&(bo=[]),r=$_(bo,r,s),s=Pt,(Pe===null?s.memoizedState:Pe.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?O0:V0),r}function ih(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return eu(r);if(r.$$typeof===$)return pn(r)}throw Error(i(438,String(r)))}function _m(r){var s=null,o=Pt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ym(),Pt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=O;return s.index++,o}function ki(r,s){return typeof s=="function"?s(r):s}function sh(r){var s=Le();return vm(s,ae,r)}function vm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var A=T=null,j=null,W=s,lt=!1;do{var dt=W.lane&-536870913;if(dt!==W.lane?(Xt&dt)===dt:(ds&dt)===dt){var nt=W.revertLane;if(nt===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),dt===Eo&&(lt=!0);else if((ds&nt)===nt){W=W.next,nt===Eo&&(lt=!0);continue}else dt={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(A=j=dt,T=g):j=j.next=dt,Pt.lanes|=nt,Es|=nt;dt=W.action,Ra&&o(g,dt),g=W.hasEagerState?W.eagerState:o(g,dt)}else nt={lane:dt,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(A=j=nt,T=g):j=j.next=nt,Pt.lanes|=dt,Es|=dt;W=W.next}while(W!==null&&W!==s);if(j===null?T=g:j.next=A,!Gn(g,r.memoizedState)&&(tn=!0,lt&&(o=wo,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=j,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Em(r){var s=Le(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=r(g,T.action),T=T.next;while(T!==d);Gn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function J_(r,s,o){var u=Pt,d=Le(),g=Jt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Gn((ae||d).memoizedState,o);T&&(d.memoizedState=o,tn=!0),d=d.queue;var A=n0.bind(null,u,d,r);if(nu(2048,8,A,[r]),d.getSnapshot!==s||T||Pe!==null&&Pe.memoizedState.tag&1){if(u.flags|=2048,Ao(9,ah(),e0.bind(null,u,d,o,s),null),he===null)throw Error(i(349));g||(ds&124)!==0||t0(u,s,o)}return o}function t0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pt.updateQueue,s===null?(s=ym(),Pt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function e0(r,s,o,u){s.value=o,s.getSnapshot=u,r0(s)&&i0(r)}function n0(r,s,o){return o(function(){r0(s)&&i0(r)})}function r0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Gn(r,o)}catch{return!0}}function i0(r){var s=go(r,2);s!==null&&Wn(s,r,2)}function wm(r){var s=Vn();if(typeof r=="function"){var o=r;if(r=o(),Ra){Oe(!0);try{o()}finally{Oe(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},s}function s0(r,s,o,u){return r.baseState=o,vm(r,ae,typeof u=="function"?u:ki)}function IR(r,s,o,u,d){if(lh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};V.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,a0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function a0(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=V.T,T={};V.T=T;try{var A=o(d,u),j=V.S;j!==null&&j(T,A),o0(r,s,A)}catch(W){Tm(r,s,W)}finally{V.T=g}}else try{g=o(d,u),o0(r,s,g)}catch(W){Tm(r,s,W)}}function o0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){l0(r,s,u)},function(u){return Tm(r,s,u)}):l0(r,s,o)}function l0(r,s,o){s.status="fulfilled",s.value=o,u0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,a0(r,o)))}function Tm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,u0(s),s=s.next;while(s!==u)}r.action=null}function u0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function c0(r,s){return s}function h0(r,s){if(Jt){var o=he.formState;if(o!==null){t:{var u=Pt;if(Jt){if(Se){e:{for(var d=Se,g=ni;d.nodeType!==8;){if(!g){d=null;break e}if(d=Cr(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Se=Cr(d.nextSibling),u=d.data==="F!";break t}}Ta(u)}u=!1}u&&(s=o[0])}}return o=Vn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:s},o.queue=u,o=N0.bind(null,Pt,u),u.dispatch=o,u=wm(!1),g=xm.bind(null,Pt,!1,u.queue),u=Vn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=IR.bind(null,Pt,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function f0(r){var s=Le();return d0(s,ae,r)}function d0(r,s,o){if(s=vm(r,s,c0)[0],r=sh(ki)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=eu(s)}catch(T){throw T===Xl?Jc:T}else u=s;s=Le();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Pt.flags|=2048,Ao(9,ah(),NR.bind(null,d,o),null)),[u,g,r]}function NR(r,s){r.action=s}function m0(r){var s=Le(),o=ae;if(o!==null)return d0(s,o,r);Le(),s=s.memoizedState,o=Le();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Ao(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pt.updateQueue,s===null&&(s=ym(),Pt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function ah(){return{destroy:void 0,resource:void 0}}function p0(){return Le().memoizedState}function oh(r,s,o,u){var d=Vn();u=u===void 0?null:u,Pt.flags|=r,d.memoizedState=Ao(1|s,ah(),o,u)}function nu(r,s,o,u){var d=Le();u=u===void 0?null:u;var g=d.memoizedState.inst;ae!==null&&u!==null&&fm(u,ae.memoizedState.deps)?d.memoizedState=Ao(s,g,o,u):(Pt.flags|=r,d.memoizedState=Ao(1|s,g,o,u))}function g0(r,s){oh(8390656,8,r,s)}function y0(r,s){nu(2048,8,r,s)}function _0(r,s){return nu(4,2,r,s)}function v0(r,s){return nu(4,4,r,s)}function E0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function w0(r,s,o){o=o!=null?o.concat([r]):null,nu(4,4,E0.bind(null,s,r),o)}function Sm(){}function T0(r,s){var o=Le();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&fm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function S0(r,s){var o=Le();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&fm(s,u[1]))return u[0];if(u=r(),Ra){Oe(!0);try{r()}finally{Oe(!1)}}return o.memoizedState=[u,s],u}function bm(r,s,o){return o===void 0||(ds&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Rv(),Pt.lanes|=r,Es|=r,o)}function b0(r,s,o,u){return Gn(o,s)?o:To.current!==null?(r=bm(r,o,u),Gn(r,s)||(tn=!0),r):(ds&42)===0?(tn=!0,r.memoizedState=o):(r=Rv(),Pt.lanes|=r,Es|=r,s)}function A0(r,s,o,u,d){var g=F.p;F.p=g!==0&&8>g?g:8;var T=V.T,A={};V.T=A,xm(r,!1,s,o);try{var j=d(),W=V.S;if(W!==null&&W(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var lt=RR(j,u);ru(r,s,lt,Zn(r))}else ru(r,s,u,Zn(r))}catch(dt){ru(r,s,{then:function(){},status:"rejected",reason:dt},Zn())}finally{F.p=g,V.T=T}}function DR(){}function Am(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=R0(r).queue;A0(r,d,s,rt,o===null?DR:function(){return x0(r),o(u)})}function R0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:rt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function x0(r){var s=R0(r).next.queue;ru(r,s,{},Zn())}function Rm(){return pn(wu)}function C0(){return Le().memoizedState}function I0(){return Le().memoizedState}function MR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Zn();r=hs(o);var u=fs(s,r,o);u!==null&&(Wn(u,s,o),Zl(u,s,o)),s={cache:nm()},r.payload=s;return}s=s.return}}function OR(r,s,o){var u=Zn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},lh(r)?D0(s,o):(o=Gd(r,s,o,u),o!==null&&(Wn(o,r,u),M0(o,s,u)))}function N0(r,s,o){var u=Zn();ru(r,s,o,u)}function ru(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(lh(r))D0(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,o);if(d.hasEagerState=!0,d.eagerState=A,Gn(A,T))return $c(r,s,d,0),he===null&&Fc(),!1}catch{}finally{}if(o=Gd(r,s,d,u),o!==null)return Wn(o,r,u),M0(o,s,u),!0}return!1}function xm(r,s,o,u){if(u={lane:2,revertLane:sp(),action:u,hasEagerState:!1,eagerState:null,next:null},lh(r)){if(s)throw Error(i(479))}else s=Gd(r,o,u,2),s!==null&&Wn(s,r,2)}function lh(r){var s=r.alternate;return r===Pt||s!==null&&s===Pt}function D0(r,s){So=nh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function M0(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ea(r,o)}}var uh={readContext:pn,use:ih,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce},O0={readContext:pn,use:ih,useCallback:function(r,s){return Vn().memoizedState=[r,s===void 0?null:s],r},useContext:pn,useEffect:g0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,oh(4194308,4,E0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return oh(4194308,4,r,s)},useInsertionEffect:function(r,s){oh(4,2,r,s)},useMemo:function(r,s){var o=Vn();s=s===void 0?null:s;var u=r();if(Ra){Oe(!0);try{r()}finally{Oe(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Vn();if(o!==void 0){var d=o(s);if(Ra){Oe(!0);try{o(s)}finally{Oe(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=OR.bind(null,Pt,r),[u.memoizedState,r]},useRef:function(r){var s=Vn();return r={current:r},s.memoizedState=r},useState:function(r){r=wm(r);var s=r.queue,o=N0.bind(null,Pt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(r,s){var o=Vn();return bm(o,r,s)},useTransition:function(){var r=wm(!1);return r=A0.bind(null,Pt,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pt,d=Vn();if(Jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),he===null)throw Error(i(349));(Xt&124)!==0||t0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,g0(n0.bind(null,u,g,r),[r]),u.flags|=2048,Ao(9,ah(),e0.bind(null,u,g,o,s),null),o},useId:function(){var r=Vn(),s=he.identifierPrefix;if(Jt){var o=Mi,u=Di;o=(u&~(1<<32-ye(u)-1)).toString(32)+o,s=""+s+"R"+o,o=rh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=xR++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Rm,useFormState:h0,useActionState:h0,useOptimistic:function(r){var s=Vn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=xm.bind(null,Pt,!0,o),o.dispatch=s,[r,s]},useMemoCache:_m,useCacheRefresh:function(){return Vn().memoizedState=MR.bind(null,Pt)}},V0={readContext:pn,use:ih,useCallback:T0,useContext:pn,useEffect:y0,useImperativeHandle:w0,useInsertionEffect:_0,useLayoutEffect:v0,useMemo:S0,useReducer:sh,useRef:p0,useState:function(){return sh(ki)},useDebugValue:Sm,useDeferredValue:function(r,s){var o=Le();return b0(o,ae.memoizedState,r,s)},useTransition:function(){var r=sh(ki)[0],s=Le().memoizedState;return[typeof r=="boolean"?r:eu(r),s]},useSyncExternalStore:J_,useId:C0,useHostTransitionStatus:Rm,useFormState:f0,useActionState:f0,useOptimistic:function(r,s){var o=Le();return s0(o,ae,r,s)},useMemoCache:_m,useCacheRefresh:I0},VR={readContext:pn,use:ih,useCallback:T0,useContext:pn,useEffect:y0,useImperativeHandle:w0,useInsertionEffect:_0,useLayoutEffect:v0,useMemo:S0,useReducer:Em,useRef:p0,useState:function(){return Em(ki)},useDebugValue:Sm,useDeferredValue:function(r,s){var o=Le();return ae===null?bm(o,r,s):b0(o,ae.memoizedState,r,s)},useTransition:function(){var r=Em(ki)[0],s=Le().memoizedState;return[typeof r=="boolean"?r:eu(r),s]},useSyncExternalStore:J_,useId:C0,useHostTransitionStatus:Rm,useFormState:m0,useActionState:m0,useOptimistic:function(r,s){var o=Le();return ae!==null?s0(o,ae,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:_m,useCacheRefresh:I0},Ro=null,iu=0;function ch(r){var s=iu;return iu+=1,Ro===null&&(Ro=[]),$_(Ro,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function hh(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function k0(r){var s=r._init;return s(r._payload)}function P0(r){function s(K,Y){if(r){var Z=K.deletions;Z===null?(K.deletions=[Y],K.flags|=16):Z.push(Y)}}function o(K,Y){if(!r)return null;for(;Y!==null;)s(K,Y),Y=Y.sibling;return null}function u(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function d(K,Y){return K=Ni(K,Y),K.index=0,K.sibling=null,K}function g(K,Y,Z){return K.index=Z,r?(Z=K.alternate,Z!==null?(Z=Z.index,Z<Y?(K.flags|=67108866,Y):Z):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function T(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function A(K,Y,Z,ht){return Y===null||Y.tag!==6?(Y=Kd(Z,K.mode,ht),Y.return=K,Y):(Y=d(Y,Z),Y.return=K,Y)}function j(K,Y,Z,ht){var Et=Z.type;return Et===I?lt(K,Y,Z.props.children,ht,Z.key):Y!==null&&(Y.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&k0(Et)===Y.type)?(Y=d(Y,Z.props),su(Y,Z),Y.return=K,Y):(Y=Yc(Z.type,Z.key,Z.props,null,K.mode,ht),su(Y,Z),Y.return=K,Y)}function W(K,Y,Z,ht){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=Xd(Z,K.mode,ht),Y.return=K,Y):(Y=d(Y,Z.children||[]),Y.return=K,Y)}function lt(K,Y,Z,ht,Et){return Y===null||Y.tag!==7?(Y=_a(Z,K.mode,ht,Et),Y.return=K,Y):(Y=d(Y,Z),Y.return=K,Y)}function dt(K,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Kd(""+Y,K.mode,Z),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Z=Yc(Y.type,Y.key,Y.props,null,K.mode,Z),su(Z,Y),Z.return=K,Z;case S:return Y=Xd(Y,K.mode,Z),Y.return=K,Y;case R:var ht=Y._init;return Y=ht(Y._payload),dt(K,Y,Z)}if(et(Y)||B(Y))return Y=_a(Y,K.mode,Z,null),Y.return=K,Y;if(typeof Y.then=="function")return dt(K,ch(Y),Z);if(Y.$$typeof===$)return dt(K,Zc(K,Y),Z);hh(K,Y)}return null}function nt(K,Y,Z,ht){var Et=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Et!==null?null:A(K,Y,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===Et?j(K,Y,Z,ht):null;case S:return Z.key===Et?W(K,Y,Z,ht):null;case R:return Et=Z._init,Z=Et(Z._payload),nt(K,Y,Z,ht)}if(et(Z)||B(Z))return Et!==null?null:lt(K,Y,Z,ht,null);if(typeof Z.then=="function")return nt(K,Y,ch(Z),ht);if(Z.$$typeof===$)return nt(K,Y,Zc(K,Z),ht);hh(K,Z)}return null}function st(K,Y,Z,ht,Et){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return K=K.get(Z)||null,A(Y,K,""+ht,Et);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case E:return K=K.get(ht.key===null?Z:ht.key)||null,j(Y,K,ht,Et);case S:return K=K.get(ht.key===null?Z:ht.key)||null,W(Y,K,ht,Et);case R:var Ut=ht._init;return ht=Ut(ht._payload),st(K,Y,Z,ht,Et)}if(et(ht)||B(ht))return K=K.get(Z)||null,lt(Y,K,ht,Et,null);if(typeof ht.then=="function")return st(K,Y,Z,ch(ht),Et);if(ht.$$typeof===$)return st(K,Y,Z,Zc(Y,ht),Et);hh(Y,ht)}return null}function Dt(K,Y,Z,ht){for(var Et=null,Ut=null,Tt=Y,Ct=Y=0,nn=null;Tt!==null&&Ct<Z.length;Ct++){Tt.index>Ct?(nn=Tt,Tt=null):nn=Tt.sibling;var Wt=nt(K,Tt,Z[Ct],ht);if(Wt===null){Tt===null&&(Tt=nn);break}r&&Tt&&Wt.alternate===null&&s(K,Tt),Y=g(Wt,Y,Ct),Ut===null?Et=Wt:Ut.sibling=Wt,Ut=Wt,Tt=nn}if(Ct===Z.length)return o(K,Tt),Jt&&Ea(K,Ct),Et;if(Tt===null){for(;Ct<Z.length;Ct++)Tt=dt(K,Z[Ct],ht),Tt!==null&&(Y=g(Tt,Y,Ct),Ut===null?Et=Tt:Ut.sibling=Tt,Ut=Tt);return Jt&&Ea(K,Ct),Et}for(Tt=u(Tt);Ct<Z.length;Ct++)nn=st(Tt,K,Ct,Z[Ct],ht),nn!==null&&(r&&nn.alternate!==null&&Tt.delete(nn.key===null?Ct:nn.key),Y=g(nn,Y,Ct),Ut===null?Et=nn:Ut.sibling=nn,Ut=nn);return r&&Tt.forEach(function(Is){return s(K,Is)}),Jt&&Ea(K,Ct),Et}function xt(K,Y,Z,ht){if(Z==null)throw Error(i(151));for(var Et=null,Ut=null,Tt=Y,Ct=Y=0,nn=null,Wt=Z.next();Tt!==null&&!Wt.done;Ct++,Wt=Z.next()){Tt.index>Ct?(nn=Tt,Tt=null):nn=Tt.sibling;var Is=nt(K,Tt,Wt.value,ht);if(Is===null){Tt===null&&(Tt=nn);break}r&&Tt&&Is.alternate===null&&s(K,Tt),Y=g(Is,Y,Ct),Ut===null?Et=Is:Ut.sibling=Is,Ut=Is,Tt=nn}if(Wt.done)return o(K,Tt),Jt&&Ea(K,Ct),Et;if(Tt===null){for(;!Wt.done;Ct++,Wt=Z.next())Wt=dt(K,Wt.value,ht),Wt!==null&&(Y=g(Wt,Y,Ct),Ut===null?Et=Wt:Ut.sibling=Wt,Ut=Wt);return Jt&&Ea(K,Ct),Et}for(Tt=u(Tt);!Wt.done;Ct++,Wt=Z.next())Wt=st(Tt,K,Ct,Wt.value,ht),Wt!==null&&(r&&Wt.alternate!==null&&Tt.delete(Wt.key===null?Ct:Wt.key),Y=g(Wt,Y,Ct),Ut===null?Et=Wt:Ut.sibling=Wt,Ut=Wt);return r&&Tt.forEach(function(kx){return s(K,kx)}),Jt&&Ea(K,Ct),Et}function le(K,Y,Z,ht){if(typeof Z=="object"&&Z!==null&&Z.type===I&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:t:{for(var Et=Z.key;Y!==null;){if(Y.key===Et){if(Et=Z.type,Et===I){if(Y.tag===7){o(K,Y.sibling),ht=d(Y,Z.props.children),ht.return=K,K=ht;break t}}else if(Y.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&k0(Et)===Y.type){o(K,Y.sibling),ht=d(Y,Z.props),su(ht,Z),ht.return=K,K=ht;break t}o(K,Y);break}else s(K,Y);Y=Y.sibling}Z.type===I?(ht=_a(Z.props.children,K.mode,ht,Z.key),ht.return=K,K=ht):(ht=Yc(Z.type,Z.key,Z.props,null,K.mode,ht),su(ht,Z),ht.return=K,K=ht)}return T(K);case S:t:{for(Et=Z.key;Y!==null;){if(Y.key===Et)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){o(K,Y.sibling),ht=d(Y,Z.children||[]),ht.return=K,K=ht;break t}else{o(K,Y);break}else s(K,Y);Y=Y.sibling}ht=Xd(Z,K.mode,ht),ht.return=K,K=ht}return T(K);case R:return Et=Z._init,Z=Et(Z._payload),le(K,Y,Z,ht)}if(et(Z))return Dt(K,Y,Z,ht);if(B(Z)){if(Et=B(Z),typeof Et!="function")throw Error(i(150));return Z=Et.call(Z),xt(K,Y,Z,ht)}if(typeof Z.then=="function")return le(K,Y,ch(Z),ht);if(Z.$$typeof===$)return le(K,Y,Zc(K,Z),ht);hh(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,Y!==null&&Y.tag===6?(o(K,Y.sibling),ht=d(Y,Z),ht.return=K,K=ht):(o(K,Y),ht=Kd(Z,K.mode,ht),ht.return=K,K=ht),T(K)):o(K,Y)}return function(K,Y,Z,ht){try{iu=0;var Et=le(K,Y,Z,ht);return Ro=null,Et}catch(Tt){if(Tt===Xl||Tt===Jc)throw Tt;var Ut=Yn(29,Tt,null,K.mode);return Ut.lanes=ht,Ut.return=K,Ut}finally{}}}var xo=P0(!0),L0=P0(!1),pr=q(null),ri=null;function ms(r){var s=r.alternate;it(Ye,Ye.current&1),it(pr,r),ri===null&&(s===null||To.current!==null||s.memoizedState!==null)&&(ri=r)}function U0(r){if(r.tag===22){if(it(Ye,Ye.current),it(pr,r),ri===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ri=r)}}else ps()}function ps(){it(Ye,Ye.current),it(pr,pr.current)}function Pi(r){tt(pr),ri===r&&(ri=null),tt(Ye)}var Ye=q(0);function fh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||yp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Im={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Zn(),d=hs(u);d.payload=s,o!=null&&(d.callback=o),s=fs(r,d,u),s!==null&&(Wn(s,r,u),Zl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Zn(),d=hs(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=fs(r,d,u),s!==null&&(Wn(s,r,u),Zl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Zn(),u=hs(o);u.tag=2,s!=null&&(u.callback=s),s=fs(r,u,o),s!==null&&(Wn(s,r,o),Zl(s,r,o))}};function z0(r,s,o,u,d,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Hl(o,u)||!Hl(d,g):!0}function B0(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Im.enqueueReplaceState(s,s.state,null)}function xa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function H0(r){dh(r)}function j0(r){console.error(r)}function q0(r){dh(r)}function mh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function F0(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nm(r,s,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){mh(r,s)},o}function $0(r){return r=hs(r),r.tag=3,r}function G0(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){F0(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){F0(s,o,u),typeof d!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function kR(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Gl(s,o,d,!0),o=pr.current,o!==null){switch(o.tag){case 13:return ri===null?tp():o.alternate===null&&be===0&&(be=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===sm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),np(r,u,d)),!1;case 22:return o.flags|=65536,u===sm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),np(r,u,d)),!1}throw Error(i(435,o.tag))}return np(r,u,d),tp(),!1}if(Jt)return s=pr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Wd&&(r=Error(i(422),{cause:u}),$l(hr(r,o)))):(u!==Wd&&(s=Error(i(423),{cause:u}),$l(hr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=hr(u,o),d=Nm(r.stateNode,u,d),lm(r,d),be!==4&&(be=2)),!1;var g=Error(i(520),{cause:u});if(g=hr(g,o),fu===null?fu=[g]:fu.push(g),be!==4&&(be=2),s===null)return!0;u=hr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Nm(o.stateNode,u,r),lm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ws===null||!ws.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$0(d),G0(d,r,o,u),lm(o,d),!1}o=o.return}while(o!==null);return!1}var Y0=Error(i(461)),tn=!1;function un(r,s,o,u){s.child=r===null?L0(s,null,o,u):xo(s,r.child,o,u)}function K0(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return ba(s),u=dm(r,s,o,T,g,d),A=mm(),r!==null&&!tn?(pm(r,s,d),Li(r,s,d)):(Jt&&A&&Qd(s),s.flags|=1,un(r,s,u,d),s.child)}function X0(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Yd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Q0(r,s,g,u,d)):(r=Yc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Um(r,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(T,u)&&r.ref===s.ref)return Li(r,s,d)}return s.flags|=1,r=Ni(g,u),r.ref=s.ref,r.return=s,s.child=r}function Q0(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(Hl(g,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=g,Um(r,d))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Li(r,s,d)}return Dm(r,s,o,u,d)}function Z0(r,s,o){var u=s.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return W0(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wc(s,g!==null?g.cachePool:null),g!==null?Q_(s,g):cm(),U0(s);else return s.lanes=s.childLanes=536870912,W0(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Wc(s,g.cachePool),Q_(s,g),ps(),s.memoizedState=null):(r!==null&&Wc(s,null),cm(),ps());return un(r,s,d,o),s.child}function W0(r,s,o,u){var d=im();return d=d===null?null:{parent:Ge._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Wc(s,null),cm(),U0(s),r!==null&&Gl(r,s,u,!0),null}function ph(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Dm(r,s,o,u,d){return ba(s),o=dm(r,s,o,u,void 0,d),u=mm(),r!==null&&!tn?(pm(r,s,d),Li(r,s,d)):(Jt&&u&&Qd(s),s.flags|=1,un(r,s,o,d),s.child)}function J0(r,s,o,u,d,g){return ba(s),s.updateQueue=null,o=W_(s,u,o,d),Z_(r),u=mm(),r!==null&&!tn?(pm(r,s,g),Li(r,s,g)):(Jt&&u&&Qd(s),s.flags|=1,un(r,s,o,g),s.child)}function tv(r,s,o,u,d){if(ba(s),s.stateNode===null){var g=yo,T=o.contextType;typeof T=="object"&&T!==null&&(g=pn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Im,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},am(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?pn(T):yo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Cm(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Im.enqueueReplaceState(g,g.state,null),Jl(s,u,g,d),Wl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,j=xa(o,A);g.props=j;var W=g.context,lt=o.contextType;T=yo,typeof lt=="object"&&lt!==null&&(T=pn(lt));var dt=o.getDerivedStateFromProps;lt=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||W!==T)&&B0(s,g,u,T),cs=!1;var nt=s.memoizedState;g.state=nt,Jl(s,u,g,d),Wl(),W=s.memoizedState,A||nt!==W||cs?(typeof dt=="function"&&(Cm(s,o,dt,u),W=s.memoizedState),(j=cs||z0(s,o,j,u,nt,W,T))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=T,u=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,om(r,s),T=s.memoizedProps,lt=xa(o,T),g.props=lt,dt=s.pendingProps,nt=g.context,W=o.contextType,j=yo,typeof W=="object"&&W!==null&&(j=pn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==dt||nt!==j)&&B0(s,g,u,j),cs=!1,nt=s.memoizedState,g.state=nt,Jl(s,u,g,d),Wl();var st=s.memoizedState;T!==dt||nt!==st||cs||r!==null&&r.dependencies!==null&&Qc(r.dependencies)?(typeof A=="function"&&(Cm(s,o,A,u),st=s.memoizedState),(lt=cs||z0(s,o,lt,u,nt,st,j)||r!==null&&r.dependencies!==null&&Qc(r.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,st,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,st,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&nt===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&nt===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=st),g.props=u,g.state=st,g.context=j,u=lt):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&nt===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&nt===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,ph(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=xo(s,r.child,null,d),s.child=xo(s,null,o,d)):un(r,s,o,d),s.memoizedState=g.state,r=s.child):r=Li(r,s,d),r}function ev(r,s,o,u){return Fl(),s.flags|=256,un(r,s,o,u),s.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(r){return{baseLanes:r,cachePool:j_()}}function Vm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=gr),r}function nv(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Ye.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Jt){if(d?ms(s):ps(),Jt){var A=Se,j;if(j=A){t:{for(j=A,A=ni;j.nodeType!==8;){if(!A){A=null;break t}if(j=Cr(j.nextSibling),j===null){A=null;break t}}A=j}A!==null?(s.memoizedState={dehydrated:A,treeContext:va!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},j=Yn(18,null,null,0),j.stateNode=A,j.return=s,s.child=j,Nn=s,Se=null,j=!0):j=!1}j||Ta(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return yp(A)?s.lanes=32:s.lanes=536870912,null;Pi(s)}return A=u.children,u=u.fallback,d?(ps(),d=s.mode,A=gh({mode:"hidden",children:A},d),u=_a(u,d,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,d=s.child,d.memoizedState=Om(o),d.childLanes=Vm(r,T,o),s.memoizedState=Mm,u):(ms(s),km(s,A))}if(j=r.memoizedState,j!==null&&(A=j.dehydrated,A!==null)){if(g)s.flags&256?(ms(s),s.flags&=-257,s=Pm(r,s,o)):s.memoizedState!==null?(ps(),s.child=r.child,s.flags|=128,s=null):(ps(),d=u.fallback,A=s.mode,u=gh({mode:"visible",children:u.children},A),d=_a(d,A,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,xo(s,r.child,null,o),u=s.child,u.memoizedState=Om(o),u.childLanes=Vm(r,T,o),s.memoizedState=Mm,s=d);else if(ms(s),yp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var W=T.dgst;T=W,u=Error(i(419)),u.stack="",u.digest=T,$l({value:u,source:null,stack:null}),s=Pm(r,s,o)}else if(tn||Gl(r,s,o,!1),T=(o&r.childLanes)!==0,tn||T){if(T=he,T!==null&&(u=o&-o,u=(u&42)!==0?1:jr(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,go(r,u),Wn(T,r,u),Y0;A.data==="$?"||tp(),s=Pm(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=j.treeContext,Se=Cr(A.nextSibling),Nn=s,Jt=!0,wa=null,ni=!1,r!==null&&(dr[mr++]=Di,dr[mr++]=Mi,dr[mr++]=va,Di=r.id,Mi=r.overflow,va=s),s=km(s,u.children),s.flags|=4096);return s}return d?(ps(),d=u.fallback,A=s.mode,j=r.child,W=j.sibling,u=Ni(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,W!==null?d=Ni(W,d):(d=_a(d,A,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,A=r.child.memoizedState,A===null?A=Om(o):(j=A.cachePool,j!==null?(W=Ge._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=j_(),A={baseLanes:A.baseLanes|o,cachePool:j}),d.memoizedState=A,d.childLanes=Vm(r,T,o),s.memoizedState=Mm,u):(ms(s),o=r.child,r=o.sibling,o=Ni(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function km(r,s){return s=gh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function gh(r,s){return r=Yn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pm(r,s,o){return xo(s,r.child,null,o),r=km(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function rv(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),tm(r.return,s,o)}function Lm(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function iv(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(un(r,s,u.children,o),u=Ye.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rv(r,o,s);else if(r.tag===19)rv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(it(Ye,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&fh(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Lm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&fh(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Lm(s,!0,o,null,g);break;case"together":Lm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Li(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Es|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Gl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ni(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ni(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Um(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qc(r)))}function PR(r,s,o){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),us(s,Ge,r.memoizedState.cache),Fl();break;case 27:case 5:Gt(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:us(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ms(s),s.flags|=128,null):(o&s.child.childLanes)!==0?nv(r,s,o):(ms(s),r=Li(r,s,o),r!==null?r.sibling:null);ms(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Gl(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return iv(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),it(Ye,Ye.current),u)break;return null;case 22:case 23:return s.lanes=0,Z0(r,s,o);case 24:us(s,Ge,r.memoizedState.cache)}return Li(r,s,o)}function sv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Um(r,o)&&(s.flags&128)===0)return tn=!1,PR(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,Jt&&(s.flags&1048576)!==0&&k_(s,Xc,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Yd(u)?(r=xa(u,r),s.tag=1,s=tv(null,s,u,r,o)):(s.tag=0,s=Dm(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===G){s.tag=11,s=K0(null,s,u,r,o);break t}else if(d===P){s.tag=14,s=X0(null,s,u,r,o);break t}}throw s=L(u)||u,Error(i(306,s,""))}}return s;case 0:return Dm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=xa(u,s.pendingProps),tv(r,s,u,d,o);case 3:t:{if(At(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,om(r,s),Jl(s,u,null,o);var T=s.memoizedState;if(u=T.cache,us(s,Ge,u),u!==g.cache&&em(s,[Ge],o,!0),Wl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=ev(r,s,u,o);break t}else if(u!==d){d=hr(Error(i(424)),s),$l(d),s=ev(r,s,u,o);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Se=Cr(r.firstChild),Nn=s,Jt=!0,wa=null,ni=!0,o=L0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Fl(),u===d){s=Li(r,s,o);break t}un(r,s,u,o)}s=s.child}return s;case 26:return ph(r,s),r===null?(o=uE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Jt||(o=s.type,r=s.pendingProps,u=Nh(_t.current).createElement(o),u[xe]=s,u[Te]=r,hn(u,o,r),_e(u),s.stateNode=u):s.memoizedState=uE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Gt(s),r===null&&Jt&&(u=s.stateNode=aE(s.type,s.pendingProps,_t.current),Nn=s,ni=!0,d=Se,bs(s.type)?(_p=d,Se=Cr(u.firstChild)):Se=d),un(r,s,s.pendingProps.children,o),ph(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Jt&&((d=u=Se)&&(u=cx(u,s.type,s.pendingProps,ni),u!==null?(s.stateNode=u,Nn=s,Se=Cr(u.firstChild),ni=!1,d=!0):d=!1),d||Ta(s)),Gt(s),d=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,mp(d,g)?u=null:T!==null&&mp(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=dm(r,s,CR,null,null,o),wu._currentValue=d),ph(r,s),un(r,s,u,o),s.child;case 6:return r===null&&Jt&&((r=o=Se)&&(o=hx(o,s.pendingProps,ni),o!==null?(s.stateNode=o,Nn=s,Se=null,r=!0):r=!1),r||Ta(s)),null;case 13:return nv(r,s,o);case 4:return At(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=xo(s,null,u,o):un(r,s,u,o),s.child;case 11:return K0(r,s,s.type,s.pendingProps,o);case 7:return un(r,s,s.pendingProps,o),s.child;case 8:return un(r,s,s.pendingProps.children,o),s.child;case 12:return un(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,us(s,s.type,u.value),un(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ba(s),d=pn(d),u=u(d),s.flags|=1,un(r,s,u,o),s.child;case 14:return X0(r,s,s.type,s.pendingProps,o);case 15:return Q0(r,s,s.type,s.pendingProps,o);case 19:return iv(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=gh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ni(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Z0(r,s,o);case 24:return ba(s),u=pn(Ge),r===null?(d=im(),d===null&&(d=he,g=nm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},am(s),us(s,Ge,d)):((r.lanes&o)!==0&&(om(r,s),Jl(s,null,null,o),Wl()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),us(s,Ge,u)):(u=g.cache,us(s,Ge,u),u!==d.cache&&em(s,[Ge],o,!0))),un(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ui(r){r.flags|=4}function av(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!mE(s)){if(s=pr.current,s!==null&&((Xt&4194048)===Xt?ri!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||s!==ri))throw Ql=sm,q_;r.flags|=8192}}function yh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Tr():536870912,r.lanes|=s,Do|=s)}function au(r,s){if(!Jt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ve(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function LR(r,s,o){var u=s.pendingProps;switch(Zd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(s),null;case 1:return ve(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Vi(Ge),Zt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ql(s)?Ui(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,U_())),ve(s),null;case 26:return o=s.memoizedState,r===null?(Ui(s),o!==null?(ve(s),av(s,o)):(ve(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ui(s),ve(s),av(s,o)):(ve(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ui(s),ve(s),s.flags&=-16777217),null;case 27:Re(s),o=_t.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ui(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ve(s),null}r=ft.current,ql(s)?P_(s):(r=aE(d,u,o),s.stateNode=r,Ui(s))}return ve(s),null;case 5:if(Re(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ui(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ve(s),null}if(r=ft.current,ql(s))P_(s);else{switch(d=Nh(_t.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[xe]=s,r[Te]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;t:switch(hn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ui(s)}}return ve(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ui(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_t.current,ql(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=Nn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[xe]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Jv(r.nodeValue,o)),r||Ta(s)}else r=Nh(r).createTextNode(u),r[xe]=s,s.stateNode=r}return ve(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=ql(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[xe]=s}else Fl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ve(s),d=!1}else d=U_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Pi(s),s):(Pi(s),null)}if(Pi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),yh(s,s.updateQueue),ve(s),null;case 4:return Zt(),r===null&&up(s.stateNode.containerInfo),ve(s),null;case 10:return Vi(s.type),ve(s),null;case 19:if(tt(Ye),d=s.memoizedState,d===null)return ve(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)au(d,!1);else{if(be!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=fh(r),g!==null){for(s.flags|=128,au(d,!1),r=g.updateQueue,s.updateQueue=r,yh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)V_(o,r),o=o.sibling;return it(Ye,Ye.current&1|2),s.child}r=r.sibling}d.tail!==null&&Lt()>Eh&&(s.flags|=128,u=!0,au(d,!1),s.lanes=4194304)}else{if(!u)if(r=fh(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,yh(s,r),au(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Jt)return ve(s),null}else 2*Lt()-d.renderingStartTime>Eh&&o!==536870912&&(s.flags|=128,u=!0,au(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Lt(),s.sibling=null,r=Ye.current,it(Ye,u?r&1|2:r&1),s):(ve(s),null);case 22:case 23:return Pi(s),hm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ve(s),s.subtreeFlags&6&&(s.flags|=8192)):ve(s),o=s.updateQueue,o!==null&&yh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&tt(Aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Vi(Ge),ve(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function UR(r,s){switch(Zd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Vi(Ge),Zt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Re(s),null;case 13:if(Pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Fl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(Ye),null;case 4:return Zt(),null;case 10:return Vi(s.type),null;case 22:case 23:return Pi(s),hm(),r!==null&&tt(Aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Vi(Ge),null;case 25:return null;default:return null}}function ov(r,s){switch(Zd(s),s.tag){case 3:Vi(Ge),Zt();break;case 26:case 27:case 5:Re(s);break;case 4:Zt();break;case 13:Pi(s);break;case 19:tt(Ye);break;case 10:Vi(s.type);break;case 22:case 23:Pi(s),hm(),r!==null&&tt(Aa);break;case 24:Vi(Ge)}}function ou(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(A){ue(s,s.return,A)}}function gs(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,d=s;var j=o,W=A;try{W()}catch(lt){ue(d,j,lt)}}}u=u.next}while(u!==g)}}catch(lt){ue(s,s.return,lt)}}function lv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{X_(s,o)}catch(u){ue(r,r.return,u)}}}function uv(r,s,o){o.props=xa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ue(r,s,u)}}function lu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){ue(r,s,d)}}function ii(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ue(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ue(r,s,d)}else o.current=null}function cv(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ue(r,r.return,d)}}function zm(r,s,o){try{var u=r.stateNode;sx(u,r.type,o,s),u[Te]=s}catch(d){ue(r,r.return,d)}}function hv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bs(r.type)||r.tag===4}function Bm(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||hv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ih));else if(u!==4&&(u===27&&bs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Hm(r,s,o),r=r.sibling;r!==null;)Hm(r,s,o),r=r.sibling}function _h(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&bs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(_h(r,s,o),r=r.sibling;r!==null;)_h(r,s,o),r=r.sibling}function fv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);hn(s,u,o),s[xe]=r,s[Te]=o}catch(g){ue(r,r.return,g)}}var zi=!1,Ie=!1,jm=!1,dv=typeof WeakSet=="function"?WeakSet:Set,en=null;function zR(r,s){if(r=r.containerInfo,fp=Ph,r=b_(r),Bd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,A=-1,j=-1,W=0,lt=0,dt=r,nt=null;e:for(;;){for(var st;dt!==o||d!==0&&dt.nodeType!==3||(A=T+d),dt!==g||u!==0&&dt.nodeType!==3||(j=T+u),dt.nodeType===3&&(T+=dt.nodeValue.length),(st=dt.firstChild)!==null;)nt=dt,dt=st;for(;;){if(dt===r)break e;if(nt===o&&++W===d&&(A=T),nt===g&&++lt===u&&(j=T),(st=dt.nextSibling)!==null)break;dt=nt,nt=dt.parentNode}dt=st}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:r,selectionRange:o},Ph=!1,en=s;en!==null;)if(s=en,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,en=r;else for(;en!==null;){switch(s=en,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Dt=xa(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Dt,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(xt){ue(o,o.return,xt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)gp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,en=r;break}en=s.return}}function mv(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ys(r,o),u&4&&ou(5,o);break;case 1:if(ys(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){ue(o,o.return,T)}else{var d=xa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ue(o,o.return,T)}}u&64&&lv(o),u&512&&lu(o,o.return);break;case 3:if(ys(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{X_(r,s)}catch(T){ue(o,o.return,T)}}break;case 27:s===null&&u&4&&fv(o);case 26:case 5:ys(r,o),s===null&&u&4&&cv(o),u&512&&lu(o,o.return);break;case 12:ys(r,o);break;case 13:ys(r,o),u&4&&yv(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=KR.bind(null,o),fx(r,o))));break;case 22:if(u=o.memoizedState!==null||zi,!u){s=s!==null&&s.memoizedState!==null||Ie,d=zi;var g=Ie;zi=u,(Ie=s)&&!g?_s(r,o,(o.subtreeFlags&8772)!==0):ys(r,o),zi=d,Ie=g}break;case 30:break;default:ys(r,o)}}function pv(r){var s=r.alternate;s!==null&&(r.alternate=null,pv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&$r(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pe=null,kn=!1;function Bi(r,s,o){for(o=o.child;o!==null;)gv(r,s,o),o=o.sibling}function gv(r,s,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(te,o)}catch{}switch(o.tag){case 26:Ie||ii(o,s),Bi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ie||ii(o,s);var u=pe,d=kn;bs(o.type)&&(pe=o.stateNode,kn=!1),Bi(r,s,o),yu(o.stateNode),pe=u,kn=d;break;case 5:Ie||ii(o,s);case 6:if(u=pe,d=kn,pe=null,Bi(r,s,o),pe=u,kn=d,pe!==null)if(kn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(o.stateNode)}catch(g){ue(o,s,g)}else try{pe.removeChild(o.stateNode)}catch(g){ue(o,s,g)}break;case 18:pe!==null&&(kn?(r=pe,iE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Au(r)):iE(pe,o.stateNode));break;case 4:u=pe,d=kn,pe=o.stateNode.containerInfo,kn=!0,Bi(r,s,o),pe=u,kn=d;break;case 0:case 11:case 14:case 15:Ie||gs(2,o,s),Ie||gs(4,o,s),Bi(r,s,o);break;case 1:Ie||(ii(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&uv(o,s,u)),Bi(r,s,o);break;case 21:Bi(r,s,o);break;case 22:Ie=(u=Ie)||o.memoizedState!==null,Bi(r,s,o),Ie=u;break;default:Bi(r,s,o)}}function yv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Au(r)}catch(o){ue(s,s.return,o)}}function BR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dv),s;default:throw Error(i(435,r.tag))}}function qm(r,s){var o=BR(r);s.forEach(function(u){var d=XR.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function Kn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(bs(A.type)){pe=A.stateNode,kn=!1;break t}break;case 5:pe=A.stateNode,kn=!1;break t;case 3:case 4:pe=A.stateNode.containerInfo,kn=!0;break t}A=A.return}if(pe===null)throw Error(i(160));gv(g,T,d),pe=null,kn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)_v(s,r),s=s.sibling}var xr=null;function _v(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Kn(s,r),Xn(r),u&4&&(gs(3,r,r.return),ou(3,r),gs(5,r,r.return));break;case 1:Kn(s,r),Xn(r),u&512&&(Ie||o===null||ii(o,o.return)),u&64&&zi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=xr;if(Kn(s,r),Xn(r),u&512&&(Ie||o===null||ii(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){t:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[wi]||g[xe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),hn(g,u,o),g[xe]=r,_e(g),u=g;break t;case"link":var T=fE("link","href",d).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}g=d.createElement(u),hn(g,u,o),d.head.appendChild(g);break;case"meta":if(T=fE("meta","content",d).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}g=d.createElement(u),hn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[xe]=r,_e(g),u=g}r.stateNode=u}else dE(d,r.type,r.stateNode);else r.stateNode=hE(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?dE(d,r.type,r.stateNode):hE(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&zm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Kn(s,r),Xn(r),u&512&&(Ie||o===null||ii(o,o.return)),o!==null&&u&4&&zm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Kn(s,r),Xn(r),u&512&&(Ie||o===null||ii(o,o.return)),r.flags&32){d=r.stateNode;try{or(d,"")}catch(st){ue(r,r.return,st)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,zm(r,d,o!==null?o.memoizedProps:d)),u&1024&&(jm=!0);break;case 6:if(Kn(s,r),Xn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(st){ue(r,r.return,st)}}break;case 3:if(Oh=null,d=xr,xr=Dh(s.containerInfo),Kn(s,r),xr=d,Xn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Au(s.containerInfo)}catch(st){ue(r,r.return,st)}jm&&(jm=!1,vv(r));break;case 4:u=xr,xr=Dh(r.stateNode.containerInfo),Kn(s,r),Xn(r),xr=u;break;case 12:Kn(s,r),Xn(r);break;case 13:Kn(s,r),Xn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xm=Lt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qm(r,u)));break;case 22:d=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,W=zi,lt=Ie;if(zi=W||d,Ie=lt||j,Kn(s,r),Ie=lt,zi=W,Xn(r),u&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||j||zi||Ie||Ca(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=j.stateNode;var dt=j.memoizedProps.style,nt=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;A.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(st){ue(j,j.return,st)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(st){ue(j,j.return,st)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qm(r,o))));break;case 19:Kn(s,r),Xn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qm(r,u)));break;case 30:break;case 21:break;default:Kn(s,r),Xn(r)}}function Xn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(hv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=Bm(r);_h(r,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(or(T,""),o.flags&=-33);var A=Bm(r);_h(r,A,T);break;case 3:case 4:var j=o.stateNode.containerInfo,W=Bm(r);Hm(r,W,j);break;default:throw Error(i(161))}}catch(lt){ue(r,r.return,lt)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ys(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mv(r,s.alternate,s),s=s.sibling}function Ca(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:gs(4,s,s.return),Ca(s);break;case 1:ii(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&uv(s,s.return,o),Ca(s);break;case 27:yu(s.stateNode);case 26:case 5:ii(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}r=r.sibling}}function _s(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:_s(d,g,o),ou(4,g);break;case 1:if(_s(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){ue(u,u.return,W)}if(u=g,d=u.updateQueue,d!==null){var A=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)K_(j[d],A)}catch(W){ue(u,u.return,W)}}o&&T&64&&lv(g),lu(g,g.return);break;case 27:fv(g);case 26:case 5:_s(d,g,o),o&&u===null&&T&4&&cv(g),lu(g,g.return);break;case 12:_s(d,g,o);break;case 13:_s(d,g,o),o&&T&4&&yv(d,g);break;case 22:g.memoizedState===null&&_s(d,g,o),lu(g,g.return);break;case 30:break;default:_s(d,g,o)}s=s.sibling}}function Fm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Yl(o))}function $m(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yl(r))}function si(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ev(r,s,o,u),s=s.sibling}function Ev(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:si(r,s,o,u),d&2048&&ou(9,s);break;case 1:si(r,s,o,u);break;case 3:si(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yl(r)));break;case 12:if(d&2048){si(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){ue(s,s.return,j)}}else si(r,s,o,u);break;case 13:si(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?si(r,s,o,u):uu(r,s):g._visibility&2?si(r,s,o,u):(g._visibility|=2,Co(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Fm(T,s);break;case 24:si(r,s,o,u),d&2048&&$m(s.alternate,s);break;default:si(r,s,o,u)}}function Co(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,A=o,j=u,W=T.flags;switch(T.tag){case 0:case 11:case 15:Co(g,T,A,j,d),ou(8,T);break;case 23:break;case 22:var lt=T.stateNode;T.memoizedState!==null?lt._visibility&2?Co(g,T,A,j,d):uu(g,T):(lt._visibility|=2,Co(g,T,A,j,d)),d&&W&2048&&Fm(T.alternate,T);break;case 24:Co(g,T,A,j,d),d&&W&2048&&$m(T.alternate,T);break;default:Co(g,T,A,j,d)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:uu(o,u),d&2048&&Fm(u.alternate,u);break;case 24:uu(o,u),d&2048&&$m(u.alternate,u);break;default:uu(o,u)}s=s.sibling}}var cu=8192;function Io(r){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)wv(r),r=r.sibling}function wv(r){switch(r.tag){case 26:Io(r),r.flags&cu&&r.memoizedState!==null&&Ax(xr,r.memoizedState,r.memoizedProps);break;case 5:Io(r);break;case 3:case 4:var s=xr;xr=Dh(r.stateNode.containerInfo),Io(r),xr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=cu,cu=16777216,Io(r),cu=s):Io(r));break;default:Io(r)}}function Tv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];en=u,bv(u,r)}Tv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sv(r),r=r.sibling}function Sv(r){switch(r.tag){case 0:case 11:case 15:hu(r),r.flags&2048&&gs(9,r,r.return);break;case 3:hu(r);break;case 12:hu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,vh(r)):hu(r);break;default:hu(r)}}function vh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];en=u,bv(u,r)}Tv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:gs(8,s,s.return),vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,vh(s));break;default:vh(s)}r=r.sibling}}function bv(r,s){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:gs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else t:for(o=r;en!==null;){u=en;var d=u.sibling,g=u.return;if(pv(u),u===o){en=null;break t}if(d!==null){d.return=g,en=d;break t}en=g}}}var HR={getCacheForType:function(r){var s=pn(Ge),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},jR=typeof WeakMap=="function"?WeakMap:Map,re=0,he=null,Ht=null,Xt=0,ie=0,Qn=null,vs=!1,No=!1,Gm=!1,Hi=0,be=0,Es=0,Ia=0,Ym=0,gr=0,Do=0,fu=null,Pn=null,Km=!1,Xm=0,Eh=1/0,wh=null,ws=null,cn=0,Ts=null,Mo=null,Oo=0,Qm=0,Zm=null,Av=null,du=0,Wm=null;function Zn(){if((re&2)!==0&&Xt!==0)return Xt&-Xt;if(V.T!==null){var r=Eo;return r!==0?r:sp()}return qr()}function Rv(){gr===0&&(gr=(Xt&536870912)===0||Jt?Ei():536870912);var r=pr.current;return r!==null&&(r.flags|=32),gr}function Wn(r,s,o){(r===he&&(ie===2||ie===9)||r.cancelPendingCommit!==null)&&(Vo(r,0),Ss(r,Xt,gr,!1)),er(r,o),((re&2)===0||r!==he)&&(r===he&&((re&2)===0&&(Ia|=o),be===4&&Ss(r,Xt,gr,!1)),ai(r))}function xv(r,s,o){if((re&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||xn(r,s),d=u?$R(r,s):ep(r,s,!0),g=u;do{if(d===0){No&&!u&&Ss(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!qR(o)){d=ep(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=r;d=fu;var j=A.current.memoizedState.isDehydrated;if(j&&(Vo(A,T).flags|=256),T=ep(A,T,!1),T!==2){if(Gm&&!j){A.errorRecoveryDisabledLanes|=g,Ia|=g,d=4;break t}g=Pn,Pn=d,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Vo(r,0),Ss(r,s,0,!0);break}t:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ss(u,s,gr,!vs);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Xm+300-Lt(),10<d)){if(Ss(u,s,gr,!vs),an(u,0,!0)!==0)break t;u.timeoutHandle=nE(Cv.bind(null,u,o,Pn,wh,Km,s,gr,Ia,Do,vs,g,2,-0,0),d);break t}Cv(u,o,Pn,wh,Km,s,gr,Ia,Do,vs,g,0,-0,0)}}break}while(!0);ai(r)}function Cv(r,s,o,u,d,g,T,A,j,W,lt,dt,nt,st){if(r.timeoutHandle=-1,dt=s.subtreeFlags,(dt&8192||(dt&16785408)===16785408)&&(Eu={stylesheets:null,count:0,unsuspend:bx},wv(s),dt=Rx(),dt!==null)){r.cancelPendingCommit=dt(kv.bind(null,r,s,g,o,u,d,T,A,j,lt,1,nt,st)),Ss(r,g,T,!W);return}kv(r,s,g,o,u,d,T,A,j)}function qR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(r,s,o,u){s&=~Ym,s&=~Ia,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-ye(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&nr(r,o,s)}function Th(){return(re&6)===0?(mu(0),!1):!0}function Jm(){if(Ht!==null){if(ie===0)var r=Ht.return;else r=Ht,Oi=Sa=null,gm(r),Ro=null,iu=0,r=Ht;for(;r!==null;)ov(r.alternate,r),r=r.return;Ht=null}}function Vo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,ox(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Jm(),he=r,Ht=o=Ni(r.current,null),Xt=s,ie=0,Qn=null,vs=!1,No=xn(r,s),Gm=!1,Do=gr=Ym=Ia=Es=be=0,Pn=fu=null,Km=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-ye(u),g=1<<d;s|=r[d],u&=~g}return Hi=s,Fc(),o}function Iv(r,s){Pt=null,V.H=uh,s===Xl||s===Jc?(s=G_(),ie=3):s===q_?(s=G_(),ie=4):ie=s===Y0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,Ht===null&&(be=1,mh(r,hr(s,r.current)))}function Nv(){var r=V.H;return V.H=uh,r===null?uh:r}function Dv(){var r=V.A;return V.A=HR,r}function tp(){be=4,vs||(Xt&4194048)!==Xt&&pr.current!==null||(No=!0),(Es&134217727)===0&&(Ia&134217727)===0||he===null||Ss(he,Xt,gr,!1)}function ep(r,s,o){var u=re;re|=2;var d=Nv(),g=Dv();(he!==r||Xt!==s)&&(wh=null,Vo(r,s)),s=!1;var T=be;t:do try{if(ie!==0&&Ht!==null){var A=Ht,j=Qn;switch(ie){case 8:Jm(),T=6;break t;case 3:case 2:case 9:case 6:pr.current===null&&(s=!0);var W=ie;if(ie=0,Qn=null,ko(r,A,j,W),o&&No){T=0;break t}break;default:W=ie,ie=0,Qn=null,ko(r,A,j,W)}}FR(),T=be;break}catch(lt){Iv(r,lt)}while(!0);return s&&r.shellSuspendCounter++,Oi=Sa=null,re=u,V.H=d,V.A=g,Ht===null&&(he=null,Xt=0,Fc()),T}function FR(){for(;Ht!==null;)Mv(Ht)}function $R(r,s){var o=re;re|=2;var u=Nv(),d=Dv();he!==r||Xt!==s?(wh=null,Eh=Lt()+500,Vo(r,s)):No=xn(r,s);t:do try{if(ie!==0&&Ht!==null){s=Ht;var g=Qn;e:switch(ie){case 1:ie=0,Qn=null,ko(r,s,g,1);break;case 2:case 9:if(F_(g)){ie=0,Qn=null,Ov(s);break}s=function(){ie!==2&&ie!==9||he!==r||(ie=7),ai(r)},g.then(s,s);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:F_(g)?(ie=0,Qn=null,Ov(s)):(ie=0,Qn=null,ko(r,s,g,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var A=Ht;if(!T||mE(T)){ie=0,Qn=null;var j=A.sibling;if(j!==null)Ht=j;else{var W=A.return;W!==null?(Ht=W,Sh(W)):Ht=null}break e}}ie=0,Qn=null,ko(r,s,g,5);break;case 6:ie=0,Qn=null,ko(r,s,g,6);break;case 8:Jm(),be=6;break t;default:throw Error(i(462))}}GR();break}catch(lt){Iv(r,lt)}while(!0);return Oi=Sa=null,V.H=u,V.A=d,re=o,Ht!==null?0:(he=null,Xt=0,Fc(),be)}function GR(){for(;Ht!==null&&!fe();)Mv(Ht)}function Mv(r){var s=sv(r.alternate,r,Hi);r.memoizedProps=r.pendingProps,s===null?Sh(r):Ht=s}function Ov(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=J0(o,s,s.pendingProps,s.type,void 0,Xt);break;case 11:s=J0(o,s,s.pendingProps,s.type.render,s.ref,Xt);break;case 5:gm(s);default:ov(o,s),s=Ht=V_(s,Hi),s=sv(o,s,Hi)}r.memoizedProps=r.pendingProps,s===null?Sh(r):Ht=s}function ko(r,s,o,u){Oi=Sa=null,gm(s),Ro=null,iu=0;var d=s.return;try{if(kR(r,d,s,o,Xt)){be=1,mh(r,hr(o,r.current)),Ht=null;return}}catch(g){if(d!==null)throw Ht=d,g;be=1,mh(r,hr(o,r.current)),Ht=null;return}s.flags&32768?(Jt||u===1?r=!0:No||(Xt&536870912)!==0?r=!1:(vs=r=!0,(u===2||u===9||u===3||u===6)&&(u=pr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Vv(s,r)):Sh(s)}function Sh(r){var s=r;do{if((s.flags&32768)!==0){Vv(s,vs);return}r=s.return;var o=LR(s.alternate,s,Hi);if(o!==null){Ht=o;return}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=r}while(s!==null);be===0&&(be=5)}function Vv(r,s){do{var o=UR(r.alternate,r);if(o!==null){o.flags&=32767,Ht=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ht=r;return}Ht=r=o}while(r!==null);be=6,Ht=null}function kv(r,s,o,u,d,g,T,A,j){r.cancelPendingCommit=null;do bh();while(cn!==0);if((re&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=$d,qn(r,o,g,T,A,j),r===he&&(Ht=he=null,Xt=0),Mo=s,Ts=r,Oo=o,Qm=g,Zm=d,Av=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,QR(Bn,function(){return Bv(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=V.T,V.T=null,d=F.p,F.p=2,T=re,re|=4;try{zR(r,s,o)}finally{re=T,F.p=d,V.T=u}}cn=1,Pv(),Lv(),Uv()}}function Pv(){if(cn===1){cn=0;var r=Ts,s=Mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var u=F.p;F.p=2;var d=re;re|=4;try{_v(s,r);var g=dp,T=b_(r.containerInfo),A=g.focusedElem,j=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&S_(A.ownerDocument.documentElement,A)){if(j!==null&&Bd(A)){var W=j.start,lt=j.end;if(lt===void 0&&(lt=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(lt,A.value.length);else{var dt=A.ownerDocument||document,nt=dt&&dt.defaultView||window;if(nt.getSelection){var st=nt.getSelection(),Dt=A.textContent.length,xt=Math.min(j.start,Dt),le=j.end===void 0?xt:Math.min(j.end,Dt);!st.extend&&xt>le&&(T=le,le=xt,xt=T);var K=T_(A,xt),Y=T_(A,le);if(K&&Y&&(st.rangeCount!==1||st.anchorNode!==K.node||st.anchorOffset!==K.offset||st.focusNode!==Y.node||st.focusOffset!==Y.offset)){var Z=dt.createRange();Z.setStart(K.node,K.offset),st.removeAllRanges(),xt>le?(st.addRange(Z),st.extend(Y.node,Y.offset)):(Z.setEnd(Y.node,Y.offset),st.addRange(Z))}}}}for(dt=[],st=A;st=st.parentNode;)st.nodeType===1&&dt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<dt.length;A++){var ht=dt[A];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Ph=!!fp,dp=fp=null}finally{re=d,F.p=u,V.T=o}}r.current=s,cn=2}}function Lv(){if(cn===2){cn=0;var r=Ts,s=Mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var u=F.p;F.p=2;var d=re;re|=4;try{mv(r,s.alternate,s)}finally{re=d,F.p=u,V.T=o}}cn=3}}function Uv(){if(cn===4||cn===3){cn=0,Sn();var r=Ts,s=Mo,o=Oo,u=Av;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,Mo=Ts=null,zv(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ws=null),is(o),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(te,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=V.T,d=F.p,F.p=2,V.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var A=u[T];g(A.value,{componentStack:A.stack})}}finally{V.T=s,F.p=d}}(Oo&3)!==0&&bh(),ai(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Wm?du++:(du=0,Wm=r):du=0,mu(0)}}function zv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Yl(s)))}function bh(r){return Pv(),Lv(),Uv(),Bv()}function Bv(){if(cn!==5)return!1;var r=Ts,s=Qm;Qm=0;var o=is(Oo),u=V.T,d=F.p;try{F.p=32>o?32:o,V.T=null,o=Zm,Zm=null;var g=Ts,T=Oo;if(cn=0,Mo=Ts=null,Oo=0,(re&6)!==0)throw Error(i(331));var A=re;if(re|=4,Sv(g.current),Ev(g,g.current,T,o),re=A,mu(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(te,g)}catch{}return!0}finally{F.p=d,V.T=u,zv(r,s)}}function Hv(r,s,o){s=hr(o,s),s=Nm(r.stateNode,s,2),r=fs(r,s,2),r!==null&&(er(r,2),ai(r))}function ue(r,s,o){if(r.tag===3)Hv(r,r,o);else for(;s!==null;){if(s.tag===3){Hv(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ws===null||!ws.has(u))){r=hr(o,r),o=$0(2),u=fs(s,o,2),u!==null&&(G0(o,u,s,r),er(u,2),ai(u));break}}s=s.return}}function np(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new jR;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Gm=!0,d.add(o),r=YR.bind(null,r,s,o),s.then(r,r))}function YR(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,he===r&&(Xt&o)===o&&(be===4||be===3&&(Xt&62914560)===Xt&&300>Lt()-Xm?(re&2)===0&&Vo(r,0):Ym|=o,Do===Xt&&(Do=0)),ai(r)}function jv(r,s){s===0&&(s=Tr()),r=go(r,s),r!==null&&(er(r,s),ai(r))}function KR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),jv(r,o)}function XR(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),jv(r,o)}function QR(r,s){return He(r,s)}var Ah=null,Po=null,rp=!1,Rh=!1,ip=!1,Na=0;function ai(r){r!==Po&&r.next===null&&(Po===null?Ah=Po=r:Po=Po.next=r),Rh=!0,rp||(rp=!0,WR())}function mu(r,s){if(!ip&&Rh){ip=!0;do for(var o=!1,u=Ah;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-ye(42|r)+1)-1,g&=d&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Gv(u,g))}else g=Xt,g=an(u,u===he?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||xn(u,g)||(o=!0,Gv(u,g));u=u.next}while(o);ip=!1}}function ZR(){qv()}function qv(){Rh=rp=!1;var r=0;Na!==0&&(ax()&&(r=Na),Na=0);for(var s=Lt(),o=null,u=Ah;u!==null;){var d=u.next,g=Fv(u,s);g===0?(u.next=null,o===null?Ah=d:o.next=d,d===null&&(Po=o)):(o=u,(r!==0||(g&3)!==0)&&(Rh=!0)),u=d}mu(r)}function Fv(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-ye(g),A=1<<T,j=d[T];j===-1?((A&o)===0||(A&u)!==0)&&(d[T]=vi(A,s)):j<=s&&(r.expiredLanes|=A),g&=~A}if(s=he,o=Xt,o=an(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(ie===2||ie===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Me(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||xn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Me(u),is(o)){case 2:case 8:o=Mn;break;case 32:o=Bn;break;case 268435456:o=Hn;break;default:o=Bn}return u=$v.bind(null,r),o=He(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Me(u),r.callbackPriority=2,r.callbackNode=null,2}function $v(r,s){if(cn!==0&&cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(bh()&&r.callbackNode!==o)return null;var u=Xt;return u=an(r,r===he?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(xv(r,u,s),Fv(r,Lt()),r.callbackNode!=null&&r.callbackNode===o?$v.bind(null,r):null)}function Gv(r,s){if(bh())return null;xv(r,s,!0)}function WR(){lx(function(){(re&6)!==0?He(je,ZR):qv()})}function sp(){return Na===0&&(Na=Ei()),Na}function Yv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ro(""+r)}function Kv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function JR(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Yv((d[Te]||null).action),T=u.submitter;T&&(s=(s=T[Te]||null)?Yv(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new io("action","action",null,u,d);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Na!==0){var j=T?Kv(d,T):new FormData(d);Am(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(A.preventDefault(),j=T?Kv(d,T):new FormData(d),Am(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var ap=0;ap<Fd.length;ap++){var op=Fd[ap],tx=op.toLowerCase(),ex=op[0].toUpperCase()+op.slice(1);Rr(tx,"on"+ex)}Rr(x_,"onAnimationEnd"),Rr(C_,"onAnimationIteration"),Rr(I_,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(_R,"onTransitionRun"),Rr(vR,"onTransitionStart"),Rr(ER,"onTransitionCancel"),Rr(N_,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function Xv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],j=A.instance,W=A.currentTarget;if(A=A.listener,j!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=W;try{g(d)}catch(lt){dh(lt)}d.currentTarget=null,g=j}else for(T=0;T<u.length;T++){if(A=u[T],j=A.instance,W=A.currentTarget,A=A.listener,j!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=W;try{g(d)}catch(lt){dh(lt)}d.currentTarget=null,g=j}}}}function jt(r,s){var o=s[na];o===void 0&&(o=s[na]=new Set);var u=r+"__bubble";o.has(u)||(Qv(s,r,2,!1),o.add(u))}function lp(r,s,o){var u=0;s&&(u|=4),Qv(o,r,u,s)}var xh="_reactListening"+Math.random().toString(36).slice(2);function up(r){if(!r[xh]){r[xh]=!0,ra.forEach(function(o){o!=="selectionchange"&&(nx.has(o)||lp(o,!1,r),lp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xh]||(s[xh]=!0,lp("selectionchange",!1,s))}}function Qv(r,s,o,u){switch(EE(s)){case 2:var d=Ix;break;case 8:d=Nx;break;default:d=Sp}o=d.bind(null,s,o,r),d=void 0,!ur||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function cp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===d)break;if(T===4)for(T=u.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;A!==null;){if(T=rr(A),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){u=g=T;continue t}A=A.parentNode}}u=u.return}Ic(function(){var W=g,lt=lr(o),dt=[];t:{var nt=D_.get(r);if(nt!==void 0){var st=io,Dt=r;switch(r){case"keypress":if(Zr(o)===0)break t;case"keydown":case"keyup":st=co;break;case"focusin":Dt="focus",st=oo;break;case"focusout":Dt="blur",st=oo;break;case"beforeblur":case"afterblur":st=oo;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Lc;break;case x_:case C_:case I_:st=lo;break;case N_:st=zc;break;case"scroll":case"scrollend":st=Nc;break;case"wheel":st=ho;break;case"copy":case"cut":case"paste":st=uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=zl;break;case"toggle":case"beforetoggle":st=Hc}var xt=(s&4)!==0,le=!xt&&(r==="scroll"||r==="scrollend"),K=xt?nt!==null?nt+"Capture":null:nt;xt=[];for(var Y=W,Z;Y!==null;){var ht=Y;if(Z=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||Z===null||K===null||(ht=ua(Y,K),ht!=null&&xt.push(gu(Y,ht,Z))),le)break;Y=Y.return}0<xt.length&&(nt=new st(nt,Dt,null,o,lt),dt.push({event:nt,listeners:xt}))}}if((s&7)===0){t:{if(nt=r==="mouseover"||r==="pointerover",st=r==="mouseout"||r==="pointerout",nt&&o!==bi&&(Dt=o.relatedTarget||o.fromElement)&&(rr(Dt)||Dt[On]))break t;if((st||nt)&&(nt=lt.window===lt?lt:(nt=lt.ownerDocument)?nt.defaultView||nt.parentWindow:window,st?(Dt=o.relatedTarget||o.toElement,st=W,Dt=Dt?rr(Dt):null,Dt!==null&&(le=l(Dt),xt=Dt.tag,Dt!==le||xt!==5&&xt!==27&&xt!==6)&&(Dt=null)):(st=null,Dt=W),st!==Dt)){if(xt=cr,ht="onMouseLeave",K="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(xt=zl,ht="onPointerLeave",K="onPointerEnter",Y="pointer"),le=st==null?nt:sr(st),Z=Dt==null?nt:sr(Dt),nt=new xt(ht,Y+"leave",st,o,lt),nt.target=le,nt.relatedTarget=Z,ht=null,rr(lt)===W&&(xt=new xt(K,Y+"enter",Dt,o,lt),xt.target=Z,xt.relatedTarget=le,ht=xt),le=ht,st&&Dt)e:{for(xt=st,K=Dt,Y=0,Z=xt;Z;Z=Lo(Z))Y++;for(Z=0,ht=K;ht;ht=Lo(ht))Z++;for(;0<Y-Z;)xt=Lo(xt),Y--;for(;0<Z-Y;)K=Lo(K),Z--;for(;Y--;){if(xt===K||K!==null&&xt===K.alternate)break e;xt=Lo(xt),K=Lo(K)}xt=null}else xt=null;st!==null&&Zv(dt,nt,st,xt,!1),Dt!==null&&le!==null&&Zv(dt,le,Dt,xt,!0)}}t:{if(nt=W?sr(W):window,st=nt.nodeName&&nt.nodeName.toLowerCase(),st==="select"||st==="input"&&nt.type==="file")var Et=g_;else if($e(nt))if(y_)Et=pR;else{Et=dR;var Ut=fR}else st=nt.nodeName,!st||st.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?W&&Ml(W.elementType)&&(Et=g_):Et=mR;if(Et&&(Et=Et(r,W))){Ii(dt,Et,o,lt);break t}Ut&&Ut(r,nt,W),r==="focusout"&&W&&nt.type==="number"&&W.memoizedProps.value!=null&&os(nt,"number",nt.value)}switch(Ut=W?sr(W):window,r){case"focusin":($e(Ut)||Ut.contentEditable==="true")&&(fo=Ut,Hd=W,jl=null);break;case"focusout":jl=Hd=fo=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,A_(dt,o,lt);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":A_(dt,o,lt)}var Tt;if(ti)t:{switch(r){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Yt?ot(r,o)&&(Ct="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ct="onCompositionStart");Ct&&(w&&o.locale!=="ko"&&(Yt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Yt&&(Tt=Vl()):(Qr=lt,ls="value"in Qr?Qr.value:Qr.textContent,Yt=!0)),Ut=Ch(W,Ct),0<Ut.length&&(Ct=new Ll(Ct,r,null,o,lt),dt.push({event:Ct,listeners:Ut}),Tt?Ct.data=Tt:(Tt=gt(o),Tt!==null&&(Ct.data=Tt)))),(Tt=_?Fe(r,o):Kt(r,o))&&(Ct=Ch(W,"onBeforeInput"),0<Ct.length&&(Ut=new Ll("onBeforeInput","beforeinput",null,o,lt),dt.push({event:Ut,listeners:Ct}),Ut.data=Tt)),JR(dt,r,W,o,lt)}Xv(dt,s)})}function gu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ch(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ua(r,o),d!=null&&u.unshift(gu(r,d,g)),d=ua(r,s),d!=null&&u.push(gu(r,d,g))),r.tag===3)return u;r=r.return}return[]}function Lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Zv(r,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var A=o,j=A.alternate,W=A.stateNode;if(A=A.tag,j!==null&&j===u)break;A!==5&&A!==26&&A!==27||W===null||(j=W,d?(W=ua(o,g),W!=null&&T.unshift(gu(o,W,j))):d||(W=ua(o,g),W!=null&&T.push(gu(o,W,j)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var rx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function Wv(r){return(typeof r=="string"?r:""+r).replace(rx,`
`).replace(ix,"")}function Jv(r,s){return s=Wv(s),Wv(r)===s}function Ih(){}function oe(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||or(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&or(r,""+u);break;case"className":ar(r,"class",u);break;case"tabIndex":ar(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(r,o,u);break;case"style":Dl(r,u,g);break;case"data":if(s!=="object"){ar(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ro(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&oe(r,s,"name",d.name,d,null),oe(r,s,"formEncType",d.formEncType,d,null),oe(r,s,"formMethod",d.formMethod,d,null),oe(r,s,"formTarget",d.formTarget,d,null)):(oe(r,s,"encType",d.encType,d,null),oe(r,s,"method",d.method,d,null),oe(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ro(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Ih);break;case"onScroll":u!=null&&jt("scroll",r);break;case"onScrollEnd":u!=null&&jt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=ro(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":jt("beforetoggle",r),jt("toggle",r),Gr(r,"popover",u);break;case"xlinkActuate":qe(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vd.get(o)||o,Gr(r,o,u))}}function hp(r,s,o,u,d,g){switch(o){case"style":Dl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?or(r,u):(typeof u=="number"||typeof u=="bigint")&&or(r,""+u);break;case"onScroll":u!=null&&jt("scroll",r);break;case"onScrollEnd":u!=null&&jt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[Te]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break t}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Gr(r,o,u)}}}function hn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",r),jt("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:oe(r,s,g,T,o,null)}}d&&oe(r,s,"srcSet",o.srcSet,o,null),u&&oe(r,s,"src",o.src,o,null);return;case"input":jt("invalid",r);var A=g=T=d=null,j=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var lt=o[u];if(lt!=null)switch(u){case"name":d=lt;break;case"type":T=lt;break;case"checked":j=lt;break;case"defaultChecked":W=lt;break;case"value":g=lt;break;case"defaultValue":A=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,s));break;default:oe(r,s,u,lt,o,null)}}aa(r,g,A,j,W,T,d,!1),no(r);return;case"select":jt("invalid",r),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:oe(r,s,d,A,o,null)}s=g,o=T,r.multiple=!!u,s!=null?Si(r,!!u,s,!1):o!=null&&Si(r,!!u,o,!0);return;case"textarea":jt("invalid",r),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:oe(r,s,T,A,o,null)}oa(r,u,d,g),no(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:oe(r,s,j,u,o,null)}return;case"dialog":jt("beforetoggle",r),jt("toggle",r),jt("cancel",r),jt("close",r);break;case"iframe":case"object":jt("load",r);break;case"video":case"audio":for(u=0;u<pu.length;u++)jt(pu[u],r);break;case"image":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"embed":case"source":case"link":jt("error",r),jt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:oe(r,s,W,u,o,null)}return;default:if(Ml(s)){for(lt in o)o.hasOwnProperty(lt)&&(u=o[lt],u!==void 0&&hp(r,s,lt,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&oe(r,s,A,u,o,null))}function sx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,A=null,j=null,W=null,lt=null;for(st in o){var dt=o[st];if(o.hasOwnProperty(st)&&dt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":j=dt;default:u.hasOwnProperty(st)||oe(r,s,st,null,u,dt)}}for(var nt in u){var st=u[nt];if(dt=o[nt],u.hasOwnProperty(nt)&&(st!=null||dt!=null))switch(nt){case"type":g=st;break;case"name":d=st;break;case"checked":W=st;break;case"defaultChecked":lt=st;break;case"value":T=st;break;case"defaultValue":A=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,s));break;default:st!==dt&&oe(r,s,nt,st,u,dt)}}$n(r,T,A,j,W,lt,g,d);return;case"select":st=T=A=nt=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":st=j;default:u.hasOwnProperty(g)||oe(r,s,g,null,u,j)}for(d in u)if(g=u[d],j=o[d],u.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":nt=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==j&&oe(r,s,d,g,u,j)}s=A,o=T,u=st,nt!=null?Si(r,!!o,nt,!1):!!u!=!!o&&(s!=null?Si(r,!!o,s,!0):Si(r,!!o,o?[]:"",!1));return;case"textarea":st=nt=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:oe(r,s,A,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":nt=d;break;case"defaultValue":st=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&oe(r,s,T,d,u,g)}se(r,nt,st);return;case"option":for(var Dt in o)if(nt=o[Dt],o.hasOwnProperty(Dt)&&nt!=null&&!u.hasOwnProperty(Dt))switch(Dt){case"selected":r.selected=!1;break;default:oe(r,s,Dt,null,u,nt)}for(j in u)if(nt=u[j],st=o[j],u.hasOwnProperty(j)&&nt!==st&&(nt!=null||st!=null))switch(j){case"selected":r.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:oe(r,s,j,nt,u,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in o)nt=o[xt],o.hasOwnProperty(xt)&&nt!=null&&!u.hasOwnProperty(xt)&&oe(r,s,xt,null,u,nt);for(W in u)if(nt=u[W],st=o[W],u.hasOwnProperty(W)&&nt!==st&&(nt!=null||st!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,s));break;default:oe(r,s,W,nt,u,st)}return;default:if(Ml(s)){for(var le in o)nt=o[le],o.hasOwnProperty(le)&&nt!==void 0&&!u.hasOwnProperty(le)&&hp(r,s,le,void 0,u,nt);for(lt in u)nt=u[lt],st=o[lt],!u.hasOwnProperty(lt)||nt===st||nt===void 0&&st===void 0||hp(r,s,lt,nt,u,st);return}}for(var K in o)nt=o[K],o.hasOwnProperty(K)&&nt!=null&&!u.hasOwnProperty(K)&&oe(r,s,K,null,u,nt);for(dt in u)nt=u[dt],st=o[dt],!u.hasOwnProperty(dt)||nt===st||nt==null&&st==null||oe(r,s,dt,nt,u,st)}var fp=null,dp=null;function Nh(r){return r.nodeType===9?r:r.ownerDocument}function tE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function mp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pp=null;function ax(){var r=window.event;return r&&r.type==="popstate"?r===pp?!1:(pp=r,!0):(pp=null,!1)}var nE=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,lx=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(r){return rE.resolve(null).then(r).catch(ux)}:nE;function ux(r){setTimeout(function(){throw r})}function bs(r){return r==="head"}function iE(r,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&yu(T.documentElement),o&2&&yu(T.body),o&4)for(o=T.head,yu(o),T=o.firstChild;T;){var A=T.nextSibling,j=T.nodeName;T[wi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(d===0){r.removeChild(g),Au(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Au(s)}function gp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),$r(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function cx(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[wi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Cr(r.nextSibling),r===null)break}return null}function hx(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Cr(r.nextSibling),r===null))return null;return r}function yp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function fx(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Cr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var _p=null;function sE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function aE(r,s,o){switch(s=Nh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function yu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);$r(r)}var yr=new Map,oE=new Set;function Dh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=F.d;F.d={f:dx,r:mx,D:px,C:gx,L:yx,m:_x,X:Ex,S:vx,M:wx};function dx(){var r=ji.f(),s=Th();return r||s}function mx(r){var s=ir(r);s!==null&&s.tag===5&&s.type==="form"?x0(s):ji.r(r)}var Uo=typeof document>"u"?null:document;function lE(r,s,o){var u=Uo;if(u&&typeof s=="string"&&s){var d=ke(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),oE.has(d)||(oE.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),hn(s,"link",r),_e(s),u.head.appendChild(s)))}}function px(r){ji.D(r),lE("dns-prefetch",r,null)}function gx(r,s){ji.C(r,s),lE("preconnect",r,s)}function yx(r,s,o){ji.L(r,s,o);var u=Uo;if(u&&r&&s){var d='link[rel="preload"][as="'+ke(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+ke(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+ke(o.imageSizes)+'"]')):d+='[href="'+ke(r)+'"]';var g=d;switch(s){case"style":g=zo(r);break;case"script":g=Bo(r)}yr.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),yr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(_u(g))||s==="script"&&u.querySelector(vu(g))||(s=u.createElement("link"),hn(s,"link",r),_e(s),u.head.appendChild(s)))}}function _x(r,s){ji.m(r,s);var o=Uo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+ke(u)+'"][href="'+ke(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(r)}if(!yr.has(g)&&(r=y({rel:"modulepreload",href:r},s),yr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vu(g)))return}u=o.createElement("link"),hn(u,"link",r),_e(u),o.head.appendChild(u)}}}function vx(r,s,o){ji.S(r,s,o);var u=Uo;if(u&&r){var d=on(u).hoistableStyles,g=zo(r);s=s||"default";var T=d.get(g);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(_u(g)))A.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=yr.get(g))&&vp(r,o);var j=T=u.createElement("link");_e(j),hn(j,"link",r),j._p=new Promise(function(W,lt){j.onload=W,j.onerror=lt}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},d.set(g,T)}}}function Ex(r,s){ji.X(r,s);var o=Uo;if(o&&r){var u=on(o).hoistableScripts,d=Bo(r),g=u.get(d);g||(g=o.querySelector(vu(d)),g||(r=y({src:r,async:!0},s),(s=yr.get(d))&&Ep(r,s),g=o.createElement("script"),_e(g),hn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function wx(r,s){ji.M(r,s);var o=Uo;if(o&&r){var u=on(o).hoistableScripts,d=Bo(r),g=u.get(d);g||(g=o.querySelector(vu(d)),g||(r=y({src:r,async:!0,type:"module"},s),(s=yr.get(d))&&Ep(r,s),g=o.createElement("script"),_e(g),hn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function uE(r,s,o,u){var d=(d=_t.current)?Dh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=zo(o.href),o=on(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=zo(o.href);var g=on(d).hoistableStyles,T=g.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=d.querySelector(_u(r)))&&!g._p&&(T.instance=g,T.state.loading=5),yr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},yr.set(r,o),g||Tx(d,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bo(o),o=on(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zo(r){return'href="'+ke(r)+'"'}function _u(r){return'link[rel="stylesheet"]['+r+"]"}function cE(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function Tx(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),hn(s,"link",o),_e(s),r.head.appendChild(s))}function Bo(r){return'[src="'+ke(r)+'"]'}function vu(r){return"script[async]"+r}function hE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+ke(o.href)+'"]');if(u)return s.instance=u,_e(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),_e(u),hn(u,"style",d),Mh(u,o.precedence,r),s.instance=u;case"stylesheet":d=zo(o.href);var g=r.querySelector(_u(d));if(g)return s.state.loading|=4,s.instance=g,_e(g),g;u=cE(o),(d=yr.get(d))&&vp(u,d),g=(r.ownerDocument||r).createElement("link"),_e(g);var T=g;return T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),hn(g,"link",u),s.state.loading|=4,Mh(g,o.precedence,r),s.instance=g;case"script":return g=Bo(o.src),(d=r.querySelector(vu(g)))?(s.instance=d,_e(d),d):(u=o,(d=yr.get(g))&&(u=y({},o),Ep(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),_e(d),hn(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Mh(u,o.precedence,r));return s.instance}function Mh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Oh=null;function fE(r,s,o){if(Oh===null){var u=new Map,d=Oh=new Map;d.set(o,u)}else d=Oh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[wi]||g[xe]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var A=u.get(T);A?A.push(g):u.set(T,[g])}}return u}function dE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Sx(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Eu=null;function bx(){}function Ax(r,s,o){if(Eu===null)throw Error(i(475));var u=Eu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=zo(o.href),g=r.querySelector(_u(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Vh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,_e(g);return}g=r.ownerDocument||r,o=cE(o),(d=yr.get(d))&&vp(o,d),g=g.createElement("link"),_e(g);var T=g;T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),hn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Vh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function Rx(){if(Eu===null)throw Error(i(475));var r=Eu;return r.stylesheets&&r.count===0&&wp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&wp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Vh(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kh=null;function wp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kh=new Map,s.forEach(xx,r),kh=null,Vh.call(r))}function xx(r,s){if(!(s.state.loading&4)){var o=kh.get(r);if(o)var u=o.get(null);else{o=new Map,kh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=Vh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var wu={$$typeof:$,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function Cx(r,s,o,u,d,g,T,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function pE(r,s,o,u,d,g,T,A,j,W,lt,dt){return r=new Cx(r,s,o,T,A,j,W,dt),s=1,g===!0&&(s|=24),g=Yn(3,null,null,s),r.current=g,g.stateNode=r,s=nm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},am(g),r}function gE(r){return r?(r=yo,r):yo}function yE(r,s,o,u,d,g){d=gE(d),u.context===null?u.context=d:u.pendingContext=d,u=hs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=fs(r,u,s),o!==null&&(Wn(o,r,s),Zl(o,r,s))}function _E(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tp(r,s){_E(r,s),(r=r.alternate)&&_E(r,s)}function vE(r){if(r.tag===13){var s=go(r,67108864);s!==null&&Wn(s,r,67108864),Tp(r,67108864)}}var Ph=!0;function Ix(r,s,o,u){var d=V.T;V.T=null;var g=F.p;try{F.p=2,Sp(r,s,o,u)}finally{F.p=g,V.T=d}}function Nx(r,s,o,u){var d=V.T;V.T=null;var g=F.p;try{F.p=8,Sp(r,s,o,u)}finally{F.p=g,V.T=d}}function Sp(r,s,o,u){if(Ph){var d=bp(u);if(d===null)cp(r,s,u,Lh,o),wE(r,u);else if(Mx(d,r,s,o,u))u.stopPropagation();else if(wE(r,u),s&4&&-1<Dx.indexOf(r)){for(;d!==null;){var g=ir(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ze(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var j=1<<31-ye(T);A.entanglements[1]|=j,T&=~j}ai(g),(re&6)===0&&(Eh=Lt()+500,mu(0))}}break;case 13:A=go(g,2),A!==null&&Wn(A,g,2),Th(),Tp(g,2)}if(g=bp(u),g===null&&cp(r,s,u,Lh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else cp(r,s,u,null,o)}}function bp(r){return r=lr(r),Ap(r)}var Lh=null;function Ap(r){if(Lh=null,r=rr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Lh=r,null}function EE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case je:return 2;case Mn:return 8;case Bn:case Br:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Rp=!1,As=null,Rs=null,xs=null,Tu=new Map,Su=new Map,Cs=[],Dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(r,s){switch(r){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(s.pointerId)}}function bu(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ir(s),s!==null&&vE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Mx(r,s,o,u,d){switch(s){case"focusin":return As=bu(As,r,s,o,u,d),!0;case"dragenter":return Rs=bu(Rs,r,s,o,u,d),!0;case"mouseover":return xs=bu(xs,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Tu.set(g,bu(Tu.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Su.set(g,bu(Su.get(g)||null,r,s,o,u,d)),!0}return!1}function TE(r){var s=rr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Qa(r.priority,function(){if(o.tag===13){var u=Zn();u=jr(u);var d=go(o,u);d!==null&&Wn(d,o,u),Tp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=bp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);bi=u,o.target.dispatchEvent(u),bi=null}else return s=ir(o),s!==null&&vE(s),r.blockedOn=o,!1;s.shift()}return!0}function SE(r,s,o){Uh(r)&&o.delete(s)}function Ox(){Rp=!1,As!==null&&Uh(As)&&(As=null),Rs!==null&&Uh(Rs)&&(Rs=null),xs!==null&&Uh(xs)&&(xs=null),Tu.forEach(SE),Su.forEach(SE)}function zh(r,s){r.blockedOn===s&&(r.blockedOn=null,Rp||(Rp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ox)))}var Bh=null;function bE(r){Bh!==r&&(Bh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bh===r&&(Bh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Ap(u||o)===null)continue;break}var g=ir(o);g!==null&&(r.splice(s,3),s-=3,Am(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Au(r){function s(j){return zh(j,r)}As!==null&&zh(As,r),Rs!==null&&zh(Rs,r),xs!==null&&zh(xs,r),Tu.forEach(s),Su.forEach(s);for(var o=0;o<Cs.length;o++){var u=Cs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Cs.length&&(o=Cs[0],o.blockedOn===null);)TE(o),o.blockedOn===null&&Cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Te]||null;if(typeof g=="function")T||bE(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Te]||null)A=T.formAction;else if(Ap(d)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),bE(o)}}}function xp(r){this._internalRoot=r}Hh.prototype.render=xp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Zn();yE(o,u,r,s,null,null)},Hh.prototype.unmount=xp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;yE(r.current,2,null,r,null,null),Th(),s[On]=null}};function Hh(r){this._internalRoot=r}Hh.prototype.unstable_scheduleHydration=function(r){if(r){var s=qr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Cs.length&&s!==0&&s<Cs[o].priority;o++);Cs.splice(o,0,r),o===0&&TE(r)}};var AE=t.version;if(AE!=="19.1.1")throw Error(i(527,AE,"19.1.1"));F.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Vx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{te=jh.inject(Vx),Bt=jh}catch{}}return xu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=H0,g=j0,T=q0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=pE(r,1,!1,null,null,o,u,d,g,T,A,null),r[On]=s.current,up(r),new xp(s)},xu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=H0,T=j0,A=q0,j=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),s=pE(r,1,!0,s,o??null,u,d,g,T,A,j,W),s.context=gE(null),o=s.current,u=Zn(),u=jr(u),d=hs(u),d.callback=null,fs(o,d,u),o=u,s.current.lanes=o,er(s,o),ai(s),r[On]=s.current,up(r),new Hh(s)},xu.version="19.1.1",xu}var kE;function qx(){if(kE)return Np.exports;kE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Np.exports=jx(),Np.exports}var Fx=qx();const $x=Xg(Fx);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PE="popstate";function Gx(e={}){function t(i,a){let{pathname:l,search:c,hash:f}=i.location;return og("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Yu(a)}return Kx(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yx(){return Math.random().toString(36).substring(2,10)}function LE(e,t){return{usr:e.state,key:e.key,idx:t}}function og(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:n,key:t&&t.key||i||Yx()}}function Yu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Kx(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){f="POP";let M=y(),k=M==null?null:M-p;p=M,m&&m({action:f,location:D.location,delta:k})}function E(M,k){f="PUSH";let H=og(D.location,M,k);p=y()+1;let $=LE(H,p),G=D.createHref(H);try{c.pushState($,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(G)}l&&m&&m({action:f,location:D.location,delta:1})}function S(M,k){f="REPLACE";let H=og(D.location,M,k);p=y();let $=LE(H,p),G=D.createHref(H);c.replaceState($,"",G),l&&m&&m({action:f,location:D.location,delta:0})}function I(M){return Xx(M)}let D={get action(){return f},get location(){return e(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(PE,v),m=M,()=>{a.removeEventListener(PE,v),m=null}},createHref(M){return t(a,M)},createURL:I,encodeLocation(M){let k=I(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:S,go(M){return c.go(M)}};return D}function Xx(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ge(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Yu(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function aS(e,t,n="/"){return Qx(e,t,n,!1)}function Qx(e,t,n,i){let a=typeof t=="string"?yl(t):t,l=Qi(a.pathname||"/",n);if(l==null)return null;let c=oS(e);Zx(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=lC(l);f=aC(c[m],p,i)}return f}function oS(e,t=[],n=[],i="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;ge(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Ki([i,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),oS(c.children,t,E,v,m)),!(c.path==null&&!c.index)&&t.push({path:v,score:iC(v,c.index),routesMeta:E})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of lS(c.path))l(c,f,!0,m)}),t}function lS(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=lS(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function Zx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sC(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Wx=/^:[\w-]+$/,Jx=3,tC=2,eC=1,nC=10,rC=-2,UE=e=>e==="*";function iC(e,t){let n=e.split("/"),i=n.length;return n.some(UE)&&(i+=rC),t&&(i+=tC),n.filter(a=>!UE(a)).reduce((a,l)=>a+(Wx.test(l)?Jx:l===""?eC:nC),i)}function sC(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function aC(e,t,n=!1){let{routesMeta:i}=e,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ki([l,v.pathname]),pathnameBase:fC(Ki([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=Ki([l,v.pathnameBase]))}return c}function Sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=oC(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let I=f[E]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const S=f[E];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function oC(e,t=!1,n=!0){kr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function lC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function uC(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?yl(e):e;return{pathname:n?n.startsWith("/")?n:cC(n,t):t,search:dC(i),hash:mC(a)}}function cC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vp(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Qg(e){let t=hC(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Zg(e,t,n,i=!1){let a;typeof e=="string"?a=yl(e):(a={...e},ge(!a.pathname||!a.pathname.includes("?"),Vp("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),Vp("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),Vp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let v=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}f=v>=0?t[v]:"/"}let m=uC(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ki=e=>e.join("/").replace(/\/\/+/g,"/"),fC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var uS=["POST","PUT","PATCH","DELETE"];new Set(uS);var gC=["GET",...uS];new Set(gC);var _l=U.createContext(null);_l.displayName="DataRouter";var td=U.createContext(null);td.displayName="DataRouterState";U.createContext(!1);var cS=U.createContext({isTransitioning:!1});cS.displayName="ViewTransition";var yC=U.createContext(new Map);yC.displayName="Fetchers";var _C=U.createContext(null);_C.displayName="Await";var Lr=U.createContext(null);Lr.displayName="Navigation";var hc=U.createContext(null);hc.displayName="Location";var Ur=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var Wg=U.createContext(null);Wg.displayName="RouteError";function vC(e,{relative:t}={}){ge(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(Lr),{hash:a,pathname:l,search:c}=fc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Ki([n,l])),i.createHref({pathname:f,search:c,hash:a})}function vl(){return U.useContext(hc)!=null}function Ws(){return ge(vl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(hc).location}var hS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fS(e){U.useContext(Lr).static||U.useLayoutEffect(e)}function Jg(){let{isDataRoute:e}=U.useContext(Ur);return e?OC():EC()}function EC(){ge(vl(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(_l),{basename:t,navigator:n}=U.useContext(Lr),{matches:i}=U.useContext(Ur),{pathname:a}=Ws(),l=JSON.stringify(Qg(i)),c=U.useRef(!1);return fS(()=>{c.current=!0}),U.useCallback((m,p={})=>{if(kr(c.current,hS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Zg(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ki([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}U.createContext(null);function wC(){let{matches:e}=U.useContext(Ur),t=e[e.length-1];return t?t.params:{}}function fc(e,{relative:t}={}){let{matches:n}=U.useContext(Ur),{pathname:i}=Ws(),a=JSON.stringify(Qg(n));return U.useMemo(()=>Zg(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function TC(e,t){return dS(e,t)}function dS(e,t,n,i,a){ge(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Lr),{matches:c}=U.useContext(Ur),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let H=v&&v.path||"";mS(p,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=Ws(),S;if(t){let H=typeof t=="string"?yl(t):t;ge(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=E;let I=S.pathname||"/",D=I;if(y!=="/"){let H=y.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=aS(e,{pathname:D});kr(v||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),kr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=xC(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Ki([y,l.encodeLocation?l.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Ki([y,l.encodeLocation?l.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,i,a);return t&&k?U.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function SC(){let e=MC(),t=pC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var bC=U.createElement(SC,null),AC=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?U.createElement(Ur.Provider,{value:this.props.routeContext},U.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RC({routeContext:e,match:t,children:n}){let i=U.useContext(_l);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(Ur.Provider,{value:e},n)}function xC(e,t=[],n=null,i=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ge(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:E}=n,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let E,S=!1,I=null,D=null;n&&(E=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||bC,f&&(m<0&&v===0?(mS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):m===v&&(S=!0,D=y.route.hydrateFallbackElement||null)));let M=t.concat(l.slice(0,v+1)),k=()=>{let H;return E?H=I:S?H=D:y.route.Component?H=U.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,U.createElement(RC,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?U.createElement(AC,{location:n.location,revalidation:n.revalidation,component:I,error:E,children:k(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:i}):k()},null)}function ty(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CC(e){let t=U.useContext(_l);return ge(t,ty(e)),t}function IC(e){let t=U.useContext(td);return ge(t,ty(e)),t}function NC(e){let t=U.useContext(Ur);return ge(t,ty(e)),t}function ey(e){let t=NC(e),n=t.matches[t.matches.length-1];return ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DC(){return ey("useRouteId")}function MC(){let e=U.useContext(Wg),t=IC("useRouteError"),n=ey("useRouteError");return e!==void 0?e:t.errors?.[n]}function OC(){let{router:e}=CC("useNavigate"),t=ey("useNavigate"),n=U.useRef(!1);return fS(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{kr(n.current,hS),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var zE={};function mS(e,t,n){!t&&!zE[e]&&(zE[e]=!0,kr(!1,n))}U.memo(VC);function VC({routes:e,future:t,state:n,unstable_onError:i}){return dS(e,void 0,n,i,t)}function kC({to:e,replace:t,state:n,relative:i}){ge(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(Lr);kr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(Ur),{pathname:c}=Ws(),f=Jg(),m=Zg(e,Qg(l),c,i==="path"),p=JSON.stringify(m);return U.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:i})},[f,p,i,t,n]),null}function af(e){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ge(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=yl(n));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=n,S=U.useMemo(()=>{let I=Qi(m,c);return I==null?null:{location:{pathname:I,search:p,hash:y,state:v,key:E},navigationType:i}},[c,m,p,y,v,E,i]);return kr(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:U.createElement(Lr.Provider,{value:f},U.createElement(hc.Provider,{children:t,value:S}))}function LC({children:e,location:t}){return TC(lg(e),t)}function lg(e,t=[]){let n=[];return U.Children.forEach(e,(i,a)=>{if(!U.isValidElement(i))return;let l=[...t,a];if(i.type===U.Fragment){n.push.apply(n,lg(i.props.children,l));return}ge(i.type===af,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=lg(i.props.children,l)),n.push(c)}),n}var of="get",lf="application/x-www-form-urlencoded";function ed(e){return e!=null&&typeof e.tagName=="string"}function UC(e){return ed(e)&&e.tagName.toLowerCase()==="button"}function zC(e){return ed(e)&&e.tagName.toLowerCase()==="form"}function BC(e){return ed(e)&&e.tagName.toLowerCase()==="input"}function HC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jC(e,t){return e.button===0&&(!t||t==="_self")&&!HC(e)}var qh=null;function qC(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var FC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(e){return e!=null&&!FC.has(e)?(kr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):e}function $C(e,t){let n,i,a,l,c;if(zC(e)){let f=e.getAttribute("action");i=f?Qi(f,t):null,n=e.getAttribute("method")||of,a=kp(e.getAttribute("enctype"))||lf,l=new FormData(e)}else if(UC(e)||BC(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(i=m?Qi(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||of,a=kp(e.getAttribute("formenctype"))||kp(f.getAttribute("enctype"))||lf,l=new FormData(f,e),!qC()){let{name:p,type:y,value:v}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,v)}}else{if(ed(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=of,i=null,a=lf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GC(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Qi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function YC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XC(e,t,n){let i=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await YC(l,n);return c.links?c.links():[]}return[]}));return JC(i.flat(1).filter(KC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function BE(e,t,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function QC(e,t,{includeHydrateFallback:n}={}){return ZC(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZC(e){return[...new Set(e)]}function WC(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function JC(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let l=JSON.stringify(WC(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function pS(){let e=U.useContext(_l);return ny(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function t2(){let e=U.useContext(td);return ny(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ry=U.createContext(void 0);ry.displayName="FrameworkContext";function gS(){let e=U.useContext(ry);return ny(e,"You must render this element inside a <HydratedRouter> element"),e}function e2(e,t){let n=U.useContext(ry),[i,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=t,E=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let D=k=>{k.forEach(H=>{c(H.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[e]),U.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let S=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:Cu(f,S),onBlur:Cu(m,I),onMouseEnter:Cu(p,S),onMouseLeave:Cu(y,I),onTouchStart:Cu(v,S)}]:[!1,E,{}]}function Cu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function n2({page:e,...t}){let{router:n}=pS(),i=U.useMemo(()=>aS(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?U.createElement(i2,{page:e,matches:i,...t}):null}function r2(e){let{manifest:t,routeModules:n}=gS(),[i,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return XC(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),i}function i2({page:e,matches:t,...n}){let i=Ws(),{manifest:a,routeModules:l}=gS(),{basename:c}=pS(),{loaderData:f,matches:m}=t2(),p=U.useMemo(()=>BE(e,t,m,a,i,"data"),[e,t,m,a,i]),y=U.useMemo(()=>BE(e,t,m,a,i,"assets"),[e,t,m,a,i]),v=U.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let I=new Set,D=!1;if(t.forEach(k=>{let H=a.routes[k.route.id];!H||!H.hasLoader||(!p.some($=>$.route.id===k.route.id)&&k.route.id in f&&l[k.route.id]?.shouldRevalidate||H.hasClientLoader?D=!0:I.add(k.route.id))}),I.size===0)return[];let M=GC(e,c,"data");return D&&I.size>0&&M.searchParams.set("_routes",t.filter(k=>I.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[c,f,i,a,p,t,e,l]),E=U.useMemo(()=>QC(y,a),[y,a]),S=r2(y);return U.createElement(U.Fragment,null,v.map(I=>U.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),E.map(I=>U.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),S.map(({key:I,link:D})=>U.createElement("link",{key:I,nonce:n.nonce,...D})))}function s2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var yS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yS&&(window.__reactRouterVersion="7.8.2")}catch{}function a2({basename:e,children:t,window:n}){let i=U.useRef();i.current==null&&(i.current=Gx({window:n,v5Compat:!0}));let a=i.current,[l,c]=U.useState({action:a.action,location:a.location}),f=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.createElement(PC,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bf=U.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},S){let{basename:I}=U.useContext(Lr),D=typeof p=="string"&&_S.test(p),M,k=!1;if(typeof p=="string"&&D&&(M=p,yS))try{let b=new URL(window.location.href),O=p.startsWith("//")?new URL(b.protocol+p):new URL(p),z=Qi(O.pathname,I);O.origin===b.origin&&z!=null?p=z+O.search+O.hash:k=!0}catch{kr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=vC(p,{relative:a}),[$,G,J]=e2(i,E),at=c2(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:v});function P(b){t&&t(b),b.defaultPrevented||at(b)}let R=U.createElement("a",{...E,...J,href:M||H,onClick:k||l?t:P,ref:s2(S,G),target:m,"data-discover":!D&&n==="render"?"true":void 0});return $&&!D?U.createElement(U.Fragment,null,R,U.createElement(n2,{page:H})):R});bf.displayName="Link";var o2=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let v=fc(c,{relative:p.relative}),E=Ws(),S=U.useContext(td),{navigator:I,basename:D}=U.useContext(Lr),M=S!=null&&p2(v)&&f===!0,k=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,H=E.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&D&&($=Qi($,D)||$);const G=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let J=H===k||!a&&H.startsWith(k)&&H.charAt(G)==="/",at=$!=null&&($===k||!a&&$.startsWith(k)&&$.charAt(k.length)==="/"),P={isActive:J,isPending:at,isTransitioning:M},R=J?t:void 0,b;typeof i=="function"?b=i(P):b=[i,J?"active":null,at?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(P):l;return U.createElement(bf,{...p,"aria-current":R,className:b,ref:y,style:O,to:c,viewTransition:f},typeof m=="function"?m(P):m)});o2.displayName="NavLink";var l2=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:l,method:c=of,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},S)=>{let I=d2(),D=m2(f,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&_S.test(f),H=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let G=$.nativeEvent.submitter,J=G?.getAttribute("formmethod")||c;I(G||$.currentTarget,{fetcherKey:t,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return U.createElement("form",{ref:S,method:M,action:D,onSubmit:i?m:H,...E,"data-discover":!k&&e==="render"?"true":void 0})});l2.displayName="Form";function u2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(e){let t=U.useContext(_l);return ge(t,u2(e)),t}function c2(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Jg(),m=Ws(),p=fc(e,{relative:l});return U.useCallback(y=>{if(jC(y,t)){y.preventDefault();let v=n!==void 0?n:Yu(m)===Yu(p);f(e,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,i,t,e,a,l,c])}var h2=0,f2=()=>`__${String(++h2)}__`;function d2(){let{router:e}=vS("useSubmit"),{basename:t}=U.useContext(Lr),n=DC();return U.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=$C(i,t);if(a.navigate===!1){let y=a.fetcherKey||f2();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function m2(e,{relative:t}={}){let{basename:n}=U.useContext(Lr),i=U.useContext(Ur);ge(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...fc(e||".",{relative:t})},c=Ws();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ki([n,l.pathname])),Yu(l)}function p2(e,{relative:t}={}){let n=U.useContext(cS);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vS("useViewTransitionState"),a=fc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Sf(a.pathname,c)!=null||Sf(a.pathname,l)!=null}sS();const g2=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},y2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(E=64)),i.push(n[y],n[v],n[E],n[S])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ES(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||v==null)throw new _2;const E=l<<2|f>>4;if(i.push(E),p!==64){const S=f<<4&240|p>>2;if(i.push(S),v!==64){const I=p<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v2=function(e){const t=ES(e);return wS.encodeByteArray(t,!0)},Af=function(e){return v2(e).replace(/\./g,"")},TS=function(e){try{return wS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=()=>E2().__FIREBASE_DEFAULTS__,T2=()=>{if(typeof process>"u"||typeof HE>"u")return;const e=HE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},S2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&TS(e[1]);return t&&JSON.parse(t)},nd=()=>{try{return g2()||w2()||T2()||S2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},SS=e=>nd()?.emulatorHosts?.[e],b2=e=>{const t=SS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},bS=()=>nd()?.config,AS=e=>nd()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Af(JSON.stringify(n)),Af(JSON.stringify(c)),""].join(".")}const Hu={};function x2(){const e={prod:[],emulator:[]};for(const t of Object.keys(Hu))Hu[t]?e.emulator.push(t):e.prod.push(t);return e}function C2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let jE=!1;function xS(e,t){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Hu[e]===t||Hu[e]||jE)return;Hu[e]=t;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=x2().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{jE=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=C2(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),k=n("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;f($),y(M,D);const G=p();m(H,k),$.append(H,I,M,G),document.body.appendChild($)}l?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function N2(){const e=nd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function O2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V2(){const e=En();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k2(){return!N2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="FirebaseError";class rs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=U2,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?z2(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new rs(a,f,i)}}function z2(e,t){return e.replace(B2,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const B2=/\{\$([^}]+)}/g;function H2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ba(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const l=e[a],c=t[a];if(qE(l)&&qE(c)){if(!Ba(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function qE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function j2(e,t){const n=new q2(e,t);return n.subscribe.bind(n)}class q2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let a;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");F2(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:i},a.next===void 0&&(a.next=Pp),a.error===void 0&&(a.error=Pp),a.complete===void 0&&(a.complete=Pp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e){return e&&e._delegate?e._delegate:e}class Ha{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $2=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new A2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Y2(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:G2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function G2(e){return e===Da?void 0:e}function Y2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(qt||(qt={}));const X2={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},Q2=qt.INFO,Z2={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},W2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=Z2[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class iy{constructor(t){this.name=t,this._logLevel=Q2,this._logHandler=W2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?X2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const J2=(e,t)=>t.some(n=>e instanceof n);let FE,$E;function tI(){return FE||(FE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return $E||($E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,ug=new WeakMap,IS=new WeakMap,Lp=new WeakMap,sy=new WeakMap;function nI(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(zs(e.result)),a()},c=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&CS.set(n,e)}).catch(()=>{}),sy.set(t,e),t}function rI(e){if(ug.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});ug.set(e,t)}let cg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ug.get(e);if(t==="objectStoreNames")return e.objectStoreNames||IS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iI(e){cg=e(cg)}function sI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Up(this),t,...n);return IS.set(i,t.sort?t.sort():[t]),zs(i)}:eI().includes(e)?function(...t){return e.apply(Up(this),t),zs(CS.get(this))}:function(...t){return zs(e.apply(Up(this),t))}}function aI(e){return typeof e=="function"?sI(e):(e instanceof IDBTransaction&&rI(e),J2(e,tI())?new Proxy(e,cg):e)}function zs(e){if(e instanceof IDBRequest)return nI(e);if(Lp.has(e))return Lp.get(e);const t=aI(e);return t!==e&&(Lp.set(e,t),sy.set(t,e)),t}const Up=e=>sy.get(e);function oI(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=zs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(zs(c.result),m.oldVersion,m.newVersion,zs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const lI=["get","getKey","getAll","getAllKeys","count"],uI=["put","add","delete","clear"],zp=new Map;function GE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zp.get(t))return zp.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=uI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||lI.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return zp.set(t,l),l}iI(e=>({...e,get:(t,n,i)=>GE(t,n)||e.get(t,n,i),has:(t,n)=>!!GE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hI(e){return e.getComponent()?.type==="VERSION"}const hg="@firebase/app",YE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new iy("@firebase/app"),fI="@firebase/app-compat",dI="@firebase/analytics-compat",mI="@firebase/analytics",pI="@firebase/app-check-compat",gI="@firebase/app-check",yI="@firebase/auth",_I="@firebase/auth-compat",vI="@firebase/database",EI="@firebase/data-connect",wI="@firebase/database-compat",TI="@firebase/functions",SI="@firebase/functions-compat",bI="@firebase/installations",AI="@firebase/installations-compat",RI="@firebase/messaging",xI="@firebase/messaging-compat",CI="@firebase/performance",II="@firebase/performance-compat",NI="@firebase/remote-config",DI="@firebase/remote-config-compat",MI="@firebase/storage",OI="@firebase/storage-compat",VI="@firebase/firestore",kI="@firebase/ai",PI="@firebase/firestore-compat",LI="firebase",UI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",zI={[hg]:"fire-core",[fI]:"fire-core-compat",[mI]:"fire-analytics",[dI]:"fire-analytics-compat",[gI]:"fire-app-check",[pI]:"fire-app-check-compat",[yI]:"fire-auth",[_I]:"fire-auth-compat",[vI]:"fire-rtdb",[EI]:"fire-data-connect",[wI]:"fire-rtdb-compat",[TI]:"fire-fn",[SI]:"fire-fn-compat",[bI]:"fire-iid",[AI]:"fire-iid-compat",[RI]:"fire-fcm",[xI]:"fire-fcm-compat",[CI]:"fire-perf",[II]:"fire-perf-compat",[NI]:"fire-rc",[DI]:"fire-rc-compat",[MI]:"fire-gcs",[OI]:"fire-gcs-compat",[VI]:"fire-fst",[PI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[LI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,BI=new Map,dg=new Map;function KE(e,t){try{e.container.addComponent(t)}catch(n){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function sl(e){const t=e.name;if(dg.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;dg.set(t,e);for(const n of Rf.values())KE(n,e);for(const n of BI.values())KE(n,e);return!0}function ay(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ir(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new dc("app","Firebase",HI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=UI;function NS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:fg,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(n||(n=bS()),!n)throw Bs.create("no-options");const l=Rf.get(a);if(l){if(Ba(n,l.options)&&Ba(i,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const c=new K2(a);for(const m of dg.values())c.addComponent(m);const f=new jI(n,i,c);return Rf.set(a,f),f}function DS(e=fg){const t=Rf.get(e);if(!t&&e===fg&&bS())return NS();if(!t)throw Bs.create("no-app",{appName:e});return t}function Hs(e,t,n){let i=zI[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(c.join(" "));return}sl(new Ha(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",FI=1,Ku="firebase-heartbeat-store";let Bp=null;function MS(){return Bp||(Bp=oI(qI,FI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(e=>{throw Bs.create("idb-open",{originalErrorMessage:e.message})})),Bp}async function $I(e){try{const n=(await MS()).transaction(Ku),i=await n.objectStore(Ku).get(OS(e));return await n.done,i}catch(t){if(t instanceof rs)Zi.warn(t.message);else{const n=Bs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(n.message)}}}async function XE(e,t){try{const i=(await MS()).transaction(Ku,"readwrite");await i.objectStore(Ku).put(t,OS(e)),await i.done}catch(n){if(n instanceof rs)Zi.warn(n.message);else{const i=Bs.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(i.message)}}}function OS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,YI=30;class KI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>YI){const a=ZI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QE(),{heartbeatsToSend:n,unsentEntries:i}=XI(this._heartbeatsCache.heartbeats),a=Af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zi.warn(t),""}}}function QE(){return new Date().toISOString().substring(0,10)}function XI(e,t=GI){const n=[];let i=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ZE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ZE(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class QI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $I(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ZE(e){return Af(JSON.stringify({version:2,heartbeats:e})).length}function ZI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(e){sl(new Ha("platform-logger",t=>new cI(t),"PRIVATE")),sl(new Ha("heartbeat",t=>new KI(t),"PRIVATE")),Hs(hg,YE,e),Hs(hg,YE,"esm2020"),Hs("fire-js","")}WI("");function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JI=VS,kS=new dc("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new iy("@firebase/auth");function tN(e,...t){xf.logLevel<=qt.WARN&&xf.warn(`Auth (${wl}): ${e}`,...t)}function uf(e,...t){xf.logLevel<=qt.ERROR&&xf.error(`Auth (${wl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e,...t){throw ly(e,...t)}function Or(e,...t){return ly(e,...t)}function oy(e,t,n){const i={...JI(),[t]:n};return new dc("auth","Firebase",i).create(t,{appName:e.name})}function La(e){return oy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eN(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&pi(e,"argument-error"),oy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ly(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return kS.create(e,...t)}function Mt(e,t,...n){if(!e)throw ly(t,...n)}function $i(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uf(t),new Error(t)}function Wi(e,t){e||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){return typeof self<"u"&&self.location?.href||""}function nN(){return WE()==="http:"||WE()==="https:"}function WE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||M2()||"connection"in navigator)?navigator.onLine:!0}function iN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wi(n>t,"Short delay should be less than long delay!"),this.isMobile=I2()||O2()}get(){return rN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(e,t){Wi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oN=new pc(3e4,6e4);function cy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Tl(e,t,n,i,a={}){return LS(e,a,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const f=mc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return D2()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&El(e.emulatorConfig.host)&&(p.credentials="include"),PS.fetch()(await US(e,e.config.apiHost,n,f),p)})}async function LS(e,t,n){e._canInitEmulator=!1;const i={...sN,...t};try{const a=new uN(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(e,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oy(e,y,p);pi(e,y)}}catch(a){if(a instanceof rs)throw a;pi(e,"network-request-failed",{message:String(a)})}}async function lN(e,t,n,i,a={}){const l=await Tl(e,t,n,i,a);return"mfaPendingCredential"in l&&pi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function US(e,t,n,i){const a=`${t}${n}?${i}`,l=e,c=l.config.emulator?uy(e.config,a):`${e.config.apiScheme}://${a}`;return aN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class uN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Or(this.auth,"network-request-failed")),oN.get())})}}function Fh(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Or(e,t,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(e,t){return Tl(e,"POST","/v1/accounts:delete",t)}async function Cf(e,t){return Tl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hN(e,t=!1){const n=wn(e),i=await n.getIdToken(t),a=hy(i);Mt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ju(Hp(a.auth_time)),issuedAtTime:ju(Hp(a.iat)),expirationTime:ju(Hp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Hp(e){return Number(e)*1e3}function hy(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=TS(n);return a?JSON.parse(a):(uf("Failed to decode base64 JWT payload"),null)}catch(a){return uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function JE(e){const t=hy(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof rs&&fN(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function fN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(e){const t=e.auth,n=await e.getIdToken(),i=await Xu(e,Cf(t,{idToken:n}));Mt(i?.users.length,t,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?zS(a.providerUserInfo):[],c=pN(e.providerData,l),f=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new pg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function mN(e){const t=wn(e);await If(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pN(e,t){return[...e.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function zS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t){const n=await LS(e,{},async()=>{const i=mc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await US(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return e.emulatorConfig&&El(e.emulatorConfig.host)&&(m.credentials="include"),PS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yN(e,t){return Tl(e,"POST","/v2/accounts:revokeToken",cy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):JE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Mt(t.length!==0,"internal-error");const n=JE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await gN(t,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Qo;return i&&(Mt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(Mt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Mt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Mr{constructor({uid:t,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hN(this,t)}reload(){return mN(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Mr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(La(this.auth));const t=await this.getIdToken();return await Xu(this,cN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:I,stsTokenManager:D}=n;Mt(v&&D,t,"internal-error");const M=Qo.fromJSON(this.name,D);Mt(typeof v=="string",t,"internal-error"),Ns(i,t.name),Ns(a,t.name),Mt(typeof E=="boolean",t,"internal-error"),Mt(typeof S=="boolean",t,"internal-error"),Ns(l,t.name),Ns(c,t.name),Ns(f,t.name),Ns(m,t.name),Ns(p,t.name),Ns(y,t.name);const k=new Mr({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:M,createdAt:p,lastLoginAt:y});return I&&Array.isArray(I)&&(k.providerData=I.map(H=>({...H}))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,n,i=!1){const a=new Qo;a.updateFromServerResponse(n);const l=new Mr({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await If(l),l}static async _fromGetAccountInfoResponse(t,n,i){const a=n.users[0];Mt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Qo;f.updateFromIdToken(i);const m=new Mr({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Map;function Gi(e){Wi(e instanceof Function,"Expected a class definition");let t=tw.get(e);return t?(Wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}BS.type="NONE";const ew=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(e,t,n){return`firebase:${e}:${t}:${n}`}class Zo{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=cf(this.userKey,a.apiKey,l),this.fullPersistenceKey=cf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Cf(this.auth,{idToken:t}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,t):null}return Mr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Zo(Gi(ew),t,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Gi(ew);const c=cf(i,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const E=await Cf(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Mr._fromGetAccountInfoResponse(t,E,y)}else v=Mr._fromJSON(t,y);p!==l&&(f=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Zo(l,t,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Zo(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GS(t))return"Blackberry";if(YS(t))return"Webos";if(jS(t))return"Safari";if((t.includes("chrome/")||qS(t))&&!t.includes("edge/"))return"Chrome";if($S(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function HS(e=En()){return/firefox\//i.test(e)}function jS(e=En()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qS(e=En()){return/crios\//i.test(e)}function FS(e=En()){return/iemobile/i.test(e)}function $S(e=En()){return/android/i.test(e)}function GS(e=En()){return/blackberry/i.test(e)}function YS(e=En()){return/webos/i.test(e)}function fy(e=En()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _N(e=En()){return fy(e)&&!!window.navigator?.standalone}function vN(){return V2()&&document.documentMode===10}function KS(e=En()){return fy(e)||$S(e)||YS(e)||GS(e)||/windows phone/i.test(e)||FS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e,t=[]){let n;switch(e){case"Browser":n=nw(En());break;case"Worker":n=`${nw(En())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(e,t={}){return Tl(e,"GET","/v2/passwordPolicy",cy(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=6;class SN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n,i,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rw(this),this.idTokenSubscription=new rw(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Cf(this,{idToken:t}),i=await Mr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ir(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await If(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ir(this.app))return Promise.reject(La(this));const n=t?wn(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ir(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wN(this),n=new SN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new dc("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await yN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Gi(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function rd(e){return wn(e)}class rw{constructor(t){this.auth=t,this.observer=null,this.addObserver=j2(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AN(e){dy=e}function RN(e){return dy.loadJS(e)}function xN(){return dy.gapiScript}function CN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e,t){const n=ay(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ba(l,t??{}))return a;pi(a,"already-initialized")}return n.initialize({options:t})}function NN(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Gi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function DN(e,t,n){const i=rd(e);Mt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=QS(t),{host:c,port:f}=MN(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Mt(Ba(p,i.config.emulator)&&Ba(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,El(c)?(RS(`${l}//${c}${m}`),xS("Auth",!0)):ON()}function QS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MN(e){const t=QS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:iw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:iw(c)}}}function iw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ON(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(e,t){return lN(e,"POST","/v1/accounts:signInWithIdp",cy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="http://localhost";class ja extends ZS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Wo(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Wo(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wo(t,n)}buildRequest(){const t={requestUri:VN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=mc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends my{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends gc{constructor(){super("facebook.com")}static credential(t){return ja._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vs.credential(t.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ja._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends gc{constructor(){super("github.com")}static credential(t){return ja._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends gc{constructor(){super("twitter.com")}static credential(t,n){return ja._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ps.credential(n,i)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,a=!1){const l=await Mr._fromIdTokenResponse(t,i,a),c=sw(i);return new al({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const a=sw(i);return new al({user:t,providerId:a,_tokenResponse:i,operationType:n})}}function sw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends rs{constructor(t,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,a){return new Nf(t,n,i,a)}}function WS(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(e,l,t,i):l})}async function kN(e,t,n=!1){const i=await Xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return al._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e,t,n=!1){const{auth:i}=e;if(Ir(i.app))return Promise.reject(La(i));const a="reauthenticate";try{const l=await Xu(e,WS(i,a,t,e),n);Mt(l.idToken,i,"internal-error");const c=hy(l.idToken);Mt(c,i,"internal-error");const{sub:f}=c;return Mt(e.uid===f,i,"user-mismatch"),al._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&pi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(e,t,n=!1){if(Ir(e.app))return Promise.reject(La(e));const i="signIn",a=await WS(e,i,t),l=await al._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(l.user),l}function UN(e,t,n,i){return wn(e).onIdTokenChanged(t,n,i)}function zN(e,t,n){return wn(e).beforeAuthStateChanged(t,n)}function BN(e,t,n,i){return wn(e).onAuthStateChanged(t,n,i)}function HN(e){return wn(e).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1e3,qN=10;class t1 extends JS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&t(n,a,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);vN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,qN):a()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}t1.type="LOCAL";const FN=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends JS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}e1.type="SESSION";const n1=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const i=new id(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await $N(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=py("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function YN(e){ui().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function KN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XN(){return navigator?.serviceWorker?.controller||null}function QN(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebaseLocalStorageDb",ZN=1,Mf="firebaseLocalStorage",s1="fbase_key";class yc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(e,t){return e.transaction([Mf],t?"readwrite":"readonly").objectStore(Mf)}function WN(){const e=indexedDB.deleteDatabase(i1);return new yc(e).toPromise()}function gg(){const e=indexedDB.open(i1,ZN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Mf,{keyPath:s1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Mf)?t(i):(i.close(),await WN(),t(await gg()))})})}async function aw(e,t,n){const i=sd(e,!0).put({[s1]:t,value:n});return new yc(i).toPromise()}async function JN(e,t){const n=sd(e,!1).get(t),i=await new yc(n).toPromise();return i===void 0?null:i.value}function ow(e,t){const n=sd(e,!0).delete(t);return new yc(n).toPromise()}const tD=800,eD=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>eD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(QN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gg();return await aw(t,Df,"1"),await ow(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>aw(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>JN(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=sd(a,!1).getAll();return new yc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const nD=a1;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e,t){return t?Gi(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends ZS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rD(e){return LN(e.auth,new gy(e),e.bypassAuthState)}function iD(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),PN(n,new gy(e),e.bypassAuthState)}async function sD(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),kN(n,new gy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:pi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new pc(2e3,1e4);async function oD(e,t,n){if(Ir(e.app))return Promise.reject(Or(e,"operation-not-supported-in-this-environment"));const i=rd(e);eN(e,t,my);const a=o1(i,n);return new Oa(i,"signInViaPopup",t,a).executeNotNull()}class Oa extends l1{constructor(t,n,i,a,l){super(t,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aD.get())};t()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",hf=new Map;class uD extends l1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const i=await cD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cD(e,t){const n=dD(t),i=fD(e);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function hD(e,t){hf.set(e._key(),t)}function fD(e){return Gi(e._redirectPersistence)}function dD(e){return cf(lD,e.config.apiKey,e.name)}async function mD(e,t,n=!1){if(Ir(e.app))return Promise.reject(La(e));const i=rd(e),a=o1(i,t),c=await new uD(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=600*1e3;class gD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!u1(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pD&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(t))}saveEventToCache(t){this.cachedEventUids.add(lw(t)),this.lastProcessedEventTime=Date.now()}}function lw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function u1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function yD(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(e,t={}){return Tl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ED=/^https?/;async function wD(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _D(e);for(const n of t)try{if(TD(n))return}catch{}pi(e,"unauthorized-domain")}function TD(e){const t=mg(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!ED.test(n))return!1;if(vD.test(e))return i===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new pc(3e4,6e4);function uw(){const e=ui().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bD(e){return new Promise((t,n)=>{function i(){uw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(Or(e,"network-request-failed"))},timeout:SD.get()})}if(ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ui().gapi?.load)i();else{const a=CN("iframefcb");return ui()[a]=()=>{gapi.load?i():n(Or(e,"network-request-failed"))},RN(`${xN()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ff=null,t})}let ff=null;function AD(e){return ff=ff||bD(e),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new pc(5e3,15e3),xD="__/auth/iframe",CD="emulator/auth/iframe",ID={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ND=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DD(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?uy(t,CD):`https://${e.config.authDomain}/${xD}`,i={apiKey:t.apiKey,appName:e.name,v:wl},a=ND.get(e.config.apiHost);a&&(i.eid=a);const l=e._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${mc(i).slice(1)}`}async function MD(e){const t=await AD(e),n=ui().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:DD(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ID,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Or(e,"network-request-failed"),f=ui().setTimeout(()=>{l(c)},RD.get());function m(){ui().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VD=500,kD=600,PD="_blank",LD="http://localhost";class cw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UD(e,t,n,i=VD,a=kD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...OD,width:i.toString(),height:a.toString(),top:l,left:c},p=En().toLowerCase();n&&(f=qS(p)?PD:n),HS(p)&&(t=t||LD,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[S,I])=>`${E}${S}=${I},`,"");if(_N(p)&&f!=="_self")return zD(t||"",f),new cw(null);const v=window.open(t||"",f,y);Mt(v,e,"popup-blocked");try{v.focus()}catch{}return new cw(v)}function zD(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="__/auth/handler",HD="emulator/auth/handler",jD=encodeURIComponent("fac");async function hw(e,t,n,i,a,l){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:wl,eventId:a};if(t instanceof my){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",H2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof gc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${jD}=${encodeURIComponent(m)}`:"";return`${qD(e)}?${mc(f).slice(1)}${p}`}function qD({config:e}){return e.emulator?uy(e,HD):`https://${e.authDomain}/${BD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class FD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n1,this._completeRedirectFn=mD,this._overrideRedirectResult=hD}async _openPopup(t,n,i,a){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hw(t,n,i,mg(),a);return UD(t,l,py())}async _openRedirect(t,n,i,a){await this._originValidation(t);const l=await hw(t,n,i,mg(),a);return YN(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await MD(t),i=new gD(t);return n.register("authEvent",a=>(Mt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(jp,{type:jp},a=>{const l=a?.[0]?.[jp];l!==void 0&&n(!!l),pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return KS()||jS()||fy()}}const $D=FD;var fw="@firebase/auth",dw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KD(e){sl(new Ha("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Mt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(e)},p=new bN(i,a,l,m);return NN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),sl(new Ha("auth-internal",t=>{const n=rd(t.getProvider("auth").getImmediate());return(i=>new GD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(fw,dw,YD(e)),Hs(fw,dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=300,QD=AS("authIdTokenMaxAge")||XD;let mw=null;const ZD=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>QD)return;const a=n?.token;mw!==a&&(mw=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WD(e=DS()){const t=ay(e,"auth");if(t.isInitialized())return t.getImmediate();const n=IN(e,{popupRedirectResolver:$D,persistence:[nD,FN,n1]}),i=AS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ZD(l.toString());zN(n,c,()=>c(n.currentUser)),UN(n,f=>c(f))}}const a=SS("auth");return a&&DN(n,`http://${a}`),n}function JD(){return document.getElementsByTagName("head")?.[0]??document}AN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=a=>{const l=Or("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",JD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KD("Browser");var tM="firebase",eM="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(tM,eM,"app");var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,c1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,R){function b(){}b.prototype=R.prototype,P.D=R.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(O,z,B){for(var x=Array(arguments.length-2),L=2;L<arguments.length;L++)x[L-2]=arguments[L];return R.prototype[z].apply(O,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,b){b||(b=0);var O=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)O[z]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(z=0;16>z;++z)O[z]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=P.g[0],b=P.g[1],z=P.g[2];var B=P.g[3],x=R+(B^b&(z^B))+O[0]+3614090360&4294967295;R=b+(x<<7&4294967295|x>>>25),x=B+(z^R&(b^z))+O[1]+3905402710&4294967295,B=R+(x<<12&4294967295|x>>>20),x=z+(b^B&(R^b))+O[2]+606105819&4294967295,z=B+(x<<17&4294967295|x>>>15),x=b+(R^z&(B^R))+O[3]+3250441966&4294967295,b=z+(x<<22&4294967295|x>>>10),x=R+(B^b&(z^B))+O[4]+4118548399&4294967295,R=b+(x<<7&4294967295|x>>>25),x=B+(z^R&(b^z))+O[5]+1200080426&4294967295,B=R+(x<<12&4294967295|x>>>20),x=z+(b^B&(R^b))+O[6]+2821735955&4294967295,z=B+(x<<17&4294967295|x>>>15),x=b+(R^z&(B^R))+O[7]+4249261313&4294967295,b=z+(x<<22&4294967295|x>>>10),x=R+(B^b&(z^B))+O[8]+1770035416&4294967295,R=b+(x<<7&4294967295|x>>>25),x=B+(z^R&(b^z))+O[9]+2336552879&4294967295,B=R+(x<<12&4294967295|x>>>20),x=z+(b^B&(R^b))+O[10]+4294925233&4294967295,z=B+(x<<17&4294967295|x>>>15),x=b+(R^z&(B^R))+O[11]+2304563134&4294967295,b=z+(x<<22&4294967295|x>>>10),x=R+(B^b&(z^B))+O[12]+1804603682&4294967295,R=b+(x<<7&4294967295|x>>>25),x=B+(z^R&(b^z))+O[13]+4254626195&4294967295,B=R+(x<<12&4294967295|x>>>20),x=z+(b^B&(R^b))+O[14]+2792965006&4294967295,z=B+(x<<17&4294967295|x>>>15),x=b+(R^z&(B^R))+O[15]+1236535329&4294967295,b=z+(x<<22&4294967295|x>>>10),x=R+(z^B&(b^z))+O[1]+4129170786&4294967295,R=b+(x<<5&4294967295|x>>>27),x=B+(b^z&(R^b))+O[6]+3225465664&4294967295,B=R+(x<<9&4294967295|x>>>23),x=z+(R^b&(B^R))+O[11]+643717713&4294967295,z=B+(x<<14&4294967295|x>>>18),x=b+(B^R&(z^B))+O[0]+3921069994&4294967295,b=z+(x<<20&4294967295|x>>>12),x=R+(z^B&(b^z))+O[5]+3593408605&4294967295,R=b+(x<<5&4294967295|x>>>27),x=B+(b^z&(R^b))+O[10]+38016083&4294967295,B=R+(x<<9&4294967295|x>>>23),x=z+(R^b&(B^R))+O[15]+3634488961&4294967295,z=B+(x<<14&4294967295|x>>>18),x=b+(B^R&(z^B))+O[4]+3889429448&4294967295,b=z+(x<<20&4294967295|x>>>12),x=R+(z^B&(b^z))+O[9]+568446438&4294967295,R=b+(x<<5&4294967295|x>>>27),x=B+(b^z&(R^b))+O[14]+3275163606&4294967295,B=R+(x<<9&4294967295|x>>>23),x=z+(R^b&(B^R))+O[3]+4107603335&4294967295,z=B+(x<<14&4294967295|x>>>18),x=b+(B^R&(z^B))+O[8]+1163531501&4294967295,b=z+(x<<20&4294967295|x>>>12),x=R+(z^B&(b^z))+O[13]+2850285829&4294967295,R=b+(x<<5&4294967295|x>>>27),x=B+(b^z&(R^b))+O[2]+4243563512&4294967295,B=R+(x<<9&4294967295|x>>>23),x=z+(R^b&(B^R))+O[7]+1735328473&4294967295,z=B+(x<<14&4294967295|x>>>18),x=b+(B^R&(z^B))+O[12]+2368359562&4294967295,b=z+(x<<20&4294967295|x>>>12),x=R+(b^z^B)+O[5]+4294588738&4294967295,R=b+(x<<4&4294967295|x>>>28),x=B+(R^b^z)+O[8]+2272392833&4294967295,B=R+(x<<11&4294967295|x>>>21),x=z+(B^R^b)+O[11]+1839030562&4294967295,z=B+(x<<16&4294967295|x>>>16),x=b+(z^B^R)+O[14]+4259657740&4294967295,b=z+(x<<23&4294967295|x>>>9),x=R+(b^z^B)+O[1]+2763975236&4294967295,R=b+(x<<4&4294967295|x>>>28),x=B+(R^b^z)+O[4]+1272893353&4294967295,B=R+(x<<11&4294967295|x>>>21),x=z+(B^R^b)+O[7]+4139469664&4294967295,z=B+(x<<16&4294967295|x>>>16),x=b+(z^B^R)+O[10]+3200236656&4294967295,b=z+(x<<23&4294967295|x>>>9),x=R+(b^z^B)+O[13]+681279174&4294967295,R=b+(x<<4&4294967295|x>>>28),x=B+(R^b^z)+O[0]+3936430074&4294967295,B=R+(x<<11&4294967295|x>>>21),x=z+(B^R^b)+O[3]+3572445317&4294967295,z=B+(x<<16&4294967295|x>>>16),x=b+(z^B^R)+O[6]+76029189&4294967295,b=z+(x<<23&4294967295|x>>>9),x=R+(b^z^B)+O[9]+3654602809&4294967295,R=b+(x<<4&4294967295|x>>>28),x=B+(R^b^z)+O[12]+3873151461&4294967295,B=R+(x<<11&4294967295|x>>>21),x=z+(B^R^b)+O[15]+530742520&4294967295,z=B+(x<<16&4294967295|x>>>16),x=b+(z^B^R)+O[2]+3299628645&4294967295,b=z+(x<<23&4294967295|x>>>9),x=R+(z^(b|~B))+O[0]+4096336452&4294967295,R=b+(x<<6&4294967295|x>>>26),x=B+(b^(R|~z))+O[7]+1126891415&4294967295,B=R+(x<<10&4294967295|x>>>22),x=z+(R^(B|~b))+O[14]+2878612391&4294967295,z=B+(x<<15&4294967295|x>>>17),x=b+(B^(z|~R))+O[5]+4237533241&4294967295,b=z+(x<<21&4294967295|x>>>11),x=R+(z^(b|~B))+O[12]+1700485571&4294967295,R=b+(x<<6&4294967295|x>>>26),x=B+(b^(R|~z))+O[3]+2399980690&4294967295,B=R+(x<<10&4294967295|x>>>22),x=z+(R^(B|~b))+O[10]+4293915773&4294967295,z=B+(x<<15&4294967295|x>>>17),x=b+(B^(z|~R))+O[1]+2240044497&4294967295,b=z+(x<<21&4294967295|x>>>11),x=R+(z^(b|~B))+O[8]+1873313359&4294967295,R=b+(x<<6&4294967295|x>>>26),x=B+(b^(R|~z))+O[15]+4264355552&4294967295,B=R+(x<<10&4294967295|x>>>22),x=z+(R^(B|~b))+O[6]+2734768916&4294967295,z=B+(x<<15&4294967295|x>>>17),x=b+(B^(z|~R))+O[13]+1309151649&4294967295,b=z+(x<<21&4294967295|x>>>11),x=R+(z^(b|~B))+O[4]+4149444226&4294967295,R=b+(x<<6&4294967295|x>>>26),x=B+(b^(R|~z))+O[11]+3174756917&4294967295,B=R+(x<<10&4294967295|x>>>22),x=z+(R^(B|~b))+O[2]+718787259&4294967295,z=B+(x<<15&4294967295|x>>>17),x=b+(B^(z|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(z+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+B&4294967295}i.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var b=R-this.blockSize,O=this.B,z=this.h,B=0;B<R;){if(z==0)for(;B<=b;)a(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<R;)if(O[z++]=P.charCodeAt(B++),z==this.blockSize){a(this,O),z=0;break}}else for(;B<R;)if(O[z++]=P[B++],z==this.blockSize){a(this,O),z=0;break}}this.h=z,this.o+=R},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var b=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=b&255,b/=256;for(this.u(P),P=Array(16),R=b=0;4>R;++R)for(var O=0;32>O;O+=8)P[b++]=this.g[R]>>>O&255;return P};function l(P,R){var b=f;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=R(P)}function c(P,R){this.h=R;for(var b=[],O=!0,z=P.length-1;0<=z;z--){var B=P[z]|0;O&&B==R||(b[z]=B,O=!1)}this.g=b}var f={};function m(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return M(p(-P));for(var R=[],b=1,O=0;P>=b;O++)R[O]=P/b|0,b*=4294967296;return new c(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return M(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(R,8)),O=v,z=0;z<P.length;z+=8){var B=Math.min(8,P.length-z),x=parseInt(P.substring(z,z+B),R);8>B?(B=p(Math.pow(R,B)),O=O.j(B).add(p(x))):(O=O.j(b),O=O.add(p(x)))}return O}var v=m(0),E=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(D(this))return-M(this).m();for(var P=0,R=1,b=0;b<this.g.length;b++){var O=this.i(b);P+=(0<=O?O:4294967296+O)*R,R*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(D(this))return"-"+M(this).toString(P);for(var R=p(Math.pow(P,6)),b=this,O="";;){var z=G(b,R).g;b=k(b,z.j(R));var B=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=z,I(b))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function D(P){return P.h==-1}e.l=function(P){return P=k(this,P),D(P)?-1:I(P)?0:1};function M(P){for(var R=P.g.length,b=[],O=0;O<R;O++)b[O]=~P.g[O];return new c(b,~P.h).add(E)}e.abs=function(){return D(this)?M(this):this},e.add=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],O=0,z=0;z<=R;z++){var B=O+(this.i(z)&65535)+(P.i(z)&65535),x=(B>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);O=x>>>16,B&=65535,x&=65535,b[z]=x<<16|B}return new c(b,b[b.length-1]&-2147483648?-1:0)};function k(P,R){return P.add(M(R))}e.j=function(P){if(I(this)||I(P))return v;if(D(this))return D(P)?M(this).j(M(P)):M(M(this).j(P));if(D(P))return M(this.j(M(P)));if(0>this.l(S)&&0>P.l(S))return p(this.m()*P.m());for(var R=this.g.length+P.g.length,b=[],O=0;O<2*R;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var z=0;z<P.g.length;z++){var B=this.i(O)>>>16,x=this.i(O)&65535,L=P.i(z)>>>16,et=P.i(z)&65535;b[2*O+2*z]+=x*et,H(b,2*O+2*z),b[2*O+2*z+1]+=B*et,H(b,2*O+2*z+1),b[2*O+2*z+1]+=x*L,H(b,2*O+2*z+1),b[2*O+2*z+2]+=B*L,H(b,2*O+2*z+2)}for(O=0;O<R;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=R;O<2*R;O++)b[O]=0;return new c(b,0)};function H(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function $(P,R){this.g=P,this.h=R}function G(P,R){if(I(R))throw Error("division by zero");if(I(P))return new $(v,v);if(D(P))return R=G(M(P),R),new $(M(R.g),M(R.h));if(D(R))return R=G(P,M(R)),new $(M(R.g),R.h);if(30<P.g.length){if(D(P)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var b=E,O=R;0>=O.l(P);)b=J(b),O=J(O);var z=at(b,1),B=at(O,1);for(O=at(O,2),b=at(b,2);!I(O);){var x=B.add(O);0>=x.l(P)&&(z=z.add(b),B=x),O=at(O,1),b=at(b,1)}return R=k(P,z.j(R)),new $(z,R)}for(z=v;0<=P.l(R);){for(b=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=p(b),x=B.j(R);D(x)||0<x.l(P);)b-=O,B=p(b),x=B.j(R);I(B)&&(B=E),z=z.add(B),P=k(P,x)}return new $(z,P)}e.A=function(P){return G(this,P).h},e.and=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],O=0;O<R;O++)b[O]=this.i(O)&P.i(O);return new c(b,this.h&P.h)},e.or=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],O=0;O<R;O++)b[O]=this.i(O)|P.i(O);return new c(b,this.h|P.h)},e.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],O=0;O<R;O++)b[O]=this.i(O)^P.i(O);return new c(b,this.h^P.h)};function J(P){for(var R=P.g.length+1,b=[],O=0;O<R;O++)b[O]=P.i(O)<<1|P.i(O-1)>>>31;return new c(b,P.h)}function at(P,R){var b=R>>5;R%=32;for(var O=P.g.length-b,z=[],B=0;B<O;B++)z[B]=0<R?P.i(B+b)>>>R|P.i(B+b+1)<<32-R:P.i(B+b);return new c(z,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,js=c}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,Vu,f1,df,yg,d1,m1,p1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,w){return h==Array.prototype||h==Object.prototype||(h[_]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)t:{var w=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var Q=h[C];if(!(Q in w))break t;w=w[Q]}h=h[h.length-1],C=w[h],_=_(C),_!=C&&_!=null&&t(w,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var w=0,C=!1,Q={next:function(){if(!C&&w<h.length){var ot=w++;return{value:_(ot,h[ot]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,w){return h.call.apply(h.bind,arguments)}function v(h,_,w){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,C),h.apply(_,Q)}}return function(){return h.apply(_,arguments)}}function E(h,_,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,E.apply(null,arguments)}function S(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function I(h,_){function w(){}w.prototype=_.prototype,h.aa=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(C,Q,ot){for(var gt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)gt[Yt-2]=arguments[Yt];return _.prototype[Q].apply(C,gt)}}function D(h){const _=h.length;if(0<_){const w=Array(_);for(let C=0;C<_;C++)w[C]=h[C];return w}return[]}function M(h,_){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(m(C)){const Q=h.length||0,ot=C.length||0;h.length=Q+ot;for(let gt=0;gt<ot;gt++)h[Q+gt]=C[gt]}else h.push(C)}}class k{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var J=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function at(h,_,w){for(const C in h)_.call(w,h[C],C,h)}function P(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function R(h){const _={};for(const w in h)_[w]=h[w];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,_){let w,C;for(let Q=1;Q<arguments.length;Q++){C=arguments[Q];for(w in C)h[w]=C[w];for(let ot=0;ot<b.length;ot++)w=b[ot],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function z(h){var _=1;h=h.split(":");const w=[];for(;0<_&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function B(h){f.setTimeout(()=>{throw h},0)}function x(){var h=X;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,w){const C=et.get();C.set(_,w),this.h?this.h.next=C:this.g=C,this.h=C}}var et=new k(()=>new V,h=>h.reset());class V{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let F,rt=!1,X=new L,N=()=>{const h=f.Promise.resolve(void 0);F=()=>{h.then(q)}};var q=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(w){B(w)}var _=et;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}rt=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,_),f.removeEventListener("test",w,_)}catch{}return h})();function yt(h,_){if(it.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(J){t:{try{G(_.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(_=null)}}else w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement);this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:_t[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&yt.aa.h.call(this)}}I(yt,it);var _t={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),At=0;function Zt(h,_,w,C,Q){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!C,this.ha=Q,this.key=++At,this.da=this.fa=!1}function Gt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h){this.src=h,this.g={},this.h=0}Re.prototype.add=function(h,_,w,C,Q){var ot=h.toString();h=this.g[ot],h||(h=this.g[ot]=[],this.h++);var gt=He(h,_,C,Q);return-1<gt?(_=h[gt],w||(_.fa=!1)):(_=new Zt(_,this.src,ot,!!C,Q),_.fa=w,h.push(_)),_};function De(h,_){var w=_.type;if(w in h.g){var C=h.g[w],Q=Array.prototype.indexOf.call(C,_,void 0),ot;(ot=0<=Q)&&Array.prototype.splice.call(C,Q,1),ot&&(Gt(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function He(h,_,w,C){for(var Q=0;Q<h.length;++Q){var ot=h[Q];if(!ot.da&&ot.listener==_&&ot.capture==!!w&&ot.ha==C)return Q}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),fe={};function Sn(h,_,w,C,Q){if(Array.isArray(_)){for(var ot=0;ot<_.length;ot++)Sn(h,_[ot],w,C,Q);return null}return w=wr(w),h&&h[Nt]?h.K(_,w,p(C)?!!C.capture:!1,Q):Lt(h,_,w,!1,C,Q)}function Lt(h,_,w,C,Q,ot){if(!_)throw Error("Invalid event type");var gt=p(Q)?!!Q.capture:!!Q,Yt=Hn(h);if(Yt||(h[Me]=Yt=new Re(h)),w=Yt.add(_,w,C,gt,ot),w.proxy)return w;if(C=St(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)ft||(Q=gt),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),C,Q);else if(h.attachEvent)h.attachEvent(Bn(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function St(){function h(w){return _.call(h.src,h.listener,w)}const _=Br;return h}function je(h,_,w,C,Q){if(Array.isArray(_))for(var ot=0;ot<_.length;ot++)je(h,_[ot],w,C,Q);else C=p(C)?!!C.capture:!!C,w=wr(w),h&&h[Nt]?(h=h.i,_=String(_).toString(),_ in h.g&&(ot=h.g[_],w=He(ot,w,C,Q),-1<w&&(Gt(ot[w]),Array.prototype.splice.call(ot,w,1),ot.length==0&&(delete h.g[_],h.h--)))):h&&(h=Hn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=He(_,w,C,Q)),(w=-1<h?_[h]:null)&&Mn(w))}function Mn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Nt])De(_.i,h);else{var w=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(w,C,h.capture):_.detachEvent?_.detachEvent(Bn(w),C):_.addListener&&_.removeListener&&_.removeListener(C),(w=Hn(_))?(De(w,h),w.h==0&&(w.src=null,_[Me]=null)):Gt(h)}}}function Bn(h){return h in fe?fe[h]:fe[h]="on"+h}function Br(h,_){if(h.da)h=!0;else{_=new yt(_,this);var w=h.listener,C=h.ha||h.src;h.fa&&Mn(h),h=w.call(C,_)}return h}function Hn(h){return h=h[Me],h instanceof Re?h:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(h){return typeof h=="function"?h:(h[bn]||(h[bn]=function(_){return h.handleEvent(_)}),h[bn])}function te(){tt.call(this),this.i=new Re(this),this.M=this,this.F=null}I(te,tt),te.prototype[Nt]=!0,te.prototype.removeEventListener=function(h,_,w,C){je(this,h,_,w,C)};function Bt(h,_){var w,C=h.F;if(C)for(w=[];C;C=C.F)w.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new it(_,h);else if(_ instanceof it)_.target=_.target||h;else{var Q=_;_=new it(C,h),O(_,Q)}if(Q=!0,w)for(var ot=w.length-1;0<=ot;ot--){var gt=_.g=w[ot];Q=Oe(gt,C,!0,_)&&Q}if(gt=_.g=h,Q=Oe(gt,C,!0,_)&&Q,Q=Oe(gt,C,!1,_)&&Q,w)for(ot=0;ot<w.length;ot++)gt=_.g=w[ot],Q=Oe(gt,C,!1,_)&&Q}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var w=h.g[_],C=0;C<w.length;C++)Gt(w[C]);delete h.g[_],h.h--}}this.F=null},te.prototype.K=function(h,_,w,C){return this.i.add(String(h),_,!1,w,C)},te.prototype.L=function(h,_,w,C){return this.i.add(String(h),_,!0,w,C)};function Oe(h,_,w,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ot=0;ot<_.length;++ot){var gt=_[ot];if(gt&&!gt.da&&gt.capture==w){var Yt=gt.listener,Fe=gt.ha||gt.src;gt.fa&&De(h.i,gt),Q=Yt.call(Fe,C)!==!1&&Q}}return Q&&!C.defaultPrevented}function ye(h,_,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(h,_||0)}function Hr(h){h.g=ye(()=>{h.g=null,h.i&&(h.i=!1,Hr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ve extends tt{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(h){tt.call(this),this.h=h,this.g={}}I(Qe,tt);var An=[];function Rn(h){at(h.g,function(_,w){this.g.hasOwnProperty(w)&&Mn(_)},h),h.g={}}Qe.prototype.N=function(){Qe.aa.N.call(this),Rn(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=f.JSON.stringify,an=f.JSON.parse,xn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function vi(){}vi.prototype.h=null;function Ei(h){return h.h||(h.h=h.i())}function Tr(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){it.call(this,"d")}I(er,it);function qn(){it.call(this,"c")}I(qn,it);var nr={},ea=null;function jr(){return ea=ea||new te}nr.La="serverreachability";function is(h){it.call(this,nr.La,h)}I(is,it);function qr(h){const _=jr();Bt(_,new is(_))}nr.STAT_EVENT="statevent";function Qa(h,_){it.call(this,nr.STAT_EVENT,h),this.stat=_}I(Qa,it);function ce(h){const _=jr();Bt(_,new Qa(_,h))}nr.Ma="timingevent";function xe(h,_){it.call(this,nr.Ma,h),this.size=_}I(xe,it);function Te(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},_)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function na(h,_,w,C,Q,ot){h.info(function(){if(h.g)if(ot)for(var gt="",Yt=ot.split("&"),Fe=0;Fe<Yt.length;Fe++){var Kt=Yt[Fe].split("=");if(1<Kt.length){var Je=Kt[0];Kt=Kt[1];var $e=Je.split("_");gt=2<=$e.length&&$e[1]=="type"?gt+(Je+"="+Kt+"&"):gt+(Je+"=redacted&")}}else gt=null;else gt=ot;return"XMLHTTP REQ ("+C+") [attempt "+Q+"]: "+_+`
`+w+`
`+gt})}function xl(h,_,w,C,Q,ot,gt){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Q+"]: "+_+`
`+w+`
`+ot+" "+gt})}function Fr(h,_,w,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+wi(h,w)+(C?" "+C:"")})}function Za(h,_){h.info(function(){return"TIMEOUT: "+_})}On.prototype.info=function(){};function wi(h,_){if(!h.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var C=w[h];if(!(2>C.length)){var Q=C[1];if(Array.isArray(Q)&&!(1>Q.length)){var ot=Q[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var gt=1;gt<Q.length;gt++)Q[gt]=""}}}}return Ze(w)}catch{return _}}var $r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}I(sr,vi),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function on(h,_,w,C){this.j=h,this.i=_,this.l=w,this.R=C||1,this.U=new Qe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var ra={},ss={};function Fn(h,_,w){h.L=1,h.v=oa($n(_)),h.m=w,h.P=!0,Sr(h,null)}function Sr(h,_){h.F=Date.now(),Ti(h),h.A=$n(h.v);var w=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Ol(w.i,"t",C),h.C=0,w=h.j.J,h.h=new _e,h.g=zc(h.j,w?_:null,!h.m),0<h.O&&(h.M=new Ve(E(h.Y,h,h.g),h.O)),_=h.U,w=h.g,C=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(An[0]=Q.toString()),Q=An);for(var ot=0;ot<Q.length;ot++){var gt=Sn(w,Q[ot],C||_.handleEvent,!1,_.h||_);if(!gt)break;_.g[gt.key]=gt}_=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),qr(),na(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const _=this.M;_&&cr(h)==3?_.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const $e=cr(this.g);var _=this.g.Ba();const Ii=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||$e!=4||_==7||(_==8||0>=Ii?qr(3):qr(2)),Gr(this);var w=this.g.Z();this.X=w;e:if(ia(this)){var C=Dc(this.g);h="";var Q=C.length,ot=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ar(this);var gt="";break e}this.h.i=new f.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,h+=this.h.i.decode(C[_],{stream:!(ot&&_==Q-1)});C.length=0,this.h.g+=h,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=w==200,xl(this.i,this.u,this.A,this.l,this.R,$e,w),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,Fe=this.g;if((Yt=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Yt)){var Kt=Yt;break e}}Kt=null}if(w=Kt)Fr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,w);else{this.o=!1,this.s=3,ce(12),qe(this),ar(this);break t}}if(this.P){w=!0;let ln;for(;!this.J&&this.C<gt.length;)if(ln=Wa(this,gt),ln==ss){$e==4&&(this.s=4,ce(14),w=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ra){this.s=4,ce(15),Fr(this.i,this.l,gt,"[Invalid Chunk]"),w=!1;break}else Fr(this.i,this.l,ln,null),Yr(this,ln);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||gt.length!=0||this.h.h||(this.s=1,ce(16),w=!1),this.o=this.o&&w,!w)Fr(this.i,this.l,gt,"[Invalid Chunked Response]"),qe(this),ar(this);else if(0<gt.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),pa(Je),Je.M=!0,ce(11))}}else Fr(this.i,this.l,gt,null),Yr(this,gt);$e==4&&qe(this),this.o&&!this.J&&($e==4?Pc(this.j,this):(this.o=!1,Ti(this)))}else Pd(this.g),w==400&&0<gt.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),qe(this),ar(this)}}}catch{}finally{}};function ia(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Wa(h,_){var w=h.C,C=_.indexOf(`
`,w);return C==-1?ss:(w=Number(_.substring(w,C)),isNaN(w)?ra:(C+=1,C+w>_.length?ss:(_=_.slice(C,C+w),h.C=C+w,_)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function Ti(h){h.S=Date.now()+h.I,Ja(h,h.I)}function Ja(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(E(h.ba,h),_)}function Gr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Za(this.i,this.A),this.L!=2&&(qr(),ce(17)),qe(this),this.s=2,ar(this)):Ja(this,this.S-h)};function ar(h){h.j.G==0||h.J||Pc(h.j,h)}function qe(h){Gr(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Rn(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Yr(h,_){try{var w=h.j;if(w.G!=0&&(w.g==h||Cl(w.h,h))){if(!h.K&&Cl(w.h,h)&&w.G==3){try{var C=w.Da.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Q=C;if(Q[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)co(w),lo(w);else break t;Ul(w),ce(18)}}else w.za=Q[1],0<w.za-w.T&&37500>Q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Te(E(w.Za,w),6e3));if(1>=Kr(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ci(w,11)}else if((h.K||w.g==h)&&co(w),!H(_))for(Q=w.Da.g.parse(_),_=0;_<Q.length;_++){let Kt=Q[_];if(w.T=Kt[0],Kt=Kt[1],w.G==2)if(Kt[0]=="c"){w.K=Kt[1],w.ia=Kt[2];const Je=Kt[3];Je!=null&&(w.la=Je,w.j.info("VER="+w.la));const $e=Kt[4];$e!=null&&(w.Aa=$e,w.j.info("SVER="+w.Aa));const Ii=Kt[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(C=1.5*Ii,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const ln=h.g;if(ln){const ei=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var ot=C.h;ot.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(eo(ot,ot.h),ot.h=null))}if(C.D){const Bl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(C.ya=Bl,se(C.I,C.D,Bl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var gt=h;if(C.qa=Uc(C,C.J?C.ia:null,C.W),gt.K){Cn(C.h,gt);var Yt=gt,Fe=C.L;Fe&&(Yt.I=Fe),Yt.B&&(Gr(Yt),Ti(Yt)),C.g=gt}else Vc(C);0<w.i.length&&uo(w)}else Kt[0]!="stop"&&Kt[0]!="close"||Ci(w,7);else w.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ci(w,7):Pl(w):Kt[0]!="noop"&&w.l&&w.l.ta(Kt),w.v=0)}}qr(4)}catch{}}var to=class{constructor(h,_){this.g=h,this.map=_}};function br(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Kr(h){return h.h?1:h.g?h.g.size:0}function Cl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function eo(h,_){h.g?h.g.add(_):h.h=_}function Cn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}br.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.D);return _}return D(h.i)}function Md(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var _=[],w=h.length,C=0;C<w;C++)_.push(h[C]);return _}_=[],w=0;for(C in h)_[w++]=h[C];return _}function no(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var _=[];h=h.length;for(var w=0;w<h;w++)_.push(w);return _}_=[],w=0;for(const C in h)_[w++]=C;return _}}}function Nl(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var w=no(h),C=Md(h),Q=C.length,ot=0;ot<Q;ot++)_.call(void 0,C[ot],w&&w[ot],h)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(h,_){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var C=h[w].indexOf("="),Q=null;if(0<=C){var ot=h[w].substring(0,C);Q=h[w].substring(C+1)}else ot=h[w];_(ot,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ke(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ke){this.h=h.h,aa(this,h.j),this.o=h.o,this.g=h.g,os(this,h.s),this.l=h.l;var _=h.i,w=new bi;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),Si(this,w),this.m=h.m}else h&&(_=String(h).match(sa))?(this.h=!1,aa(this,_[1]||"",!0),this.o=or(_[2]||""),this.g=or(_[3]||"",!0),os(this,_[4]),this.l=or(_[5]||"",!0),Si(this,_[6]||"",!0),this.m=or(_[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}ke.prototype.toString=function(){var h=[],_=this.j;_&&h.push(la(_,Dl,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(la(_,Dl,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(la(w,w.charAt(0)=="/"?Vd:Ml,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",la(w,ro)),h.join("")};function $n(h){return new ke(h)}function aa(h,_,w){h.j=w?or(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function os(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Si(h,_,w){_ instanceof bi?(h.i=_,Ic(h.i,h.h)):(w||(_=la(_,kd)),h.i=new bi(_,h.h))}function se(h,_,w){h.i.set(_,w)}function oa(h){return se(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function or(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,Cc),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Dl=/[#\/\?@]/g,Ml=/[#\?:]/g,Vd=/[#\?]/g,kd=/[#\?@]/g,ro=/#/g;function bi(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function lr(h){h.g||(h.g=new Map,h.h=0,h.i&&Od(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}e=bi.prototype,e.add=function(h,_){lr(this),this.i=null,h=Xr(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function Ai(h,_){lr(h),_=Xr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ri(h,_){return lr(h),_=Xr(h,_),h.g.has(_)}e.forEach=function(h,_){lr(this),this.g.forEach(function(w,C){w.forEach(function(Q){h.call(_,Q,C,this)},this)},this)},e.na=function(){lr(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let C=0;C<_.length;C++){const Q=h[C];for(let ot=0;ot<Q.length;ot++)w.push(_[C])}return w},e.V=function(h){lr(this);let _=[];if(typeof h=="string")Ri(this,h)&&(_=_.concat(this.g.get(Xr(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)_=_.concat(h[w])}return _},e.set=function(h,_){return lr(this),this.i=null,h=Xr(this,h),Ri(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},e.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Ol(h,_,w){Ai(h,_),0<w.length&&(h.i=null,h.g.set(Xr(h,_),D(w)),h.h+=w.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var C=_[w];const ot=encodeURIComponent(String(C)),gt=this.V(C);for(C=0;C<gt.length;C++){var Q=ot;gt[C]!==""&&(Q+="="+encodeURIComponent(String(gt[C]))),h.push(Q)}}return this.i=h.join("&")};function Xr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ic(h,_){_&&!h.j&&(lr(h),h.i=null,h.g.forEach(function(w,C){var Q=C.toLowerCase();C!=Q&&(Ai(this,C),Ol(this,Q,w))},h)),h.j=_}function ua(h,_){const w=new On;if(f.Image){const C=new Image;C.onload=S(ur,w,"TestLoadImage: loaded",!0,_,C),C.onerror=S(ur,w,"TestLoadImage: error",!1,_,C),C.onabort=S(ur,w,"TestLoadImage: abort",!1,_,C),C.ontimeout=S(ur,w,"TestLoadImage: timeout",!1,_,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function Ar(h,_){const w=new On,C=new AbortController,Q=setTimeout(()=>{C.abort(),ur(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(ot=>{clearTimeout(Q),ot.ok?ur(w,"TestPingServer: ok",!0,_):ur(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),ur(w,"TestPingServer: error",!1,_)})}function ur(h,_,w,C,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),C(w)}catch{}}function ca(){this.g=new xn}function Qr(h,_,w){const C=w||"";try{Nl(h,function(Q,ot){let gt=Q;p(Q)&&(gt=Ze(Q)),_.push(C+ot+"="+encodeURIComponent(gt))})}catch(Q){throw _.push(C+"type="+encodeURIComponent("_badmap")),Q}}function ls(h){this.l=h.Ub||null,this.j=h.eb||!1}I(ls,vi),ls.prototype.g=function(){return new xi(this.l,this.j)},ls.prototype.i=(function(h){return function(){return h}})({});function xi(h,_){te.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(xi,te),e=xi.prototype,e.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Wr(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Zr(this):Wr(this),this.readyState==3&&Vl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Zr(this))},e.Qa=function(h){this.g&&(this.response=h,Zr(this))},e.ga=function(){this.g&&Zr(this)};function Zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Wr(h)}e.setRequestHeader=function(h,_){this.u.append(h,_)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function Wr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kl(h){let _="";return at(h,function(w,C){_+=C,_+=":",_+=w,_+=`\r
`}),_}function We(h,_,w){t:{for(C in w){var C=!1;break t}C=!0}C||(w=kl(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):se(h,_,w))}function ee(h){te.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ee,te);var io=/^https?$/i,ha=["POST","PUT"];e=ee.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,_,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?Ei(this.o):Ei(ir),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ot){Nc(this,ot);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Q in C)w.set(Q,C[Q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ot of C.keys())w.set(ot,C.get(ot));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(ot=>ot.toLowerCase()=="content-type"),Q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ha,_,void 0))||C||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,gt]of w)this.g.setRequestHeader(ot,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ot){Nc(this,ot)}};function Nc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,so(h),Jr(h)}function so(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Bt(this,"complete"),Bt(this,"abort"),Jr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),ee.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},e.bb=function(){ao(this)};function ao(h){if(h.h&&typeof c<"u"&&(!h.v[1]||cr(h)!=4||h.Z()!=2)){if(h.u&&cr(h)==4)ye(h.Ea,0,h);else if(Bt(h,"readystatechange"),cr(h)==4){h.h=!1;try{const gt=h.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var w;if(!(w=_)){var C;if(C=gt===0){var Q=String(h.D).match(sa)[1]||null;!Q&&f.self&&f.self.location&&(Q=f.self.location.protocol.slice(0,-1)),C=!io.test(Q?Q.toLowerCase():"")}w=C}if(w)Bt(h,"complete"),Bt(h,"success");else{h.m=6;try{var ot=2<cr(h)?h.g.statusText:""}catch{ot=""}h.l=ot+" ["+h.Z()+"]",so(h)}}finally{Jr(h)}}}}function Jr(h,_){if(h.g){fa(h);const w=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Bt(h,"ready");try{w.onreadystatechange=C}catch{}}}function fa(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function cr(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),an(_)}};function Dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(h){const _={};h=(h.g&&2<=cr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(H(h[C]))continue;var w=z(h[C]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ot=_[Q]||[];_[Q]=ot,ot.push(w)}P(_,function(C){return C.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function oo(h){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,h),this.cb=da("retryDelaySeedMs",1e4,h),this.Wa=da("forwardChannelMaxRetries",2,h),this.wa=da("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new br(h&&h.concurrentRequestLimit),this.Da=new ca,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=oo.prototype,e.la=8,e.G=1,e.connect=function(h,_,w,C){ce(0),this.W=h,this.H=_||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=Uc(this,null,this.W),uo(this)};function Pl(h){if(Mc(h),h.G==3){var _=h.U++,w=$n(h.I);if(se(w,"SID",h.K),se(w,"RID",_),se(w,"TYPE","terminate"),ma(h,w),_=new on(h,h.j,_),_.L=2,_.v=oa($n(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=_.v,w=!0),w||(_.g=zc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ti(_)}Lc(h)}function lo(h){h.g&&(pa(h),h.g.cancel(),h.g=null)}function Mc(h){lo(h),h.u&&(f.clearTimeout(h.u),h.u=null),co(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function uo(h){if(!as(h.h)&&!h.s){h.s=!0;var _=h.Ga;F||N(),rt||(F(),rt=!0),X.add(_,h),h.B=0}}function Ld(h,_){return Kr(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(E(h.Ga,h,_),zl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new on(this,this.j,h);let ot=this.o;if(this.S&&(ot?(ot=R(ot),O(ot,this.S)):ot=this.S),this.m!==null||this.O||(Q.H=ot,ot=null),this.P)t:{for(var _=0,w=0;w<this.i.length;w++){e:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(_+=C,4096<_){_=w;break t}if(_===4096||w===this.i.length-1){_=w+1;break t}}_=1e3}else _=1e3;_=Oc(this,Q,_),w=$n(this.I),se(w,"RID",h),se(w,"CVER",22),this.D&&se(w,"X-HTTP-Session-Id",this.D),ma(this,w),ot&&(this.O?_="headers="+encodeURIComponent(String(kl(ot)))+"&"+_:this.m&&We(w,this.m,ot)),eo(this.h,Q),this.Ua&&se(w,"TYPE","init"),this.P?(se(w,"$req",_),se(w,"SID","null"),Q.T=!0,Fn(Q,w,null)):Fn(Q,w,_),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||as(this.h)||Ll(this))};function Ll(h,_){var w;_?w=_.l:w=h.U++;const C=$n(h.I);se(C,"SID",h.K),se(C,"RID",w),se(C,"AID",h.T),ma(h,C),h.m&&h.o&&We(C,h.m,h.o),w=new on(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Oc(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),eo(h.h,w),Fn(w,C,_)}function ma(h,_){h.H&&at(h.H,function(w,C){se(_,C,w)}),h.l&&Nl({},function(w,C){se(_,C,w)})}function Oc(h,_,w){w=Math.min(h.i.length,w);var C=h.l?E(h.l.Na,h.l,h):null;t:{var Q=h.i;let ot=-1;for(;;){const gt=["count="+w];ot==-1?0<w?(ot=Q[0].g,gt.push("ofs="+ot)):ot=0:gt.push("ofs="+ot);let Yt=!0;for(let Fe=0;Fe<w;Fe++){let Kt=Q[Fe].g;const Je=Q[Fe].map;if(Kt-=ot,0>Kt)ot=Math.max(0,Q[Fe].g-100),Yt=!1;else try{Qr(Je,gt,"req"+Kt+"_")}catch{C&&C(Je)}}if(Yt){C=gt.join("&");break t}}}return h=h.i.splice(0,w),_.D=h,C}function Vc(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;F||N(),rt||(F(),rt=!0),X.add(_,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(E(h.Fa,h),zl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(E(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),lo(this),kc(this))};function pa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function kc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=$n(h.qa);se(_,"RID","rpc"),se(_,"SID",h.K),se(_,"AID",h.T),se(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&se(_,"TO",h.ja),se(_,"TYPE","xmlhttp"),ma(h,_),h.m&&h.o&&We(_,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=oa($n(_)),w.m=null,w.P=!0,Sr(w,h)}e.Za=function(){this.C!=null&&(this.C=null,lo(this),Ul(this),ce(19))};function co(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Pc(h,_){var w=null;if(h.g==_){co(h),pa(h),h.g=null;var C=2}else if(Cl(h.h,_))w=_.D,Cn(h.h,_),C=1;else return;if(h.G!=0){if(_.o)if(C==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var Q=h.B;C=jr(),Bt(C,new xe(C,w)),uo(h)}else Vc(h);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(C==1&&Ld(h,_)||C==2&&Ul(h)))switch(w&&0<w.length&&(_=h.h,_.i=_.i.concat(w)),Q){case 1:Ci(h,5);break;case 4:Ci(h,10);break;case 3:Ci(h,6);break;default:Ci(h,2)}}}function zl(h,_){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*_}function Ci(h,_){if(h.j.info("Error code "+_),_==2){var w=E(h.fb,h),C=h.Xa;const Q=!C;C=new ke(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||aa(C,"https"),oa(C),Q?ua(C.toString(),w):Ar(C.toString(),w)}else ce(2);h.G=0,h.l&&h.l.sa(_),Lc(h),Mc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Lc(h){if(h.G=0,h.ka=[],h.l){const _=Il(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ka,_),M(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Uc(h,_,w){var C=w instanceof ke?$n(w):new ke(w);if(C.g!="")_&&(C.g=_+"."+C.g),os(C,C.s);else{var Q=f.location;C=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ot=new ke(null);C&&aa(ot,C),_&&(ot.g=_),Q&&os(ot,Q),w&&(ot.l=w),C=ot}return w=h.D,_=h.ya,w&&_&&se(C,w,_),se(C,"VER",h.la),ma(h,C),C}function zc(h,_,w){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ee(new ls({eb:w})):new ee(h.pa),_.Ha(h.J),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}e=Bc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ho(){}ho.prototype.g=function(h,_){return new In(h,_)};function In(h,_){te.call(this),this.g=new oo(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!H(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!H(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ti(this)}I(In,te),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Pl(this.g)},In.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Ze(h),h=w);_.i.push(new to(_.Ya++,h)),_.G==3&&uo(_)},In.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,In.aa.N.call(this)};function Hc(h){er.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const w in _){h=w;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}I(Hc,er);function jc(){qn.call(this),this.status=1}I(jc,qn);function ti(h){this.g=h}I(ti,Bc),ti.prototype.ua=function(){Bt(this.g,"a")},ti.prototype.ta=function(h){Bt(this.g,new Hc(h))},ti.prototype.sa=function(h){Bt(this.g,new jc)},ti.prototype.ra=function(){Bt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,p1=function(){return new ho},m1=function(){return jr()},d1=nr,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,df=$r,rr.COMPLETE="complete",f1=rr,Tr.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",te.prototype.listen=te.prototype.K,Vu=Tr,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,h1=ee}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",yw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new iy("@firebase/firestore");function $o(){return qa.logLevel}function vt(e,...t){if(qa.logLevel<=qt.DEBUG){const n=t.map(yy);qa.debug(`Firestore (${Sl}): ${e}`,...n)}}function Ji(e,...t){if(qa.logLevel<=qt.ERROR){const n=t.map(yy);qa.error(`Firestore (${Sl}): ${e}`,...n)}}function ol(e,...t){if(qa.logLevel<=qt.WARN){const n=t.map(yy);qa.warn(`Firestore (${Sl}): ${e}`,...n)}}function yy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,g1(e,i,n)}function g1(e,t,n){let i=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ji(i),new Error(i)}function ne(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||g1(t,a,i)}function Vt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends rs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class rM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iM{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ne(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ne(typeof i.accessToken=="string",31837,{l:i}),new y1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class sM{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aM{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new sM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _w{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oM{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ne(this.o===void 0,3512);const i=l=>{l.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,vt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _w(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _w(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=lM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=t.charAt(a[l]%62))}return i}}function Ft(e,t){return e<t?-1:e>t?1:0}function _g(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),l=t.charAt(i);if(a!==l)return qp(a)===qp(l)?Ft(a,l):qp(a)?1:-1}return Ft(e.length,t.length)}const uM=55296,cM=57343;function qp(e){const t=e.charCodeAt(0);return t>=uM&&t<=cM}function ll(e,t,n){return e.length===t.length&&e.every(((i,a)=>n(i,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__name__";class oi{constructor(t,n,i){n===void 0?n=0:n>t.length&&It(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&It(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const l=oi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ft(t.length,n.length)}static compareSegments(t,n){const i=oi.isNumericId(t),a=oi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?oi.extractNumericId(t).compare(oi.extractNumericId(n)):_g(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return js.fromString(t.substring(4,t.length-2))}}class de extends oi{construct(t,n,i){return new de(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new wt(pt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new de(n)}static emptyPath(){return new de([])}}const hM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends oi{construct(t,n,i){return new dn(t,n,i)}static isValidIdentifier(t){return hM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vw}static keyField(){return new dn([vw])}static fromServerFormat(t){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new wt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new wt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new wt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new wt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(de.fromString(t))}static fromName(t){return new Rt(de.fromString(t).popFirst(5))}static empty(){return new Rt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return de.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new de(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e,t,n){if(!n)throw new wt(pt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fM(e,t,n,i){if(t===!0&&i===!0)throw new wt(pt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ew(e){if(!Rt.isDocumentKey(e))throw new wt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ww(e){if(Rt.isDocumentKey(e))throw new wt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function v1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function vy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":It(12329,{type:typeof e})}function Pr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vy(e);throw new wt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(e,t){const n={typeString:e};return t&&(n.value=t),n}function _c(e,t){if(!v1(e))throw new wt(pt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const c=e[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new wt(pt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=-62135596800,Sw=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Sw);return new me(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new wt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Tw)throw new wt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sw}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_c(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Tw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:ze("string",me._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new me(0,0))}static max(){return new Ot(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function dM(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=Ot.fromTimestamp(i===1e9?new me(n+1,0):new me(n,i));return new Gs(a,Rt.empty(),t)}function mM(e){return new Gs(e.readTime,e.key,Qu)}class Gs{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Gs(Ot.min(),Rt.empty(),Qu)}static max(){return new Gs(Ot.max(),Rt.empty(),Qu)}}function pM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Rt.comparator(e.documentKey,t.documentKey),n!==0?n:Ft(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(e){if(e.code!==pt.FAILED_PRECONDITION||e.message!==gM)throw e;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,i)=>{n(t)}))}static reject(t){return new mt(((n,i)=>{i(t)}))}static waitFor(t){return new mt(((n,i)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(t){let n=mt.resolve(!1);for(const i of t)n=n.next((a=>a?mt.resolve(a):i()));return n}static forEach(t,n){const i=[];return t.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(t,n){return new mt(((i,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++f,f===l&&i(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new mt(((i,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):i()};l()}))}}function _M(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-1;function od(e){return e==null}function Of(e){return e===0&&1/e==-1/0}function vM(e){return typeof e=="number"&&Number.isInteger(e)&&!Of(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="";function EM(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=bw(t)),t=wM(e.get(n),t);return bw(t)}function wM(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case E1:n+="";break;default:n+=l}}return n}function bw(e){return e+E1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Js(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function w1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n){this.comparator=t,this.root=n||fn.EMPTY}insert(t,n){return new Ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gh(this.root,t,this.comparator,!0)}}class Gh{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,n,i,a,l){this.key=t,this.value=n,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,l){return new fn(t??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,n,i,a,l){return this}insert(t,n,i){return new fn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rw(this.data.getIterator())}getIteratorFrom(t){return new Rw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Xe(this.comparator);return n.data=t,n}}class Rw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(dn.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Xe(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ll(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new T1("Invalid base64 string: "+l):l}})(t);return new mn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new mn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const TM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(e){if(ne(!!e,39018),typeof e=="string"){let t=0;const n=TM.exec(e);if(ne(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ne(e.seconds),nanos:Ne(e.nanos)}}function Ne(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ks(e){return typeof e=="string"?mn.fromBase64String(e):mn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="server_timestamp",b1="__type__",A1="__previous_value__",R1="__local_write_time__";function wy(e){return(e?.mapValue?.fields||{})[b1]?.stringValue===S1}function ld(e){const t=e.mapValue.fields[A1];return wy(t)?ld(t):t}function Zu(e){const t=Ys(e.mapValue.fields[R1].timestampValue);return new me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n,i,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Vf="(default)";class Wu{constructor(t,n){this.projectId=t,this.database=n||Vf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(t){return t instanceof Wu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="__type__",bM="__max__",Yh={mapValue:{}},C1="__vector__",kf="value";function Xs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wy(e)?4:RM(e)?9007199254740991:AM(e)?10:11:It(28295,{value:e})}function gi(e,t){if(e===t)return!0;const n=Xs(e);if(n!==Xs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zu(e).isEqual(Zu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ys(a.timestampValue),f=Ys(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Ks(a.bytesValue).isEqual(Ks(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ne(a.geoPointValue.latitude)===Ne(l.geoPointValue.latitude)&&Ne(a.geoPointValue.longitude)===Ne(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ne(a.integerValue)===Ne(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ne(a.doubleValue),f=Ne(l.doubleValue);return c===f?Of(c)===Of(f):isNaN(c)&&isNaN(f)}return!1})(e,t);case 9:return ll(e.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Aw(c)!==Aw(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!gi(c[m],f[m])))return!1;return!0})(e,t);default:return It(52216,{left:e})}}function Ju(e,t){return(e.values||[]).find((n=>gi(n,t)))!==void 0}function ul(e,t){if(e===t)return 0;const n=Xs(e),i=Xs(t);if(n!==i)return Ft(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Ne(l.integerValue||l.doubleValue),m=Ne(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(e,t);case 3:return xw(e.timestampValue,t.timestampValue);case 4:return xw(Zu(e),Zu(t));case 5:return _g(e.stringValue,t.stringValue);case 6:return(function(l,c){const f=Ks(l),m=Ks(c);return f.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ft(f[p],m[p]);if(y!==0)return y}return Ft(f.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Ft(Ne(l.latitude),Ne(c.latitude));return f!==0?f:Ft(Ne(l.longitude),Ne(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Cw(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[kf]?.arrayValue,y=m[kf]?.arrayValue,v=Ft(p?.values?.length||0,y?.values?.length||0);return v!==0?v:Cw(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Yh.mapValue&&c===Yh.mapValue)return 0;if(l===Yh.mapValue)return 1;if(c===Yh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=_g(m[v],y[v]);if(E!==0)return E;const S=ul(f[m[v]],p[y[v]]);if(S!==0)return S}return Ft(m.length,y.length)})(e.mapValue,t.mapValue);default:throw It(23264,{he:n})}}function xw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ft(e,t);const n=Ys(e),i=Ys(t),a=Ft(n.seconds,i.seconds);return a!==0?a:Ft(n.nanos,i.nanos)}function Cw(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ul(n[a],i[a]);if(l)return l}return Ft(n.length,i.length)}function cl(e){return vg(e)}function vg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=Ys(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ks(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Rt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=vg(l);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${vg(n.fields[c])}`;return a+"}"})(e.mapValue):It(61005,{value:e})}function mf(e){switch(Xs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ld(e);return t?16+mf(t):16;case 5:return 2*e.stringValue.length;case 6:return Ks(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+mf(l)),0)})(e.arrayValue);case 10:case 11:return(function(i){let a=0;return Js(i.fields,((l,c)=>{a+=l.length+mf(c)})),a})(e.mapValue);default:throw It(13486,{value:e})}}function Eg(e){return!!e&&"integerValue"in e}function Ty(e){return!!e&&"arrayValue"in e}function Iw(e){return!!e&&"nullValue"in e}function Nw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pf(e){return!!e&&"mapValue"in e}function AM(e){return(e?.mapValue?.fields||{})[x1]?.stringValue===C1}function qu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Js(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=qu(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qu(e.arrayValue.values[n]);return t}return{...e}}function RM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!pf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=qu(n)}setAll(t){let n=dn.emptyPath(),i={},a=[];t.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=qu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(t){const n=this.field(t.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Js(n,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new Un(qu(this.value))}}function I1(e){const t=[];return Js(e.fields,((n,i)=>{const a=new dn([n]);if(pf(i)){const l=I1(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,n,i,a,l,c,f){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new vn(t,0,Ot.min(),Ot.min(),Ot.min(),Un.empty(),0)}static newFoundDocument(t,n,i,a){return new vn(t,1,n,Ot.min(),i,a,0)}static newNoDocument(t,n){return new vn(t,2,n,Ot.min(),Ot.min(),Un.empty(),0)}static newUnknownDocument(t,n){return new vn(t,3,n,Ot.min(),Ot.min(),Un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n){this.position=t,this.inclusive=n}}function Dw(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?i=Rt.comparator(Rt.fromName(c.referenceValue),n.key):i=ul(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Mw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,n="asc"){this.field=t,this.dir=n}}function xM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class Ke extends N1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new IM(t,n,i):n==="array-contains"?new MM(t,i):n==="in"?new OM(t,i):n==="not-in"?new VM(t,i):n==="array-contains-any"?new kM(t,i):new Ke(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new NM(t,i):new DM(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends N1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new yi(t,n)}matches(t){return D1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D1(e){return e.op==="and"}function M1(e){return CM(e)&&D1(e)}function CM(e){for(const t of e.filters)if(t instanceof yi)return!1;return!0}function wg(e){if(e instanceof Ke)return e.field.canonicalString()+e.op.toString()+cl(e.value);if(M1(e))return e.filters.map((t=>wg(t))).join(",");{const t=e.filters.map((n=>wg(n))).join(",");return`${e.op}(${t})`}}function O1(e,t){return e instanceof Ke?(function(i,a){return a instanceof Ke&&i.op===a.op&&i.field.isEqual(a.field)&&gi(i.value,a.value)})(e,t):e instanceof yi?(function(i,a){return a instanceof yi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&O1(c,a.filters[f])),!0):!1})(e,t):void It(19439)}function V1(e){return e instanceof Ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(e):e instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(V1).join(" ,")+"}"})(e):"Filter"}class IM extends Ke{constructor(t,n,i){super(t,n,i),this.key=Rt.fromName(i.referenceValue)}matches(t){const n=Rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class NM extends Ke{constructor(t,n){super(t,"in",n),this.keys=k1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class DM extends Ke{constructor(t,n){super(t,"not-in",n),this.keys=k1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function k1(e,t){return(t.arrayValue?.values||[]).map((n=>Rt.fromName(n.referenceValue)))}class MM extends Ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ty(n)&&Ju(n.arrayValue,this.value)}}class OM extends Ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class VM extends Ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class kM extends Ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ju(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t,n=null,i=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Ow(e,t=null,n=[],i=[],a=null,l=null,c=null){return new PM(e,t,n,i,a,l,c)}function Sy(e){const t=Vt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>wg(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),od(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>cl(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>cl(i))).join(",")),t.Te=n}return t.Te}function by(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!O1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mw(e.startAt,t.startAt)&&Mw(e.endAt,t.endAt)}function Tg(e){return Rt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LM(e,t,n,i,a,l,c,f){return new ud(e,t,n,i,a,l,c,f)}function Ay(e){return new ud(e)}function Vw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function UM(e){return e.collectionGroup!==null}function Fu(e){const t=Vt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xe(dn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Lf(l,i))})),n.has(dn.keyField().canonicalString())||t.Ie.push(new Lf(dn.keyField(),i))}return t.Ie}function ci(e){const t=Vt(e);return t.Ee||(t.Ee=zM(t,Fu(e))),t.Ee}function zM(e,t){if(e.limitType==="F")return Ow(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Lf(a.field,l)}));const n=e.endAt?new Pf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pf(e.startAt.position,e.startAt.inclusive):null;return Ow(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Sg(e,t,n){return new ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cd(e,t){return by(ci(e),ci(t))&&e.limitType===t.limitType}function P1(e){return`${Sy(ci(e))}|lt:${e.limitType}`}function Go(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>V1(a))).join(", ")}]`),od(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>cl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>cl(a))).join(",")),`Target(${i})`})(ci(e))}; limitType=${e.limitType})`}function hd(e,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Rt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(e,t)&&(function(i,a){for(const l of Fu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const p=Dw(c,f,m);return c.inclusive?p<=0:p<0})(i.startAt,Fu(i),a)||i.endAt&&!(function(c,f,m){const p=Dw(c,f,m);return c.inclusive?p>=0:p>0})(i.endAt,Fu(i),a))})(e,t)}function BM(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function L1(e){return(t,n)=>{let i=!1;for(const a of Fu(e)){const l=HM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function HM(e,t,n){const i=e.field.isKeyField()?Rt.comparator(t.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ul(m,p):It(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return It(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Js(this.inner,((n,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new Ee(Rt.comparator);function ts(){return jM}const U1=new Ee(Rt.comparator);function ku(...e){let t=U1;for(const n of e)t=t.insert(n.key,n);return t}function z1(e){let t=U1;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function Va(){return $u()}function B1(){return $u()}function $u(){return new Ya((e=>e.toString()),((e,t)=>e.isEqual(t)))}const qM=new Ee(Rt.comparator),FM=new Xe(Rt.comparator);function $t(...e){let t=FM;for(const n of e)t=t.add(n);return t}const $M=new Xe(Ft);function GM(){return $M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function H1(e){return{integerValue:""+e}}function YM(e,t){return vM(t)?H1(t):Ry(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function KM(e,t,n){return e instanceof tc?(function(a,l){const c={fields:{[b1]:{stringValue:S1},[R1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wy(l)&&(l=ld(l)),l&&(c.fields[A1]=l),{mapValue:c}})(n,t):e instanceof ec?q1(e,t):e instanceof nc?F1(e,t):(function(a,l){const c=j1(a,l),f=kw(c)+kw(a.Ae);return Eg(c)&&Eg(a.Ae)?H1(f):Ry(a.serializer,f)})(e,t)}function XM(e,t,n){return e instanceof ec?q1(e,t):e instanceof nc?F1(e,t):n}function j1(e,t){return e instanceof Uf?(function(i){return Eg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class tc extends fd{}class ec extends fd{constructor(t){super(),this.elements=t}}function q1(e,t){const n=$1(t);for(const i of e.elements)n.some((a=>gi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class nc extends fd{constructor(t){super(),this.elements=t}}function F1(e,t){let n=$1(t);for(const i of e.elements)n=n.filter((a=>!gi(a,i)));return{arrayValue:{values:n}}}class Uf extends fd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kw(e){return Ne(e.integerValue||e.doubleValue)}function $1(e){return Ty(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t,n){this.field=t,this.transform=n}}function ZM(e,t){return e.field.isEqual(t.field)&&(function(i,a){return i instanceof ec&&a instanceof ec||i instanceof nc&&a instanceof nc?ll(i.elements,a.elements,gi):i instanceof Uf&&a instanceof Uf?gi(i.Ae,a.Ae):i instanceof tc&&a instanceof tc})(e.transform,t.transform)}class WM{constructor(t,n){this.version=t,this.transformResults=n}}class Er{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Er}static exists(t){return new Er(void 0,t)}static updateTime(t){return new Er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dd{}function G1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new xy(e.key,Er.none()):new vc(e.key,e.data,Er.none());{const n=e.data,i=Un.empty();let a=new Xe(dn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ta(e.key,i,new Jn(a.toArray()),Er.none())}}function JM(e,t,n){e instanceof vc?(function(a,l,c){const f=a.value.clone(),m=Lw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(e,t,n):e instanceof ta?(function(a,l,c){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Lw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Y1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Gu(e,t,n,i){return e instanceof vc?(function(l,c,f,m){if(!gf(l.precondition,c))return f;const p=l.value.clone(),y=Uw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,i):e instanceof ta?(function(l,c,f,m){if(!gf(l.precondition,c))return f;const p=Uw(l.fieldTransforms,m,c),y=c.data;return y.setAll(Y1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,i):(function(l,c,f){return gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(e,t,n)}function tO(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),l=j1(i.transform,a||null);l!=null&&(n===null&&(n=Un.empty()),n.set(i.field,l))}return n||null}function Pw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ll(i,a,((l,c)=>ZM(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends dd{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ta extends dd{constructor(t,n,i,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Y1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Lw(e,t,n){const i=new Map;ne(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);i.set(l.field,XM(c,f,n[a]))}return i}function Uw(e,t,n){const i=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);i.set(a.field,KM(l,c,t))}return i}class xy extends dd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eO extends dd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&JM(l,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Gu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Gu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=B1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=G1(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ot.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),$t())}isEqual(t){return this.batchId===t.batchId&&ll(this.mutations,t.mutations,((n,i)=>Pw(n,i)))&&ll(this.baseMutations,t.baseMutations,((n,i)=>Pw(n,i)))}}class Cy{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){ne(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return qM})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Cy(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,Qt;function sO(e){switch(e){case pt.OK:return It(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return It(15467,{code:e})}}function K1(e){if(e===void 0)return Ji("GRPC error has no .code"),pt.UNKNOWN;switch(e){case Ue.OK:return pt.OK;case Ue.CANCELLED:return pt.CANCELLED;case Ue.UNKNOWN:return pt.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return pt.INTERNAL;case Ue.UNAVAILABLE:return pt.UNAVAILABLE;case Ue.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Ue.NOT_FOUND:return pt.NOT_FOUND;case Ue.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Ue.ABORTED:return pt.ABORTED;case Ue.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Ue.DATA_LOSS:return pt.DATA_LOSS;default:return It(39323,{code:e})}}(Qt=Ue||(Ue={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new js([4294967295,4294967295],0);function zw(e){const t=aO().encode(e),n=new c1;return n.update(t),new Uint8Array(n.digest())}function Bw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new js([n,i],0),new js([a,l],0)]}class Iy{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(i<0)throw new Pu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=js.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(js.fromNumber(i)));return a.compare(oO)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=zw(t),[i,a]=Bw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Iy(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(t){if(this.ge===0)return;const n=zw(t),[i,a]=Bw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,n,i,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,Ec.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new md(Ot.min(),a,new Ee(Ft),ts(),$t())}}class Ec{constructor(t,n,i,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ec(i,n,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n,i,a){this.be=t,this.removedTargetIds=n,this.key=i,this.De=a}}class X1{constructor(t,n){this.targetId=t,this.Ce=n}}class Q1{constructor(t,n,i=mn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Hw{constructor(){this.ve=0,this.Fe=jw(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$t(),n=$t(),i=$t();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:It(38017,{changeType:l})}})),new Ec(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=jw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Kh(),this.He=Kh(),this.Ye=new Ee(Ft)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Tg(l))if(i===0){const c=new Rt(l.path);this.et(n,c,vn.newNoDocument(c,Ot.min()))}else ne(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(t),m=f?this.ct(f,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ks(i).toUint8Array()}catch(m){if(m instanceof T1)return ol("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Iy(c,a,l)}catch(m){return ol(m instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Tg(f.target)){const m=new Rt(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,vn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=$t();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new md(t,n,this.Ye,this.je,i);return this.je=ts(),this.Je=Kh(),this.He=Kh(),this.Ye=new Ee(Ft),a}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Hw,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Xe(Ft),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Xe(Ft),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hw),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Kh(){return new Ee(Rt.comparator)}function jw(){return new Ee(Rt.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hO={and:"AND",or:"OR"};class fO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bg(e,t){return e.useProto3Json||od(t)?t:{value:t}}function zf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dO(e,t){return zf(e,t.toTimestamp())}function hi(e){return ne(!!e,49232),Ot.fromTimestamp((function(n){const i=Ys(n);return new me(i.seconds,i.nanos)})(e))}function Ny(e,t){return Ag(e,t).canonicalString()}function Ag(e,t){const n=(function(a){return new de(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function W1(e){const t=de.fromString(e);return ne(rb(t),10190,{key:t.toString()}),t}function Rg(e,t){return Ny(e.databaseId,t.path)}function Fp(e,t){const n=W1(t);if(n.get(1)!==e.databaseId.projectId)throw new wt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rt(tb(n))}function J1(e,t){return Ny(e.databaseId,t)}function mO(e){const t=W1(e);return t.length===4?de.emptyPath():tb(t)}function xg(e){return new de(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tb(e){return ne(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function qw(e,t,n){return{name:Rg(e,t),fields:n.value.mapValue.fields}}function pO(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:It(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ne(y===void 0||typeof y=="string",58123),mn.fromBase64String(y||"")):(ne(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),mn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?pt.UNKNOWN:K1(p.code);return new wt(y,p.message||"")})(c);n=new Q1(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Fp(e,i.document.name),l=hi(i.document.updateTime),c=i.document.createTime?hi(i.document.createTime):Ot.min(),f=new Un({mapValue:{fields:i.document.fields}}),m=vn.newFoundDocument(a,l,c,f),p=i.targetIds||[],y=i.removedTargetIds||[];n=new yf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Fp(e,i.document),l=i.readTime?hi(i.readTime):Ot.min(),c=vn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new yf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Fp(e,i.document),l=i.removedTargetIds||[];n=new yf([],l,a,null)}else{if(!("filter"in t))return It(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new iO(a,l),f=i.targetId;n=new X1(f,c)}}return n}function gO(e,t){let n;if(t instanceof vc)n={update:qw(e,t.key,t.value)};else if(t instanceof xy)n={delete:Rg(e,t.key)};else if(t instanceof ta)n={update:qw(e,t.key,t.data),updateMask:AO(t.fieldMask)};else{if(!(t instanceof eO))return It(16599,{Vt:t.type});n={verify:Rg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof tc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ec)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof nc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw It(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:dO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:It(27497)})(e,t.precondition)),n}function yO(e,t){return e&&e.length>0?(ne(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?hi(a.updateTime):hi(l);return c.isEqual(Ot.min())&&(c=hi(l)),new WM(c,a.transformResults||[])})(n,t)))):[]}function _O(e,t){return{documents:[J1(e,t.path)]}}function vO(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=J1(e,a);const l=(function(p){if(p.length!==0)return nb(yi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Yo(E.field),direction:TO(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=bg(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function EO(e){let t=mO(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ne(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=eb(v);return E instanceof yi&&M1(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((E=>(function(I){return new Lf(Ko(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let E;return E=typeof v=="object"?v.value:v,od(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(v){const E=!!v.before,S=v.values||[];return new Pf(S,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,S=v.values||[];return new Pf(S,E)})(n.endAt)),LM(t,a,c,l,f,"F",m,p)}function wO(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function eb(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ko(n.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(n.unaryFilter.field);return Ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(n.unaryFilter.field);return Ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ke.create(Ko(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((i=>eb(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(n.compositeFilter.op))})(e):It(30097,{filter:e})}function TO(e){return uO[e]}function SO(e){return cO[e]}function bO(e){return hO[e]}function Yo(e){return{fieldPath:e.canonicalString()}}function Ko(e){return dn.fromServerFormat(e.fieldPath)}function nb(e){return e instanceof Ke?(function(n){if(n.op==="=="){if(Nw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(Iw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(Iw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:SO(n.op),value:n.value}}})(e):e instanceof yi?(function(n){const i=n.getFilters().map((a=>nb(a)));return i.length===1?i[0]:{compositeFilter:{op:bO(n.op),filters:i}}})(e):It(54877,{filter:e})}function AO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function rb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n,i,a,l=Ot.min(),c=Ot.min(),f=mn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Us(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t){this.yt=t}}function xO(e){const t=EO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Cn=new IO}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(Gs.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(Gs.min())}updateCollectionGroup(t,n,i){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class IO{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new Xe(de.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Xe(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(ib,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="LruGarbageCollector",NO=1048576;function Gw([e,t],[n,i]){const a=Ft(e,n);return a===0?Ft(t,i):a}class DO{constructor(t){this.Ir=t,this.buffer=new Xe(Gw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Gw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MO{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt($w,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?vt($w,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class OO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(ad.ce);const i=new DO(n);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(Fw)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,f=Date.now(),this.removeTargets(t,i,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),$o()<=qt.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function VO(e,t){return new OO(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.changes=new Ya((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?mt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(i!==null&&Gu(i.mutation,a,Jn.empty(),me.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,$t()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=$t()){const a=Va();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,i).next((l=>{let c=ku();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const i=Va();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,$t())))}populateOverlays(t,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(t,n,i,a){let l=ts();const c=$u(),f=(function(){return $u()})();return n.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ta)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Gu(y.mutation,p,y.mutation.getFieldMask(),me.now())):c.set(p.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new PO(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,n){const i=$u();let a=new Ee(((c,f)=>c-f)),l=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||Jn.empty();y=f.applyToLocalView(p,y),i.set(m,y);const v=(a.get(f.batchId)||$t()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=B1();y.forEach((E=>{if(!l.has(E)){const S=G1(n.get(E),i.get(E));S!==null&&v.set(E,S),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return mt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,a){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):UM(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-l.size):mt.resolve(Va());let f=Qu,m=l;return c.next((p=>mt.forEach(p,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?mt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,$t()))).next((y=>({batchId:f,changes:z1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Rt(n)).next((i=>{let a=ku();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const l=n.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(t,l).next((f=>mt.forEach(f,(m=>{const p=(function(v,E){return new ud(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,vn.newInvalidDocument(y)))}));let f=ku();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Gu(y.mutation,p,Jn.empty(),me.now()),hd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hi(a.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:xO(a.bundledQuery),readTime:hi(a.readTime)}})(n)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.overlays=new Ee(Rt.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Va();return mt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((a,l)=>{this.St(t,n,l)})),mt.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),mt.resolve()}getOverlaysForCollection(t,n,i){const a=Va(),l=n.length+1,c=new Rt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return mt.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let l=new Ee(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Va(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return mt.resolve(f)}St(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new rO(n,i));let l=this.qr.get(n);l===void 0&&(l=$t(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Qr=new Xe(rn.$r),this.Ur=new Xe(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new rn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new rn(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new Rt(new de([])),i=new rn(n,t),a=new rn(n,t+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Rt(new de([])),i=new rn(n,t),a=new rn(n,t+1);let l=$t();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new rn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class rn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Rt.comparator(t.key,n.key)||Ft(t.Yr,n.Yr)}static Kr(t,n){return Ft(t.Yr,n.Yr)||Rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(rn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nO(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new rn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return mt.resolve(c)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return mt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Ey:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new rn(n,0),a=new rn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),mt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Xe(Ft);return n.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),mt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let l=i;Rt.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Rt(l),0);let f=new Xe(Ft);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),mt.resolve(this.ti(f))}ti(t){const n=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return mt.forEach(n.mutations,(a=>{const l=new rn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new rn(n,0),a=this.Zr.firstAfterOrEqual(i);return mt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t){this.ri=t,this.docs=(function(){return new Ee(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return mt.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(t,n){let i=ts();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))})),mt.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let l=ts();const c=n.path,f=new Rt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||pM(mM(y),i)<=0||(a.has(y.key)||hd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return mt.resolve(l)}getAllFromCollectionGroup(t,n,i,a){It(9500)}ii(t,n){return mt.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new qO(this)}getSize(t){return mt.resolve(this.size)}}class qO extends kO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.persistence=t,this.si=new Ya((n=>Sy(n)),by),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=hl.ur()}forEachTarget(t,n){return this.si.forEach(((i,a)=>n(a))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new hl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),mt.waitFor(l).next((()=>a))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return mt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),mt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),mt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return mt.resolve(i)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new BO,this.referenceDelegate=t(this),this.Pi=new FO(this),this.indexManager=new CO,this.remoteDocumentCache=(function(a){return new jO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new RO(n),this.Ii=new UO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new HO(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){vt("MemoryPersistence","Starting transaction:",t);const a=new $O(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return mt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class $O extends yM{constructor(t){super(),this.currentSequenceNumber=t}}class My{constructor(t){this.persistence=t,this.Ri=new Dy,this.Vi=null}static mi(t){return new My(t)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),mt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(i=>{const a=Rt.fromPath(i);return this.gi(t,a).next((l=>{l||n.removeEntry(a,Ot.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Bf{constructor(t,n){this.persistence=t,this.pi=new Ya((i=>EM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=VO(this,n)}static mi(t,n){return new Bf(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((a=>i+a))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((l=>l?mt.resolve():n(a)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((f=>{f||(i++,l.removeEntry(c,Ot.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mf(t.data.value)),n}br(t,n,i){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return mt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=a}static As(t,n){let i=$t(),a=$t();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Oy(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return k2()?8:_M(En())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new GO;return this.Ss(t,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(t,n,c,f.size)}))})).next((()=>l.result))}bs(t,n,i,a){return i.documentReadCount<this.fs?($o()<=qt.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):($o()<=qt.DEBUG&&vt("QueryEngine","Query:",Go(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?($o()<=qt.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(n))):mt.resolve())}ys(t,n){if(Vw(n))return mt.resolve(null);let i=ci(n);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Sg(n,null,"F"),i=ci(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=$t(...l);return this.ps.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(t,Sg(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,i,a){return Vw(n)||a.isEqual(Ot.min())?mt.resolve(null):this.ps.getDocuments(t,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?mt.resolve(null):($o()<=qt.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(t,c,n,dM(a,Qu)).next((f=>f)))}))}Ds(t,n){let i=new Xe(L1(t));return n.forEach(((a,l)=>{hd(t,l)&&(i=i.add(l))})),i}Cs(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,i){return $o()<=qt.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(t,n,Gs.min(),i)}vs(t,n,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",KO=3e8;class XO{constructor(t,n,i,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new Ee(Ft),this.xs=new Ya((l=>Sy(l)),by),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function QO(e,t,n,i){return new XO(e,t,n,i)}async function ab(e,t){const n=Vt(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=$t();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function ZO(e,t){const n=Vt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const v=p.batch,E=v.keys();let S=mt.resolve();return E.forEach((I=>{S=S.next((()=>y.getEntry(m,I))).next((D=>{const M=p.docVersions.get(I);ne(M!==null,48541),D.version.compareTo(M)<0&&(v.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=$t();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function ob(e){const t=Vt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function WO(e,t){const n=Vt(e),i=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(mn.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(v,S),(function(D,M,k){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=KO?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(E,S,y)&&f.push(n.Pi.updateTargetData(l,S))}));let m=ts(),p=$t();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(JO(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Ot.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return mt.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function JO(e,t,n){let i=$t(),a=$t();return n.forEach((l=>i=i.add(l))),t.getEntries(e,i).next((l=>{let c=ts();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ot.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):vt(Vy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function t4(e,t){const n=Vt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Ey),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function e4(e,t){const n=Vt(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,t).next((l=>l?(a=l,mt.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new Us(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function Cg(e,t,n){const i=Vt(e),a=i.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Al(c))throw c;vt(Vy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function Yw(e,t,n){const i=Vt(e);let a=Ot.min(),l=$t();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=Vt(m),E=v.xs.get(y);return E!==void 0?mt.resolve(v.Ms.get(E)):v.Pi.getTargetData(p,y)})(i,c,ci(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,n?a:Ot.min(),n?l:$t()))).next((f=>(n4(i,BM(t),f),{documents:f,Qs:l})))))}function n4(e,t,n){let i=e.Os.get(t)||Ot.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),e.Os.set(t,i)}class Kw{constructor(){this.activeTargetIds=GM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class r4{constructor(){this.Mo=new Kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Kw,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="ConnectivityMonitor";class Qw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt(Xw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt(Xw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh=null;function Ig(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="RestConnection",s4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Vf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,n,i,a,l){const c=Ig(),f=this.zo(t,n.toUriEncodedString());vt($p,`Sending RPC '${t}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=El(p);return this.Jo(t,f,m,i,y).then((v=>(vt($p,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw ol($p,`RPC '${t}' ${c} failed with error: `,v,"url: ",f,"request:",i),v}))}Ho(t,n,i,a,l,c){return this.Go(t,n,i,a,l)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const i=s4[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class l4 extends a4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,a,l){const c=Ig();return new Promise(((f,m)=>{const p=new h1;p.setWithCredentials(!0),p.listenOnce(f1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case df.NO_ERROR:const v=p.getResponseJson();vt(yn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),f(v);break;case df.TIMEOUT:vt(yn,`RPC '${t}' ${c} timed out`),m(new wt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const E=p.getStatus();if(vt(yn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const D=(function(k){const H=k.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(H)>=0?H:pt.UNKNOWN})(I.status);m(new wt(D,I.message))}else m(new wt(pt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new wt(pt.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{vt(yn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);vt(yn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(t,n,i){const a=Ig(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=p1(),f=m1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");vt(yn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let E=!1,S=!1;const I=new o4({Yo:M=>{S?vt(yn,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(E||(vt(yn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),E=!0),vt(yn,`RPC '${t}' stream ${a} sending:`,M),v.send(M))},Zo:()=>v.close()}),D=(M,k,H)=>{M.listen(k,($=>{try{H($)}catch(G){setTimeout((()=>{throw G}),0)}}))};return D(v,Vu.EventType.OPEN,(()=>{S||(vt(yn,`RPC '${t}' stream ${a} transport opened.`),I.o_())})),D(v,Vu.EventType.CLOSE,(()=>{S||(S=!0,vt(yn,`RPC '${t}' stream ${a} transport closed`),I.a_(),this.E_(v))})),D(v,Vu.EventType.ERROR,(M=>{S||(S=!0,ol(yn,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),I.a_(new wt(pt.UNAVAILABLE,"The operation could not be completed")))})),D(v,Vu.EventType.MESSAGE,(M=>{if(!S){const k=M.data[0];ne(!!k,16349);const H=k,$=H?.error||H[0]?.error;if($){vt(yn,`RPC '${t}' stream ${a} received error:`,$);const G=$.status;let J=(function(R){const b=Ue[R];if(b!==void 0)return K1(b)})(G),at=$.message;J===void 0&&(J=pt.INTERNAL,at="Unknown error status: "+G+" with message "+$.message),S=!0,I.a_(new wt(J,at)),v.close()}else vt(yn,`RPC '${t}' stream ${a} received:`,k),I.u_(k)}})),D(f,d1.STAT_EVENT,(M=>{M.stat===yg.PROXY?vt(yn,`RPC '${t}' stream ${a} detected buffering proxy`):M.stat===yg.NOPROXY&&vt(yn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e){return new fO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&vt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="PersistentStream";class ub{constructor(t,n,i,a,l,c,f,m){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{t((()=>{const a=new wt(pt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return vt(Zw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(vt(Zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u4 extends ub{constructor(t,n,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pO(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Ot.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ot.min():c.readTime?hi(c.readTime):Ot.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=xg(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Tg(m)?{documents:_O(l,m)}:{query:vO(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Z1(l,c.resumeToken);const p=bg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ot.min())>0){f.readTime=zf(l,c.snapshotVersion.toTimestamp());const p=bg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const i=wO(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=xg(this.serializer),n.removeTarget=t,this.q_(n)}}class c4 extends ub{constructor(t,n,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yO(t.writeResults,t.commitTime),i=hi(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=xg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>gO(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{}class f4 extends h4{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new wt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Ag(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new wt(pt.UNKNOWN,l.toString())}))}Ho(t,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(t,Ag(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new wt(pt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class d4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(n),this.aa=!1):vt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class m4{constructor(t,n,i,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ka(this)&&(vt(Fa,"Restarting streams for network reachability change."),await(async function(m){const p=Vt(m);p.Ea.add(4),await wc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await gd(p)})(this))}))})),this.Ra=new d4(i,a)}}async function gd(e){if(Ka(e))for(const t of e.da)await t(!0)}async function wc(e){for(const t of e.da)await t(!1)}function cb(e,t){const n=Vt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Uy(n)?Ly(n):Rl(n).O_()&&Py(n,t))}function ky(e,t){const n=Vt(e),i=Rl(n);n.Ia.delete(t),i.O_()&&hb(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ka(n)&&n.Ra.set("Unknown"))}function Py(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rl(e).Y_(t)}function hb(e,t){e.Va.Ue(t),Rl(e).Z_(t)}function Ly(e){e.Va=new lO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Rl(e).start(),e.Ra.ua()}function Uy(e){return Ka(e)&&!Rl(e).x_()&&e.Ia.size>0}function Ka(e){return Vt(e).Ea.size===0}function fb(e){e.Va=void 0}async function p4(e){e.Ra.set("Online")}async function g4(e){e.Ia.forEach(((t,n)=>{Py(e,t)}))}async function y4(e,t){fb(e),Uy(e)?(e.Ra.ha(t),Ly(e)):e.Ra.set("Unknown")}async function _4(e,t,n){if(e.Ra.set("Online"),t instanceof Q1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(e,t)}catch(i){vt(Fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Hf(e,i)}else if(t instanceof yf?e.Va.Ze(t):t instanceof X1?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ot.min()))try{const i=await ob(e.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(mn.EMPTY_BYTE_STRING,y.snapshotVersion)),hb(l,m);const v=new Us(y.target,m,p,y.sequenceNumber);Py(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(i){vt(Fa,"Failed to raise snapshot:",i),await Hf(e,i)}}async function Hf(e,t,n){if(!Al(t))throw t;e.Ea.add(1),await wc(e),e.Ra.set("Offline"),n||(n=()=>ob(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{vt(Fa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await gd(e)}))}function db(e,t){return t().catch((n=>Hf(e,n,t)))}async function yd(e){const t=Vt(e),n=Qs(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ey;for(;v4(t);)try{const a=await t4(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,E4(t,a)}catch(a){await Hf(t,a)}mb(t)&&pb(t)}function v4(e){return Ka(e)&&e.Ta.length<10}function E4(e,t){e.Ta.push(t);const n=Qs(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mb(e){return Ka(e)&&!Qs(e).x_()&&e.Ta.length>0}function pb(e){Qs(e).start()}async function w4(e){Qs(e).ra()}async function T4(e){const t=Qs(e);for(const n of e.Ta)t.ea(n.mutations)}async function S4(e,t,n){const i=e.Ta.shift(),a=Cy.from(i,t,n);await db(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await yd(e)}async function b4(e,t){t&&Qs(e).X_&&await(async function(i,a){if((function(c){return sO(c)&&c!==pt.ABORTED})(a.code)){const l=i.Ta.shift();Qs(i).B_(),await db(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await yd(i)}})(e,t),mb(e)&&pb(e)}async function Ww(e,t){const n=Vt(e);n.asyncQueue.verifyOperationInProgress(),vt(Fa,"RemoteStore received new credentials");const i=Ka(n);n.Ea.add(3),await wc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await gd(n)}async function A4(e,t){const n=Vt(e);t?(n.Ea.delete(2),await gd(n)):t||(n.Ea.add(2),await wc(n),n.Ra.set("Unknown"))}function Rl(e){return e.ma||(e.ma=(function(n,i,a){const l=Vt(n);return l.sa(),new u4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:p4.bind(null,e),t_:g4.bind(null,e),r_:y4.bind(null,e),H_:_4.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Uy(e)?Ly(e):e.Ra.set("Unknown")):(await e.ma.stop(),fb(e))}))),e.ma}function Qs(e){return e.fa||(e.fa=(function(n,i,a){const l=Vt(n);return l.sa(),new c4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:w4.bind(null,e),r_:b4.bind(null,e),ta:T4.bind(null,e),na:S4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await yd(e)):(await e.fa.stop(),e.Ta.length>0&&(vt(Fa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,n,i,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,l){const c=Date.now()+i,f=new zy(t,n,c,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(e,t){if(Ji("AsyncQueue",`${t}: ${e}`),Al(e))return new wt(pt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Rt.comparator(n.key,i.key):(n,i)=>Rt.comparator(n.key,i.key),this.keyedMap=ku(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.ga=new Ee(Rt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):It(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class fl{constructor(t,n,i,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new fl(t,n,Jo.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class x4{constructor(){this.queries=tT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Vt(n),l=a.queries;a.queries=tT(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new wt(pt.ABORTED,"Firestore shutting down"))}}function tT(){return new Ya((e=>P1(e)),cd)}async function gb(e,t){const n=Vt(e);let i=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new R4,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=By(c,`Initialization of query '${Go(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Hy(n)}async function yb(e,t){const n=Vt(e),i=t.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function C4(e,t){const n=Vt(e);let i=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&Hy(n)}function I4(e,t,n){const i=Vt(e),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(t)}function Hy(e){e.Ca.forEach((t=>{t.next()}))}var Ng,eT;(eT=Ng||(Ng={})).Ma="default",eT.Cache="cache";class _b{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new fl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.key=t}}class Eb{constructor(t){this.key=t}}class N4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=L1(t),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new Jw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),S=hd(this.query,v)?v:null,I=!!E&&this.mutatedKeys.has(E.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;E&&S?E.data.isEqual(S.data)?I!==D&&(i.track({type:3,doc:S}),M=!0):this.su(E,S)||(i.track({type:2,doc:S}),M=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(f=!0)):!E&&S?(i.track({type:0,doc:S}),M=!0):E&&!S&&(i.track({type:1,doc:E}),M=!0,(m||p)&&(f=!0)),M&&(S?(c=c.add(S),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(S,I){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:M})}};return D(S)-D(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new fl(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$t(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new Eb(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new vb(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=$t();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jy="SyncEngine";class D4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class M4{constructor(t){this.key=t,this.hu=!1}}class O4{constructor(t,n,i,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ya((f=>P1(f)),cd),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(Rt.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V4(e,t,n=!0){const i=Rb(e);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await wb(i,t,n,!0),a}async function k4(e,t){const n=Rb(e);await wb(n,t,!0,!1)}async function wb(e,t,n,i){const a=await e4(e.localStore,ci(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await P4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&cb(e.remoteStore,a),f}async function P4(e,t,n,i,a){e.pu=(v,E,S)=>(async function(D,M,k,H){let $=M.view.ru(k);$.Cs&&($=await Yw(D.localStore,M.query,!1).then((({documents:P})=>M.view.ru(P,$))));const G=H&&H.targetChanges.get(M.targetId),J=H&&H.targetMismatches.get(M.targetId)!=null,at=M.view.applyChanges($,D.isPrimaryClient,G,J);return rT(D,M.targetId,at.au),at.snapshot})(e,v,E,S);const l=await Yw(e.localStore,t,!0),c=new N4(t,l.Qs),f=c.ru(l.documents),m=Ec.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);rT(e,n,p.au);const y=new D4(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function L4(e,t,n){const i=Vt(e),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!cd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Cg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&ky(i.remoteStore,a.targetId),Dg(i,a.targetId)})).catch(bl)):(Dg(i,a.targetId),await Cg(i.localStore,a.targetId,!0))}async function U4(e,t){const n=Vt(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ky(n.remoteStore,i.targetId))}async function z4(e,t,n){const i=G4(e);try{const a=await(function(c,f){const m=Vt(c),p=me.now(),y=f.reduce(((S,I)=>S.add(I.key)),$t());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=ts(),D=$t();return m.Ns.getEntries(S,y).next((M=>{I=M,I.forEach(((k,H)=>{H.isValidDocument()||(D=D.add(k))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,I))).next((M=>{v=M;const k=[];for(const H of f){const $=tO(H,v.get(H.key).overlayedDocument);$!=null&&k.push(new ta(H.key,$,I1($.value.mapValue),Er.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,k,f)})).next((M=>{E=M;const k=M.applyToLocalDocumentSet(v,D);return m.documentOverlayCache.saveOverlays(S,M.batchId,k)}))})).then((()=>({batchId:E.batchId,changes:z1(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new Ee(Ft)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,n),await Tc(i,a.changes),await yd(i.remoteStore)}catch(a){const l=By(a,"Failed to persist write");n.reject(l)}}async function Tb(e,t){const n=Vt(e);try{const i=await WO(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(ne(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ne(c.hu,14607):a.removedDocuments.size>0&&(ne(c.hu,42227),c.hu=!1))})),await Tc(n,i,t)}catch(i){await bl(i)}}function nT(e,t,n){const i=Vt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Vt(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,v)=>{for(const E of v.Sa)E.va(f)&&(p=!0)})),p&&Hy(m)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function B4(e,t,n){const i=Vt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),l=a&&a.key;if(l){let c=new Ee(Rt.comparator);c=c.insert(l,vn.newNoDocument(l,Ot.min()));const f=$t().add(l),m=new md(Ot.min(),new Map,new Ee(Ft),c,f);await Tb(i,m),i.du=i.du.remove(l),i.Au.delete(t),qy(i)}else await Cg(i.localStore,t,!1).then((()=>Dg(i,t,n))).catch(bl)}async function H4(e,t){const n=Vt(e),i=t.batch.batchId;try{const a=await ZO(n.localStore,t);bb(n,i,null),Sb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tc(n,a)}catch(a){await bl(a)}}async function j4(e,t,n){const i=Vt(e);try{const a=await(function(c,f){const m=Vt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((v=>(ne(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);bb(i,t,n),Sb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Tc(i,a)}catch(a){await bl(a)}}function Sb(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function bb(e,t,n){const i=Vt(e);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function Dg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||Ab(e,i)}))}function Ab(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(ky(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),qy(e))}function rT(e,t,n){for(const i of n)i instanceof vb?(e.Ru.addReference(i.key,t),q4(e,i)):i instanceof Eb?(vt(jy,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||Ab(e,i.key)):It(19791,{wu:i})}function q4(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(vt(jy,"New document in limbo: "+n),e.Eu.add(i),qy(e))}function qy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Rt(de.fromString(t)),i=e.fu.next();e.Au.set(i,new M4(n)),e.du=e.du.insert(n,i),cb(e.remoteStore,new Us(ci(Ay(n.path)),i,"TargetPurposeLimboResolution",ad.ce))}}async function Tc(e,t,n){const i=Vt(e),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,t,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Oy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,p){const y=Vt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>mt.forEach(p,(E=>mt.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(v,E.targetId,S))).next((()=>mt.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))))))}catch(v){if(!Al(v))throw v;vt(Vy,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const S=y.Ms.get(E),I=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(E,D)}}})(i.localStore,l))}async function F4(e,t){const n=Vt(e);if(!n.currentUser.isEqual(t)){vt(jy,"User change. New user:",t.toKey());const i=await ab(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new wt(pt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Tc(n,i.Ls)}}function $4(e,t){const n=Vt(e),i=n.Au.get(t);if(i&&i.hu)return $t().add(i.key);{let a=$t();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Rb(e){const t=Vt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B4.bind(null,t),t.Pu.H_=C4.bind(null,t.eventManager),t.Pu.yu=I4.bind(null,t.eventManager),t}function G4(e){const t=Vt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=j4.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return QO(this.persistence,new YO,t.initialUser,this.serializer)}Cu(t){return new sb(My.mi,this.serializer)}Du(t){return new r4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class Y4 extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ne(this.persistence.referenceDelegate instanceof Bf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new MO(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new sb((i=>Bf.mi(i,n)),this.serializer)}}class Mg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await A4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new x4})()}createDatastore(t){const n=pd(t.databaseInfo.databaseId),i=(function(l){return new l4(l)})(t.databaseInfo);return(function(l,c,f,m){return new f4(l,c,f,m)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,a,l,c,f){return new m4(i,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>nT(this.syncEngine,n,0)),(function(){return Qw.v()?new Qw:new i4})())}createSyncEngine(t,n){return(function(a,l,c,f,m,p,y){const v=new O4(a,l,c,f,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Vt(n);vt(Fa,"RemoteStore shutting down."),i.Ea.add(5),await wc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mg.provider={build:()=>new Mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class K4{constructor(t,n,i,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=_y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{vt(Zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(vt(Zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=By(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Yp(e,t){e.asyncQueue.verifyOperationInProgress(),vt(Zs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async a=>{i.isEqual(a)||(await ab(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function iT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await X4(e);vt(Zs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>Ww(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,a)=>Ww(t.remoteStore,a))),e._onlineComponents=t}async function X4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vt(Zs,"Using user provided OfflineComponentProvider");try{await Yp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===pt.FAILED_PRECONDITION||a.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await Yp(e,new jf)}}else vt(Zs,"Using default OfflineComponentProvider"),await Yp(e,new Y4(void 0));return e._offlineComponents}async function Cb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vt(Zs,"Using user provided OnlineComponentProvider"),await iT(e,e._uninitializedComponentsProvider._online)):(vt(Zs,"Using default OnlineComponentProvider"),await iT(e,new Mg))),e._onlineComponents}function Q4(e){return Cb(e).then((t=>t.syncEngine))}async function Ib(e){const t=await Cb(e),n=t.eventManager;return n.onListen=V4.bind(null,t.syncEngine),n.onUnlisten=L4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=k4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=U4.bind(null,t.syncEngine),n}function Z4(e,t,n={}){const i=new Xi;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new xb({next:E=>{y.Nu(),c.enqueueAndForget((()=>yb(l,v)));const S=E.docs.has(f);!S&&E.fromCache?p.reject(new wt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?p.reject(new wt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new _b(Ay(f.path),y,{includeMetadataChanges:!0,qa:!0});return gb(l,v)})(await Ib(e),e.asyncQueue,t,n,i))),i.promise}function W4(e,t,n={}){const i=new Xi;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new xb({next:E=>{y.Nu(),c.enqueueAndForget((()=>yb(l,v))),E.fromCache&&m.source==="server"?p.reject(new wt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new _b(f,y,{includeMetadataChanges:!0,qa:!0});return gb(l,v)})(await Ib(e),e.asyncQueue,t,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firestore.googleapis.com",aT=!0;class oT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new wt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=aT}else this.host=t.host,this.ssl=t.ssl??aT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NO)throw new wt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new wt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new wt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new wt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _d{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new nM;switch(i.type){case"firstParty":return new aM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new wt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=sT.get(n);i&&(vt("ComponentProvider","Removing Datastore"),sT.delete(n),i.terminate())})(this),Promise.resolve()}}function J4(e,t,n,i={}){e=Pr(e,_d);const a=El(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},f=`${t}:${n}`;a&&(RS(`https://${f}`),xS("Firestore",!0)),l.host!==Db&&l.host!==f&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Ba(m,c)&&(e._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=_n.MOCK_USER;else{p=R2(i.mockUserToken,e._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new wt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(v)}e._authCredentials=new rM(new y1(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vd(this.firestore,t,this._query)}}class Be{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(_c(n,Be._jsonSchema))return new Be(t,i||null,new Rt(de.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:ze("string",Be._jsonSchemaVersion),referencePath:ze("string")};class qs extends vd{constructor(t,n,i){super(t,n,Ay(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new Rt(t))}withConverter(t){return new qs(this.firestore,t,this._path)}}function tV(e,t,...n){if(e=wn(e),_1("collection","path",t),e instanceof _d){const i=de.fromString(t,...n);return ww(i),new qs(e,null,i)}{if(!(e instanceof Be||e instanceof qs))throw new wt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(de.fromString(t,...n));return ww(i),new qs(e.firestore,null,i)}}function Sc(e,t,...n){if(e=wn(e),arguments.length===1&&(t=_y.newId()),_1("doc","path",t),e instanceof _d){const i=de.fromString(t,...n);return Ew(i),new Be(e,null,new Rt(i))}{if(!(e instanceof Be||e instanceof qs))throw new wt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(de.fromString(t,...n));return Ew(i),new Be(e.firestore,e instanceof qs?e.converter:null,new Rt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const i=Gp();i&&vt(lT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Al(t))throw t;vt(lT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",cT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=zy.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&It(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function cT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Xa extends _d{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new uT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uT(t),this._firestoreClient=void 0,await t}}}function eV(e,t){const n=typeof e=="object"?e:DS(),i=typeof e=="string"?e:Vf,a=ay(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=b2("firestore");l&&J4(a,...l)}return a}function Fy(e){if(e._terminated)throw new wt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||nV(e),e._firestoreClient}function nV(e){const t=e._freezeSettings(),n=(function(a,l,c,f){return new SM(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Nb(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new K4(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _r(mn.fromBase64String(t))}catch(n){throw new wt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new _r(mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_c(t,_r._jsonSchema))return _r.fromBase64String(t.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:ze("string",_r._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new wt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new wt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(t){if(_c(t,fi._jsonSchema))return new fi(t.latitude,t.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:ze("string",fi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_c(t,di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new di(t.vectorValues);throw new wt(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:ze("string",di._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=/^__.*__$/;class iV{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new ta(t,this.data,this.fieldMask,n,this.fieldTransforms):new vc(t,this.data,n,this.fieldTransforms)}}class Mb{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new ta(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ob(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:e})}}class $y{constructor(t,n,i,a,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new $y({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Ob(this.Ac)&&rV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sV{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||pd(t)}Cc(t,n,i,a=!1){return new $y({Ac:t,methodName:n,Dc:i,path:dn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(e){const t=e._freezeSettings(),n=pd(e._databaseId);return new sV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vb(e,t,n,i,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Ky("Data must be an object, but it was:",c,i);const f=kb(i,c);let m,p;if(l.merge)m=new Jn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Og(t,v,n);if(!c.contains(E))throw new wt(pt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Lb(y,E)||y.push(E)}m=new Jn(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new iV(new Un(f),m,p)}class Td extends wd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Td}}class Yy extends wd{_toFieldTransform(t){return new QM(t.path,new tc)}isEqual(t){return t instanceof Yy}}function aV(e,t,n,i){const a=e.Cc(1,t,n);Ky("Data must be an object, but it was:",a,i);const l=[],c=Un.empty();Js(i,((m,p)=>{const y=Xy(t,m,n);p=wn(p);const v=a.yc(y);if(p instanceof Td)l.push(y);else{const E=Sd(p,v);E!=null&&(l.push(y),c.set(y,E))}}));const f=new Jn(l);return new Mb(c,f,a.fieldTransforms)}function oV(e,t,n,i,a,l){const c=e.Cc(1,t,n),f=[Og(t,i,n)],m=[a];if(l.length%2!=0)throw new wt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Og(t,l[E])),m.push(l[E+1]);const p=[],y=Un.empty();for(let E=f.length-1;E>=0;--E)if(!Lb(p,f[E])){const S=f[E];let I=m[E];I=wn(I);const D=c.yc(S);if(I instanceof Td)p.push(S);else{const M=Sd(I,D);M!=null&&(p.push(S),y.set(S,M))}}const v=new Jn(p);return new Mb(y,v,c.fieldTransforms)}function Sd(e,t){if(Pb(e=wn(e)))return Ky("Unsupported field value:",t,e),kb(e,t);if(e instanceof wd)return(function(i,a){if(!Ob(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=Sd(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(i,a){if((i=wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=me.fromDate(i);return{timestampValue:zf(a.serializer,l)}}if(i instanceof me){const l=new me(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(a.serializer,l)}}if(i instanceof fi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _r)return{bytesValue:Z1(a.serializer,i._byteString)};if(i instanceof Be){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ny(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof di)return(function(c,f){return{mapValue:{fields:{[x1]:{stringValue:C1},[kf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ry(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${vy(i)}`)})(e,t)}function kb(e,t){const n={};return w1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Js(e,((i,a)=>{const l=Sd(a,t.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function Pb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof me||e instanceof fi||e instanceof _r||e instanceof Be||e instanceof wd||e instanceof di)}function Ky(e,t,n){if(!Pb(n)||!v1(n)){const i=vy(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Og(e,t,n){if((t=wn(t))instanceof Ed)return t._internalPath;if(typeof t=="string")return Xy(e,t);throw qf("Field path arguments must be of type string or ",e,!1,void 0,n)}const lV=new RegExp("[~\\*/\\[\\]]");function Xy(e,t,n){if(t.search(lV)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ed(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qf(e,t,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new wt(pt.INVALID_ARGUMENT,f+e+m)}function Lb(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n,i,a,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uV extends Ub{data(){return super.data()}}function zb(e,t){return typeof t=="string"?Xy(e,t):t instanceof Ed?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new wt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hV{convertValue(t,n="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Js(t,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[kf].arrayValue?.values?.map((i=>Ne(i.doubleValue)));return new di(n)}convertGeoPoint(t){return new fi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=ld(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Zu(t));default:return null}}convertTimestamp(t){const n=Ys(t);return new me(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=de.fromString(t);ne(rb(i),9688,{name:t});const a=new Wu(i.get(1),i.get(3)),l=new Rt(i.popFirst(5));return a.isEqual(n)||Ji(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class Lu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ua extends Ub{constructor(t,n,i,a,l,c){super(t,n,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(zb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:ze("string",Ua._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class _f extends Ua{data(t={}){return super.data(t)}}class tl{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new _f(this._firestore,this._userDataWriter,i.key,i,new Lu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new wt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new _f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new _f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:fV(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function fV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e){e=Pr(e,Be);const t=Pr(e.firestore,Xa);return Z4(Fy(t),e._key).then((n=>vV(t,e,n)))}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:ze("string",tl._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class Hb extends hV{constructor(t){super(),this.firestore=t}convertBytes(t){return new _r(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function mV(e){e=Pr(e,vd);const t=Pr(e.firestore,Xa),n=Fy(t),i=new Hb(t);return cV(e._query),W4(n,e._query).then((a=>new tl(t,i,e,a)))}function pV(e,t,n){e=Pr(e,Be);const i=Pr(e.firestore,Xa),a=Bb(e.converter,t,n);return bd(i,[Vb(Gy(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Er.none())])}function gV(e,t,n,...i){e=Pr(e,Be);const a=Pr(e.firestore,Xa),l=Gy(a);let c;return c=typeof(t=wn(t))=="string"||t instanceof Ed?oV(l,"updateDoc",e._key,t,n,i):aV(l,"updateDoc",e._key,t),bd(a,[c.toMutation(e._key,Er.exists(!0))])}function yV(e){return bd(Pr(e.firestore,Xa),[new xy(e._key,Er.none())])}function _V(e,t){const n=Pr(e.firestore,Xa),i=Sc(e),a=Bb(e.converter,t);return bd(n,[Vb(Gy(e.firestore),"addDoc",i._key,a,e.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then((()=>i))}function bd(e,t){return(function(i,a){const l=new Xi;return i.asyncQueue.enqueueAndForget((async()=>z4(await Q4(i),a,l))),l.promise})(Fy(e),t)}function vV(e,t,n){const i=n.docs.get(t._key),a=new Hb(e);return new Ua(e,a,t._key,i,new Lu(n.hasPendingWrites,n.fromCache),t.converter)}function EV(){return new Yy("serverTimestamp")}(function(t,n=!0){(function(a){Sl=a})(wl),sl(new Ha("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Xa(new iM(i.getProvider("auth-internal")),new oM(c,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new wt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Hs(gw,yw,t),Hs(gw,yw,"esm2020")})();const wV={apiKey:"AIzaSyBsf13y09yMeY3y9glikn33VDhZQVG76AQ",authDomain:"visual-roadmap-app.firebaseapp.com",projectId:"visual-roadmap-app",storageBucket:"visual-roadmap-app.firebasestorage.app",messagingSenderId:"227055351639",appId:"1:227055351639:web:ef34f8aea11436fff37012",measurementId:"G-VZ88DVH1SN"},jb=NS(wV),Qy=WD(jb),bc=eV(jb),qb=U.createContext(),TV=({children:e})=>{const[t,n]=U.useState(null),[i,a]=U.useState(!0);U.useEffect(()=>BN(Qy,f=>{n(f),a(!1)}),[]);const l={currentUser:t};return ct.jsx(qb.Provider,{value:l,children:!i&&e})},Ad=()=>U.useContext(qb),SV=new Fi,bV=async()=>{try{const t=(await oD(Qy,SV)).user;return console.log("User signed in: ",t),t}catch(e){return console.error("Error during Google sign-in: ",e),null}},AV=async()=>{try{await HN(Qy),console.log("User signed out")}catch(e){console.error("Error signing out: ",e)}},RV=()=>ct.jsxs("svg",{className:"w-16 h-16 text-indigo-600 mx-auto mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[ct.jsx("circle",{cx:"12",cy:"12",r:"10"}),ct.jsx("path",{d:"M12 2L12 6"}),ct.jsx("path",{d:"M12 18L12 22"}),ct.jsx("path",{d:"M4.93 4.93L7.76 7.76"}),ct.jsx("path",{d:"M16.24 16.24L19.07 19.07"}),ct.jsx("path",{d:"M2 12L6 12"}),ct.jsx("path",{d:"M18 12L22 12"}),ct.jsx("path",{d:"M4.93 19.07L7.76 16.24"}),ct.jsx("path",{d:"M16.24 7.76L19.07 4.93"})]}),xV=()=>ct.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:[ct.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[ct.jsx(RV,{}),ct.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Welcome to Pathfinder"}),ct.jsx("p",{className:"text-gray-600 mb-8",children:"Your visual guide to achieving your goals."}),ct.jsxs("button",{onClick:bV,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-transform transform hover:scale-105 duration-300 ease-in-out",children:[ct.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google icon",className:"w-6 h-6 mr-3 bg-white rounded-full p-0.5"}),"Sign in with Google"]})]}),ct.jsx("footer",{className:"mt-8 text-center text-gray-500",children:ct.jsxs("p",{children:[" ",new Date().getFullYear()," Pathfinder. All rights reserved."]})})]}),Fb=e=>tV(bc,"users",e,"roadmaps"),CV=async e=>{if(!e)return[];try{const t=Fb(e);return(await mV(t)).docs.map(a=>({id:a.id,...a.data()}))}catch(t){return console.error("Error fetching roadmaps for user: ",t),[]}},IV=async(e,t)=>{if(!e||!t)return null;try{const n=Sc(bc,"users",e,"roadmaps",t),i=await dV(n);return i.exists()?i.data():null}catch(n){return console.error("Error fetching roadmap by ID: ",n),null}},NV=async(e,t,n)=>{if(!e)return null;try{const i=Fb(e);return(await _V(i,{title:t,createdAt:EV(),...n})).id}catch(i){return console.error("Error creating new roadmap: ",i),null}},DV=async(e,t,n)=>{if(!(!e||!t))try{const i=Sc(bc,"users",e,"roadmaps",t);await pV(i,n,{merge:!0})}catch(i){console.error("Error updating roadmap: ",i)}},MV=async(e,t)=>{if(!(!e||!t))try{const n=Sc(bc,"users",e,"roadmaps",t);await yV(n)}catch(n){console.error("Error deleting roadmap: ",n)}},OV=async(e,t,n)=>{if(!(!e||!t))try{const i=Sc(bc,"users",e,"roadmaps",t);await gV(i,{title:n})}catch(i){console.error("Error updating roadmap title: ",i)}},VV=[{id:"1",type:"bubble",data:{label:"Left click on me to mark me done",status:"pending"},position:{x:100,y:125}},{id:"2",type:"bubble",data:{label:"Right click on me to edit me",status:"pending"},position:{x:350,y:125}}],hT={stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5,5"},kV=[{id:"e1-2",source:"1",target:"2",type:"smoothstep",style:hT},{id:"e2-3",source:"2",target:"3",type:"smoothstep",style:hT}],$b=({isOpen:e,onClose:t,onSubmit:n,initialValue:i="",title:a})=>{const[l,c]=U.useState(i);if(U.useEffect(()=>{e&&c(i)},[e,i]),!e)return null;const f=m=>{m.preventDefault(),l.trim()&&n(l)};return ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",onClick:t,children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:m=>m.stopPropagation(),children:[ct.jsx("h2",{className:"text-2xl font-bold mb-4",children:a}),ct.jsxs("form",{onSubmit:f,children:[ct.jsx("textarea",{value:l,onChange:m=>c(m.target.value),maxLength:500,ref:m=>{m&&(m.style.height="auto",m.style.height=`${m.scrollHeight}px`)},className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none min-h-[6rem] max-h-96 overflow-auto",autoFocus:!0}),ct.jsxs("div",{className:"flex justify-end mt-4",children:[ct.jsx("button",{type:"button",onClick:t,className:"mr-2 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),ct.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Save"})]})]})]})})},PV=({isOpen:e,onClose:t,onConfirm:n,title:i,message:a})=>e?ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:l=>l.stopPropagation(),children:[ct.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900",children:i}),ct.jsx("p",{className:"text-gray-600 mb-6",children:a}),ct.jsxs("div",{className:"flex justify-end mt-4",children:[ct.jsx("button",{type:"button",onClick:t,className:"mr-3 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 font-semibold",children:"Cancel"}),ct.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-semibold",children:"Delete"})]})]})}):null,LV=()=>{const{currentUser:e}=Ad(),t=Jg(),[n,i]=U.useState([]),[a,l]=U.useState(!0),[c,f]=U.useState(null),[m,p]=U.useState(null);U.useEffect(()=>{(async()=>{if(e){l(!0);const I=await CV(e.uid);i(I),l(!1)}})()},[e]);const y=async S=>{if(!(!e||!S)){if(c?.mode==="new"){const I={nodes:VV,edges:kV},D=await NV(e.uid,S,I);D&&t(`/roadmap/${D}`)}else c?.mode==="edit"&&(await OV(e.uid,c.roadmap.id,S),i(n.map(I=>I.id===c.roadmap.id?{...I,title:S}:I)));f(null)}},v=(S,I)=>{I.stopPropagation(),p(S)},E=async()=>{m&&e&&(await MV(e.uid,m),i(n.filter(S=>S.id!==m)),p(null))};return ct.jsxs(ct.Fragment,{children:[ct.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[ct.jsxs("div",{className:"flex justify-between items-center mb-8",children:[ct.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Roadmaps"}),ct.jsx("button",{onClick:()=>f({mode:"new"}),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg",children:"+ Create New Roadmap"})]}),ct.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(S=>ct.jsxs("div",{onClick:()=>t(`/roadmap/${S.id}`),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 flex flex-col cursor-pointer",children:[ct.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex-grow",children:S.title}),ct.jsxs("div",{className:"flex justify-between items-center mt-4 border-t pt-4",children:[ct.jsx("span",{className:"text-indigo-600 font-semibold",children:"Open Roadmap"}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[ct.jsx("button",{onClick:I=>{I.stopPropagation(),f({mode:"edit",roadmap:S})},className:"text-gray-500 hover:text-gray-800 font-semibold",children:"Edit"}),ct.jsx("button",{onClick:I=>v(S.id,I),className:"text-red-500 hover:text-red-700 font-semibold",children:"Delete"})]})]})]},S.id)):ct.jsx("p",{className:"text-gray-500 col-span-full text-center mt-10",children:"You don't have any roadmaps yet. Create one to get started!"})})]}),ct.jsx($b,{isOpen:!!c,onClose:()=>f(null),onSubmit:y,initialValue:c?.mode==="edit"?c.roadmap.title:"",title:c?.mode==="edit"?"Rename Roadmap":"Create New Roadmap"}),ct.jsx(PV,{isOpen:!!m,onClose:()=>p(null),onConfirm:E,title:"Delete Roadmap",message:"Are you sure you want to delete this roadmap? This action is permanent and cannot be undone."})]})};function Dn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=Dn(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Kp={exports:{}},Xp={},Qp={exports:{}},Zp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function UV(){if(fT)return Zp;fT=1;var e=cc();function t(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function f(v,E){var S=E(),I=i({inst:{value:S,getSnapshot:E}}),D=I[0].inst,M=I[1];return l(function(){D.value=S,D.getSnapshot=E,m(D)&&M({inst:D})},[v,S,E]),a(function(){return m(D)&&M({inst:D}),v(function(){m(D)&&M({inst:D})})},[v]),c(S),S}function m(v){var E=v.getSnapshot;v=v.value;try{var S=E();return!n(v,S)}catch{return!0}}function p(v,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Zp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Zp}var dT;function zV(){return dT||(dT=1,Qp.exports=UV()),Qp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function BV(){if(mT)return Xp;mT=1;var e=cc(),t=zV();function n(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var i=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Xp.useSyncExternalStoreWithSelector=function(p,y,v,E,S){var I=l(null);if(I.current===null){var D={hasValue:!1,value:null};I.current=D}else D=I.current;I=f(function(){function k(at){if(!H){if(H=!0,$=at,at=E(at),S!==void 0&&D.hasValue){var P=D.value;if(S(P,at))return G=P}return G=at}if(P=G,i($,at))return P;var R=E(at);return S!==void 0&&S(P,R)?($=at,P):($=at,G=R)}var H=!1,$,G,J=v===void 0?null:v;return[function(){return k(y())},J===null?void 0:function(){return k(J())}]},[y,v,E,S]);var M=a(p,I[0],I[1]);return c(function(){D.hasValue=!0,D.value=M},[M]),m(M),M},Xp}var pT;function HV(){return pT||(pT=1,Kp.exports=BV()),Kp.exports}var jV=HV();const qV=Xg(jV),FV={},gT=e=>{let t;const n=new Set,i=(y,v)=>{const E=typeof y=="function"?y(t):y;if(!Object.is(E,t)){const S=t;t=v??(typeof E!="object"||E===null)?E:Object.assign({},t,E),n.forEach(I=>I(t,S))}},a=()=>t,m={setState:i,getState:a,getInitialState:()=>p,subscribe:y=>(n.add(y),()=>n.delete(y)),destroy:()=>{(FV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},p=t=e(i,a,m);return m},$V=e=>e?gT(e):gT,{useDebugValue:GV}=ut,{useSyncExternalStoreWithSelector:YV}=qV,KV=e=>e;function Gb(e,t=KV,n){const i=YV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return GV(i),i}const yT=(e,t)=>{const n=$V(e),i=(a,l=t)=>Gb(n,a,l);return Object.assign(i,n),i},XV=(e,t)=>e?yT(e,t):yT;function Tn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,a]of e)if(!Object.is(a,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var QV={value:()=>{}};function Rd(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new vf(n)}function vf(e){this._=e}function ZV(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}vf.prototype=Rd.prototype={constructor:vf,on:function(e,t){var n=this._,i=ZV(e+"",n),a,l=-1,c=i.length;if(arguments.length<2){for(;++l<c;)if((a=(e=i[l]).type)&&(a=WV(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<c;)if(a=(e=i[l]).type)n[a]=_T(n[a],e.name,t);else if(t==null)for(a in n)n[a]=_T(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new vf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,l;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],i=0,a=l.length;i<a;++i)l[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,l=i.length;a<l;++a)i[a].value.apply(t,n)}};function WV(e,t){for(var n=0,i=e.length,a;n<i;++n)if((a=e[n]).name===t)return a.value}function _T(e,t,n){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=QV,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Vg="http://www.w3.org/1999/xhtml";const vT={svg:"http://www.w3.org/2000/svg",xhtml:Vg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vT.hasOwnProperty(t)?{space:vT[t],local:e}:e}function JV(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Vg&&t.documentElement.namespaceURI===Vg?t.createElement(e):t.createElementNS(n,e)}}function t3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Yb(e){var t=xd(e);return(t.local?t3:JV)(t)}function e3(){}function Zy(e){return e==null?e3:function(){return this.querySelector(e)}}function n3(e){typeof e!="function"&&(e=Zy(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var l=t[a],c=l.length,f=i[a]=new Array(c),m,p,y=0;y<c;++y)(m=l[y])&&(p=e.call(m,m.__data__,y,l))&&("__data__"in m&&(p.__data__=m.__data__),f[y]=p);return new tr(i,this._parents)}function r3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function i3(){return[]}function Kb(e){return e==null?i3:function(){return this.querySelectorAll(e)}}function s3(e){return function(){return r3(e.apply(this,arguments))}}function a3(e){typeof e=="function"?e=s3(e):e=Kb(e);for(var t=this._groups,n=t.length,i=[],a=[],l=0;l<n;++l)for(var c=t[l],f=c.length,m,p=0;p<f;++p)(m=c[p])&&(i.push(e.call(m,m.__data__,p,c)),a.push(m));return new tr(i,a)}function Xb(e){return function(){return this.matches(e)}}function Qb(e){return function(t){return t.matches(e)}}var o3=Array.prototype.find;function l3(e){return function(){return o3.call(this.children,e)}}function u3(){return this.firstElementChild}function c3(e){return this.select(e==null?u3:l3(typeof e=="function"?e:Qb(e)))}var h3=Array.prototype.filter;function f3(){return Array.from(this.children)}function d3(e){return function(){return h3.call(this.children,e)}}function m3(e){return this.selectAll(e==null?f3:d3(typeof e=="function"?e:Qb(e)))}function p3(e){typeof e!="function"&&(e=Xb(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var l=t[a],c=l.length,f=i[a]=[],m,p=0;p<c;++p)(m=l[p])&&e.call(m,m.__data__,p,l)&&f.push(m);return new tr(i,this._parents)}function Zb(e){return new Array(e.length)}function g3(){return new tr(this._enter||this._groups.map(Zb),this._parents)}function Ff(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ff.prototype={constructor:Ff,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function y3(e){return function(){return e}}function _3(e,t,n,i,a,l){for(var c=0,f,m=t.length,p=l.length;c<p;++c)(f=t[c])?(f.__data__=l[c],i[c]=f):n[c]=new Ff(e,l[c]);for(;c<m;++c)(f=t[c])&&(a[c]=f)}function v3(e,t,n,i,a,l,c){var f,m,p=new Map,y=t.length,v=l.length,E=new Array(y),S;for(f=0;f<y;++f)(m=t[f])&&(E[f]=S=c.call(m,m.__data__,f,t)+"",p.has(S)?a[f]=m:p.set(S,m));for(f=0;f<v;++f)S=c.call(e,l[f],f,l)+"",(m=p.get(S))?(i[f]=m,m.__data__=l[f],p.delete(S)):n[f]=new Ff(e,l[f]);for(f=0;f<y;++f)(m=t[f])&&p.get(E[f])===m&&(a[f]=m)}function E3(e){return e.__data__}function w3(e,t){if(!arguments.length)return Array.from(this,E3);var n=t?v3:_3,i=this._parents,a=this._groups;typeof e!="function"&&(e=y3(e));for(var l=a.length,c=new Array(l),f=new Array(l),m=new Array(l),p=0;p<l;++p){var y=i[p],v=a[p],E=v.length,S=T3(e.call(y,y&&y.__data__,p,i)),I=S.length,D=f[p]=new Array(I),M=c[p]=new Array(I),k=m[p]=new Array(E);n(y,v,D,M,k,S,t);for(var H=0,$=0,G,J;H<I;++H)if(G=D[H]){for(H>=$&&($=H+1);!(J=M[$])&&++$<I;);G._next=J||null}}return c=new tr(c,i),c._enter=f,c._exit=m,c}function T3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S3(){return new tr(this._exit||this._groups.map(Zb),this._parents)}function b3(e,t,n){var i=this.enter(),a=this,l=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?l.remove():n(l),i&&a?i.merge(a).order():a}function A3(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,a=n.length,l=i.length,c=Math.min(a,l),f=new Array(a),m=0;m<c;++m)for(var p=n[m],y=i[m],v=p.length,E=f[m]=new Array(v),S,I=0;I<v;++I)(S=p[I]||y[I])&&(E[I]=S);for(;m<a;++m)f[m]=n[m];return new tr(f,this._parents)}function R3(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],a=i.length-1,l=i[a],c;--a>=0;)(c=i[a])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function x3(e){e||(e=C3);function t(v,E){return v&&E?e(v.__data__,E.__data__):!v-!E}for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l){for(var c=n[l],f=c.length,m=a[l]=new Array(f),p,y=0;y<f;++y)(p=c[y])&&(m[y]=p);m.sort(t)}return new tr(a,this._parents).order()}function C3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function I3(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function N3(){return Array.from(this)}function D3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,l=i.length;a<l;++a){var c=i[a];if(c)return c}return null}function M3(){let e=0;for(const t of this)++e;return e}function O3(){return!this.node()}function V3(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var a=t[n],l=0,c=a.length,f;l<c;++l)(f=a[l])&&e.call(f,f.__data__,l,a);return this}function k3(e){return function(){this.removeAttribute(e)}}function P3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function L3(e,t){return function(){this.setAttribute(e,t)}}function U3(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function z3(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function B3(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function H3(e,t){var n=xd(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?P3:k3:typeof t=="function"?n.local?B3:z3:n.local?U3:L3)(n,t))}function Wb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j3(e){return function(){this.style.removeProperty(e)}}function q3(e,t,n){return function(){this.style.setProperty(e,t,n)}}function F3(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function $3(e,t,n){return arguments.length>1?this.each((t==null?j3:typeof t=="function"?F3:q3)(e,t,n??"")):dl(this.node(),e)}function dl(e,t){return e.style.getPropertyValue(t)||Wb(e).getComputedStyle(e,null).getPropertyValue(t)}function G3(e){return function(){delete this[e]}}function Y3(e,t){return function(){this[e]=t}}function K3(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function X3(e,t){return arguments.length>1?this.each((t==null?G3:typeof t=="function"?K3:Y3)(e,t)):this.node()[e]}function Jb(e){return e.trim().split(/^|\s+/)}function Wy(e){return e.classList||new tA(e)}function tA(e){this._node=e,this._names=Jb(e.getAttribute("class")||"")}tA.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function eA(e,t){for(var n=Wy(e),i=-1,a=t.length;++i<a;)n.add(t[i])}function nA(e,t){for(var n=Wy(e),i=-1,a=t.length;++i<a;)n.remove(t[i])}function Q3(e){return function(){eA(this,e)}}function Z3(e){return function(){nA(this,e)}}function W3(e,t){return function(){(t.apply(this,arguments)?eA:nA)(this,e)}}function J3(e,t){var n=Jb(e+"");if(arguments.length<2){for(var i=Wy(this.node()),a=-1,l=n.length;++a<l;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?W3:t?Q3:Z3)(n,t))}function tk(){this.textContent=""}function ek(e){return function(){this.textContent=e}}function nk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function rk(e){return arguments.length?this.each(e==null?tk:(typeof e=="function"?nk:ek)(e)):this.node().textContent}function ik(){this.innerHTML=""}function sk(e){return function(){this.innerHTML=e}}function ak(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ok(e){return arguments.length?this.each(e==null?ik:(typeof e=="function"?ak:sk)(e)):this.node().innerHTML}function lk(){this.nextSibling&&this.parentNode.appendChild(this)}function uk(){return this.each(lk)}function ck(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hk(){return this.each(ck)}function fk(e){var t=typeof e=="function"?e:Yb(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function dk(){return null}function mk(e,t){var n=typeof e=="function"?e:Yb(e),i=t==null?dk:typeof t=="function"?t:Zy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pk(){var e=this.parentNode;e&&e.removeChild(this)}function gk(){return this.each(pk)}function yk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _k(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vk(e){return this.select(e?_k:yk)}function Ek(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wk(e){return function(t){e.call(this,t,this.__data__)}}function Tk(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Sk(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,a=t.length,l;n<a;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++i]=l;++i?t.length=i:delete this.__on}}}function bk(e,t,n){return function(){var i=this.__on,a,l=wk(t);if(i){for(var c=0,f=i.length;c<f;++c)if((a=i[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=n),a.value=t;return}}this.addEventListener(e.type,l,n),a={type:e.type,name:e.name,value:t,listener:l,options:n},i?i.push(a):this.__on=[a]}}function Ak(e,t,n){var i=Tk(e+""),a,l=i.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var m=0,p=f.length,y;m<p;++m)for(a=0,y=f[m];a<l;++a)if((c=i[a]).type===y.type&&c.name===y.name)return y.value}return}for(f=t?bk:Sk,a=0;a<l;++a)this.each(f(i[a],t,n));return this}function rA(e,t,n){var i=Wb(e),a=i.CustomEvent;typeof a=="function"?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Rk(e,t){return function(){return rA(this,e,t)}}function xk(e,t){return function(){return rA(this,e,t.apply(this,arguments))}}function Ck(e,t){return this.each((typeof t=="function"?xk:Rk)(e,t))}function*Ik(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,l=i.length,c;a<l;++a)(c=i[a])&&(yield c)}var iA=[null];function tr(e,t){this._groups=e,this._parents=t}function Ac(){return new tr([[document.documentElement]],iA)}function Nk(){return this}tr.prototype=Ac.prototype={constructor:tr,select:n3,selectAll:a3,selectChild:c3,selectChildren:m3,filter:p3,data:w3,enter:g3,exit:S3,join:b3,merge:A3,selection:Nk,order:R3,sort:x3,call:I3,nodes:N3,node:D3,size:M3,empty:O3,each:V3,attr:H3,style:$3,property:X3,classed:J3,text:rk,html:ok,raise:uk,lower:hk,append:fk,insert:mk,remove:gk,clone:vk,datum:Ek,on:Ak,dispatch:Ck,[Symbol.iterator]:Ik};function Nr(e){return typeof e=="string"?new tr([[document.querySelector(e)]],[document.documentElement]):new tr([[e]],iA)}function Dk(e){let t;for(;t=e.sourceEvent;)e=t;return e}function li(e,t){if(e=Dk(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Mk={passive:!1},rc={capture:!0,passive:!1};function Wp(e){e.stopImmediatePropagation()}function el(e){e.preventDefault(),e.stopImmediatePropagation()}function sA(e){var t=e.document.documentElement,n=Nr(e).on("dragstart.drag",el,rc);"onselectstart"in t?n.on("selectstart.drag",el,rc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function aA(e,t){var n=e.document.documentElement,i=Nr(e).on("dragstart.drag",null);t&&(i.on("click.drag",el,rc),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qh=e=>()=>e;function kg(e,{sourceEvent:t,subject:n,target:i,identifier:a,active:l,x:c,y:f,dx:m,dy:p,dispatch:y}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:y}})}kg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ok(e){return!e.ctrlKey&&!e.button}function Vk(){return this.parentNode}function kk(e,t){return t??{x:e.x,y:e.y}}function Pk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lk(){var e=Ok,t=Vk,n=kk,i=Pk,a={},l=Rd("start","drag","end"),c=0,f,m,p,y,v=0;function E(G){G.on("mousedown.drag",S).filter(i).on("touchstart.drag",M).on("touchmove.drag",k,Mk).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(G,J){if(!(y||!e.call(this,G,J))){var at=$(this,t.call(this,G,J),G,J,"mouse");at&&(Nr(G.view).on("mousemove.drag",I,rc).on("mouseup.drag",D,rc),sA(G.view),Wp(G),p=!1,f=G.clientX,m=G.clientY,at("start",G))}}function I(G){if(el(G),!p){var J=G.clientX-f,at=G.clientY-m;p=J*J+at*at>v}a.mouse("drag",G)}function D(G){Nr(G.view).on("mousemove.drag mouseup.drag",null),aA(G.view,p),el(G),a.mouse("end",G)}function M(G,J){if(e.call(this,G,J)){var at=G.changedTouches,P=t.call(this,G,J),R=at.length,b,O;for(b=0;b<R;++b)(O=$(this,P,G,J,at[b].identifier,at[b]))&&(Wp(G),O("start",G,at[b]))}}function k(G){var J=G.changedTouches,at=J.length,P,R;for(P=0;P<at;++P)(R=a[J[P].identifier])&&(el(G),R("drag",G,J[P]))}function H(G){var J=G.changedTouches,at=J.length,P,R;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),P=0;P<at;++P)(R=a[J[P].identifier])&&(Wp(G),R("end",G,J[P]))}function $(G,J,at,P,R,b){var O=l.copy(),z=li(b||at,J),B,x,L;if((L=n.call(G,new kg("beforestart",{sourceEvent:at,target:E,identifier:R,active:c,x:z[0],y:z[1],dx:0,dy:0,dispatch:O}),P))!=null)return B=L.x-z[0]||0,x=L.y-z[1]||0,function et(V,F,rt){var X=z,N;switch(V){case"start":a[R]=et,N=c++;break;case"end":delete a[R],--c;case"drag":z=li(rt||F,J),N=c;break}O.call(V,G,new kg(V,{sourceEvent:F,subject:L,target:E,identifier:R,active:N,x:z[0]+B,y:z[1]+x,dx:z[0]-X[0],dy:z[1]-X[1],dispatch:O}),P)}}return E.filter=function(G){return arguments.length?(e=typeof G=="function"?G:Qh(!!G),E):e},E.container=function(G){return arguments.length?(t=typeof G=="function"?G:Qh(G),E):t},E.subject=function(G){return arguments.length?(n=typeof G=="function"?G:Qh(G),E):n},E.touchable=function(G){return arguments.length?(i=typeof G=="function"?G:Qh(!!G),E):i},E.on=function(){var G=l.on.apply(l,arguments);return G===l?E:G},E.clickDistance=function(G){return arguments.length?(v=(G=+G)*G,E):Math.sqrt(v)},E}function Jy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function oA(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Rc(){}var ic=.7,$f=1/ic,nl="\\s*([+-]?\\d+)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uk=/^#([0-9a-f]{3,8})$/,zk=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),Bk=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),Hk=new RegExp(`^rgba\\(${nl},${nl},${nl},${sc}\\)$`),jk=new RegExp(`^rgba\\(${mi},${mi},${mi},${sc}\\)$`),qk=new RegExp(`^hsl\\(${sc},${mi},${mi}\\)$`),Fk=new RegExp(`^hsla\\(${sc},${mi},${mi},${sc}\\)$`),ET={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jy(Rc,ac,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wT,formatHex:wT,formatHex8:$k,formatHsl:Gk,formatRgb:TT,toString:TT});function wT(){return this.rgb().formatHex()}function $k(){return this.rgb().formatHex8()}function Gk(){return lA(this).formatHsl()}function TT(){return this.rgb().formatRgb()}function ac(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Uk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ST(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zk.exec(e))?new zn(t[1],t[2],t[3],1):(t=Bk.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hk.exec(e))?Zh(t[1],t[2],t[3],t[4]):(t=jk.exec(e))?Zh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qk.exec(e))?RT(t[1],t[2]/100,t[3]/100,1):(t=Fk.exec(e))?RT(t[1],t[2]/100,t[3]/100,t[4]):ET.hasOwnProperty(e)?ST(ET[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function ST(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function Zh(e,t,n,i){return i<=0&&(e=t=n=NaN),new zn(e,t,n,i)}function Yk(e){return e instanceof Rc||(e=ac(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function Pg(e,t,n,i){return arguments.length===1?Yk(e):new zn(e,t,n,i??1)}function zn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Jy(zn,Pg,oA(Rc,{brighter(e){return e=e==null?$f:Math.pow($f,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(za(this.r),za(this.g),za(this.b),Gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bT,formatHex:bT,formatHex8:Kk,formatRgb:AT,toString:AT}));function bT(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}`}function Kk(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}${ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function AT(){const e=Gf(this.opacity);return`${e===1?"rgb(":"rgba("}${za(this.r)}, ${za(this.g)}, ${za(this.b)}${e===1?")":`, ${e})`}`}function Gf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function za(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ka(e){return e=za(e),(e<16?"0":"")+e.toString(16)}function RT(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dr(e,t,n,i)}function lA(e){if(e instanceof Dr)return new Dr(e.h,e.s,e.l,e.opacity);if(e instanceof Rc||(e=ac(e)),!e)return new Dr;if(e instanceof Dr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),l=Math.max(t,n,i),c=NaN,f=l-a,m=(l+a)/2;return f?(t===l?c=(n-i)/f+(n<i)*6:n===l?c=(i-t)/f+2:c=(t-n)/f+4,f/=m<.5?l+a:2-l-a,c*=60):f=m>0&&m<1?0:c,new Dr(c,f,m,e.opacity)}function Xk(e,t,n,i){return arguments.length===1?lA(e):new Dr(e,t,n,i??1)}function Dr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Jy(Dr,Xk,oA(Rc,{brighter(e){return e=e==null?$f:Math.pow($f,e),new Dr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new Dr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,a=2*n-i;return new zn(Jp(e>=240?e-240:e+120,a,i),Jp(e,a,i),Jp(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new Dr(xT(this.h),Wh(this.s),Wh(this.l),Gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gf(this.opacity);return`${e===1?"hsl(":"hsla("}${xT(this.h)}, ${Wh(this.s)*100}%, ${Wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xT(e){return e=(e||0)%360,e<0?e+360:e}function Wh(e){return Math.max(0,Math.min(1,e||0))}function Jp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const uA=e=>()=>e;function Qk(e,t){return function(n){return e+n*t}}function Zk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Wk(e){return(e=+e)==1?cA:function(t,n){return n-t?Zk(t,n,e):uA(isNaN(t)?n:t)}}function cA(e,t){var n=t-e;return n?Qk(e,n):uA(isNaN(e)?t:e)}const CT=(function e(t){var n=Wk(t);function i(a,l){var c=n((a=Pg(a)).r,(l=Pg(l)).r),f=n(a.g,l.g),m=n(a.b,l.b),p=cA(a.opacity,l.opacity);return function(y){return a.r=c(y),a.g=f(y),a.b=m(y),a.opacity=p(y),a+""}}return i.gamma=e,i})(1);function Ms(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Lg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tg=new RegExp(Lg.source,"g");function Jk(e){return function(){return e}}function tP(e){return function(t){return e(t)+""}}function eP(e,t){var n=Lg.lastIndex=tg.lastIndex=0,i,a,l,c=-1,f=[],m=[];for(e=e+"",t=t+"";(i=Lg.exec(e))&&(a=tg.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),f[c]?f[c]+=l:f[++c]=l),(i=i[0])===(a=a[0])?f[c]?f[c]+=a:f[++c]=a:(f[++c]=null,m.push({i:c,x:Ms(i,a)})),n=tg.lastIndex;return n<t.length&&(l=t.slice(n),f[c]?f[c]+=l:f[++c]=l),f.length<2?m[0]?tP(m[0].x):Jk(t):(t=m.length,function(p){for(var y=0,v;y<t;++y)f[(v=m[y]).i]=v.x(p);return f.join("")})}var IT=180/Math.PI,Ug={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hA(e,t,n,i,a,l){var c,f,m;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(m=e*n+t*i)&&(n-=e*m,i-=t*m),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,m/=f),e*i<t*n&&(e=-e,t=-t,m=-m,c=-c),{translateX:a,translateY:l,rotate:Math.atan2(t,e)*IT,skewX:Math.atan(m)*IT,scaleX:c,scaleY:f}}var Jh;function nP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ug:hA(t.a,t.b,t.c,t.d,t.e,t.f)}function rP(e){return e==null||(Jh||(Jh=document.createElementNS("http://www.w3.org/2000/svg","g")),Jh.setAttribute("transform",e),!(e=Jh.transform.baseVal.consolidate()))?Ug:(e=e.matrix,hA(e.a,e.b,e.c,e.d,e.e,e.f))}function fA(e,t,n,i){function a(p){return p.length?p.pop()+" ":""}function l(p,y,v,E,S,I){if(p!==v||y!==E){var D=S.push("translate(",null,t,null,n);I.push({i:D-4,x:Ms(p,v)},{i:D-2,x:Ms(y,E)})}else(v||E)&&S.push("translate("+v+t+E+n)}function c(p,y,v,E){p!==y?(p-y>180?y+=360:y-p>180&&(p+=360),E.push({i:v.push(a(v)+"rotate(",null,i)-2,x:Ms(p,y)})):y&&v.push(a(v)+"rotate("+y+i)}function f(p,y,v,E){p!==y?E.push({i:v.push(a(v)+"skewX(",null,i)-2,x:Ms(p,y)}):y&&v.push(a(v)+"skewX("+y+i)}function m(p,y,v,E,S,I){if(p!==v||y!==E){var D=S.push(a(S)+"scale(",null,",",null,")");I.push({i:D-4,x:Ms(p,v)},{i:D-2,x:Ms(y,E)})}else(v!==1||E!==1)&&S.push(a(S)+"scale("+v+","+E+")")}return function(p,y){var v=[],E=[];return p=e(p),y=e(y),l(p.translateX,p.translateY,y.translateX,y.translateY,v,E),c(p.rotate,y.rotate,v,E),f(p.skewX,y.skewX,v,E),m(p.scaleX,p.scaleY,y.scaleX,y.scaleY,v,E),p=y=null,function(S){for(var I=-1,D=E.length,M;++I<D;)v[(M=E[I]).i]=M.x(S);return v.join("")}}}var iP=fA(nP,"px, ","px)","deg)"),sP=fA(rP,", ",")",")"),aP=1e-12;function NT(e){return((e=Math.exp(e))+1/e)/2}function oP(e){return((e=Math.exp(e))-1/e)/2}function lP(e){return((e=Math.exp(2*e))-1)/(e+1)}const uP=(function e(t,n,i){function a(l,c){var f=l[0],m=l[1],p=l[2],y=c[0],v=c[1],E=c[2],S=y-f,I=v-m,D=S*S+I*I,M,k;if(D<aP)k=Math.log(E/p)/t,M=function(P){return[f+P*S,m+P*I,p*Math.exp(t*P*k)]};else{var H=Math.sqrt(D),$=(E*E-p*p+i*D)/(2*p*n*H),G=(E*E-p*p-i*D)/(2*E*n*H),J=Math.log(Math.sqrt($*$+1)-$),at=Math.log(Math.sqrt(G*G+1)-G);k=(at-J)/t,M=function(P){var R=P*k,b=NT(J),O=p/(n*H)*(b*lP(t*R+J)-oP(J));return[f+O*S,m+O*I,p*b/NT(t*R+J)]}}return M.duration=k*1e3*t/Math.SQRT2,M}return a.rho=function(l){var c=Math.max(.001,+l),f=c*c,m=f*f;return e(c,f,m)},a})(Math.SQRT2,2,4);var ml=0,Uu=0,Iu=0,dA=1e3,Yf,zu,Kf=0,$a=0,Cd=0,oc=typeof performance=="object"&&performance.now?performance:Date,mA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function t_(){return $a||(mA(cP),$a=oc.now()+Cd)}function cP(){$a=0}function Xf(){this._call=this._time=this._next=null}Xf.prototype=pA.prototype={constructor:Xf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?t_():+n)+(t==null?0:+t),!this._next&&zu!==this&&(zu?zu._next=this:Yf=this,zu=this),this._call=e,this._time=n,zg()},stop:function(){this._call&&(this._call=null,this._time=1/0,zg())}};function pA(e,t,n){var i=new Xf;return i.restart(e,t,n),i}function hP(){t_(),++ml;for(var e=Yf,t;e;)(t=$a-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ml}function DT(){$a=(Kf=oc.now())+Cd,ml=Uu=0;try{hP()}finally{ml=0,dP(),$a=0}}function fP(){var e=oc.now(),t=e-Kf;t>dA&&(Cd-=t,Kf=e)}function dP(){for(var e,t=Yf,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yf=n);zu=e,zg(i)}function zg(e){if(!ml){Uu&&(Uu=clearTimeout(Uu));var t=e-$a;t>24?(e<1/0&&(Uu=setTimeout(DT,e-oc.now()-Cd)),Iu&&(Iu=clearInterval(Iu))):(Iu||(Kf=oc.now(),Iu=setInterval(fP,dA)),ml=1,mA(DT))}}function MT(e,t,n){var i=new Xf;return t=t==null?0:+t,i.restart(a=>{i.stop(),e(a+t)},t,n),i}var mP=Rd("start","end","cancel","interrupt"),pP=[],gA=0,OT=1,Bg=2,Ef=3,VT=4,Hg=5,wf=6;function Id(e,t,n,i,a,l){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;gP(e,n,{name:t,index:i,group:a,on:mP,tween:pP,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:gA})}function e_(e,t){var n=zr(e,t);if(n.state>gA)throw new Error("too late; already scheduled");return n}function _i(e,t){var n=zr(e,t);if(n.state>Ef)throw new Error("too late; already running");return n}function zr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gP(e,t,n){var i=e.__transition,a;i[t]=n,n.timer=pA(l,0,n.time);function l(p){n.state=OT,n.timer.restart(c,n.delay,n.time),n.delay<=p&&c(p-n.delay)}function c(p){var y,v,E,S;if(n.state!==OT)return m();for(y in i)if(S=i[y],S.name===n.name){if(S.state===Ef)return MT(c);S.state===VT?(S.state=wf,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete i[y]):+y<t&&(S.state=wf,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete i[y])}if(MT(function(){n.state===Ef&&(n.state=VT,n.timer.restart(f,n.delay,n.time),f(p))}),n.state=Bg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bg){for(n.state=Ef,a=new Array(E=n.tween.length),y=0,v=-1;y<E;++y)(S=n.tween[y].value.call(e,e.__data__,n.index,n.group))&&(a[++v]=S);a.length=v+1}}function f(p){for(var y=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(m),n.state=Hg,1),v=-1,E=a.length;++v<E;)a[v].call(e,y);n.state===Hg&&(n.on.call("end",e,e.__data__,n.index,n.group),m())}function m(){n.state=wf,n.timer.stop(),delete i[t];for(var p in i)return;delete e.__transition}}function Tf(e,t){var n=e.__transition,i,a,l=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((i=n[c]).name!==t){l=!1;continue}a=i.state>Bg&&i.state<Hg,i.state=wf,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[c]}l&&delete e.__transition}}function yP(e){return this.each(function(){Tf(this,e)})}function _P(e,t){var n,i;return function(){var a=_i(this,e),l=a.tween;if(l!==n){i=n=l;for(var c=0,f=i.length;c<f;++c)if(i[c].name===t){i=i.slice(),i.splice(c,1);break}}a.tween=i}}function vP(e,t,n){var i,a;if(typeof n!="function")throw new Error;return function(){var l=_i(this,e),c=l.tween;if(c!==i){a=(i=c).slice();for(var f={name:t,value:n},m=0,p=a.length;m<p;++m)if(a[m].name===t){a[m]=f;break}m===p&&a.push(f)}l.tween=a}}function EP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=zr(this.node(),n).tween,a=0,l=i.length,c;a<l;++a)if((c=i[a]).name===e)return c.value;return null}return this.each((t==null?_P:vP)(n,e,t))}function n_(e,t,n){var i=e._id;return e.each(function(){var a=_i(this,i);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return zr(a,i).value[t]}}function yA(e,t){var n;return(typeof t=="number"?Ms:t instanceof ac?CT:(n=ac(t))?(t=n,CT):eP)(e,t)}function wP(e){return function(){this.removeAttribute(e)}}function TP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function SP(e,t,n){var i,a=n+"",l;return function(){var c=this.getAttribute(e);return c===a?null:c===i?l:l=t(i=c,n)}}function bP(e,t,n){var i,a=n+"",l;return function(){var c=this.getAttributeNS(e.space,e.local);return c===a?null:c===i?l:l=t(i=c,n)}}function AP(e,t,n){var i,a,l;return function(){var c,f=n(this),m;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),m=f+"",c===m?null:c===i&&m===a?l:(a=m,l=t(i=c,f)))}}function RP(e,t,n){var i,a,l;return function(){var c,f=n(this),m;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),m=f+"",c===m?null:c===i&&m===a?l:(a=m,l=t(i=c,f)))}}function xP(e,t){var n=xd(e),i=n==="transform"?sP:yA;return this.attrTween(e,typeof t=="function"?(n.local?RP:AP)(n,i,n_(this,"attr."+e,t)):t==null?(n.local?TP:wP)(n):(n.local?bP:SP)(n,i,t))}function CP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function IP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function NP(e,t){var n,i;function a(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&IP(e,l)),n}return a._value=t,a}function DP(e,t){var n,i;function a(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&CP(e,l)),n}return a._value=t,a}function MP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=xd(e);return this.tween(n,(i.local?NP:DP)(i,t))}function OP(e,t){return function(){e_(this,e).delay=+t.apply(this,arguments)}}function VP(e,t){return t=+t,function(){e_(this,e).delay=t}}function kP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OP:VP)(t,e)):zr(this.node(),t).delay}function PP(e,t){return function(){_i(this,e).duration=+t.apply(this,arguments)}}function LP(e,t){return t=+t,function(){_i(this,e).duration=t}}function UP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PP:LP)(t,e)):zr(this.node(),t).duration}function zP(e,t){if(typeof t!="function")throw new Error;return function(){_i(this,e).ease=t}}function BP(e){var t=this._id;return arguments.length?this.each(zP(t,e)):zr(this.node(),t).ease}function HP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;_i(this,e).ease=n}}function jP(e){if(typeof e!="function")throw new Error;return this.each(HP(this._id,e))}function qP(e){typeof e!="function"&&(e=Xb(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var l=t[a],c=l.length,f=i[a]=[],m,p=0;p<c;++p)(m=l[p])&&e.call(m,m.__data__,p,l)&&f.push(m);return new es(i,this._parents,this._name,this._id)}function FP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,a=n.length,l=Math.min(i,a),c=new Array(i),f=0;f<l;++f)for(var m=t[f],p=n[f],y=m.length,v=c[f]=new Array(y),E,S=0;S<y;++S)(E=m[S]||p[S])&&(v[S]=E);for(;f<i;++f)c[f]=t[f];return new es(c,this._parents,this._name,this._id)}function $P(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function GP(e,t,n){var i,a,l=$P(t)?e_:_i;return function(){var c=l(this,e),f=c.on;f!==i&&(a=(i=f).copy()).on(t,n),c.on=a}}function YP(e,t){var n=this._id;return arguments.length<2?zr(this.node(),n).on.on(e):this.each(GP(n,e,t))}function KP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function XP(){return this.on("end.remove",KP(this._id))}function QP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zy(e));for(var i=this._groups,a=i.length,l=new Array(a),c=0;c<a;++c)for(var f=i[c],m=f.length,p=l[c]=new Array(m),y,v,E=0;E<m;++E)(y=f[E])&&(v=e.call(y,y.__data__,E,f))&&("__data__"in y&&(v.__data__=y.__data__),p[E]=v,Id(p[E],t,n,E,p,zr(y,n)));return new es(l,this._parents,t,n)}function ZP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Kb(e));for(var i=this._groups,a=i.length,l=[],c=[],f=0;f<a;++f)for(var m=i[f],p=m.length,y,v=0;v<p;++v)if(y=m[v]){for(var E=e.call(y,y.__data__,v,m),S,I=zr(y,n),D=0,M=E.length;D<M;++D)(S=E[D])&&Id(S,t,n,D,E,I);l.push(E),c.push(y)}return new es(l,c,t,n)}var WP=Ac.prototype.constructor;function JP(){return new WP(this._groups,this._parents)}function t6(e,t){var n,i,a;return function(){var l=dl(this,e),c=(this.style.removeProperty(e),dl(this,e));return l===c?null:l===n&&c===i?a:a=t(n=l,i=c)}}function _A(e){return function(){this.style.removeProperty(e)}}function e6(e,t,n){var i,a=n+"",l;return function(){var c=dl(this,e);return c===a?null:c===i?l:l=t(i=c,n)}}function n6(e,t,n){var i,a,l;return function(){var c=dl(this,e),f=n(this),m=f+"";return f==null&&(m=f=(this.style.removeProperty(e),dl(this,e))),c===m?null:c===i&&m===a?l:(a=m,l=t(i=c,f))}}function r6(e,t){var n,i,a,l="style."+t,c="end."+l,f;return function(){var m=_i(this,e),p=m.on,y=m.value[l]==null?f||(f=_A(t)):void 0;(p!==n||a!==y)&&(i=(n=p).copy()).on(c,a=y),m.on=i}}function i6(e,t,n){var i=(e+="")=="transform"?iP:yA;return t==null?this.styleTween(e,t6(e,i)).on("end.style."+e,_A(e)):typeof t=="function"?this.styleTween(e,n6(e,i,n_(this,"style."+e,t))).each(r6(this._id,e)):this.styleTween(e,e6(e,i,t),n).on("end.style."+e,null)}function s6(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function a6(e,t,n){var i,a;function l(){var c=t.apply(this,arguments);return c!==a&&(i=(a=c)&&s6(e,c,n)),i}return l._value=t,l}function o6(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,a6(e,t,n??""))}function l6(e){return function(){this.textContent=e}}function u6(e){return function(){var t=e(this);this.textContent=t??""}}function c6(e){return this.tween("text",typeof e=="function"?u6(n_(this,"text",e)):l6(e==null?"":e+""))}function h6(e){return function(t){this.textContent=e.call(this,t)}}function f6(e){var t,n;function i(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&h6(a)),t}return i._value=e,i}function d6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,f6(e))}function m6(){for(var e=this._name,t=this._id,n=vA(),i=this._groups,a=i.length,l=0;l<a;++l)for(var c=i[l],f=c.length,m,p=0;p<f;++p)if(m=c[p]){var y=zr(m,t);Id(m,e,n,p,c,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new es(i,this._parents,e,n)}function p6(){var e,t,n=this,i=n._id,a=n.size();return new Promise(function(l,c){var f={value:c},m={value:function(){--a===0&&l()}};n.each(function(){var p=_i(this,i),y=p.on;y!==e&&(t=(e=y).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(m)),p.on=t}),a===0&&l()})}var g6=0;function es(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function vA(){return++g6}var qi=Ac.prototype;es.prototype={constructor:es,select:QP,selectAll:ZP,selectChild:qi.selectChild,selectChildren:qi.selectChildren,filter:qP,merge:FP,selection:JP,transition:m6,call:qi.call,nodes:qi.nodes,node:qi.node,size:qi.size,empty:qi.empty,each:qi.each,on:YP,attr:xP,attrTween:MP,style:i6,styleTween:o6,text:c6,textTween:d6,remove:XP,tween:EP,delay:kP,duration:UP,ease:BP,easeVarying:jP,end:p6,[Symbol.iterator]:qi[Symbol.iterator]};function y6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _6={time:null,delay:0,duration:250,ease:y6};function v6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function E6(e){var t,n;e instanceof es?(t=e._id,e=e._name):(t=vA(),(n=_6).time=t_(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,l=0;l<a;++l)for(var c=i[l],f=c.length,m,p=0;p<f;++p)(m=c[p])&&Id(m,e,t,p,c,n||v6(m,t));return new es(i,this._parents,e,t)}Ac.prototype.interrupt=yP;Ac.prototype.transition=E6;const tf=e=>()=>e;function w6(e,{sourceEvent:t,target:n,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Yi(e,t,n){this.k=e,this.x=t,this.y=n}Yi.prototype={constructor:Yi,scale:function(e){return e===1?this:new Yi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fs=new Yi(1,0,0);Yi.prototype;function eg(e){e.stopImmediatePropagation()}function Nu(e){e.preventDefault(),e.stopImmediatePropagation()}function T6(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function S6(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function kT(){return this.__zoom||Fs}function b6(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function A6(){return navigator.maxTouchPoints||"ontouchstart"in this}function R6(e,t,n){var i=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],l=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function x6(){var e=T6,t=S6,n=R6,i=b6,a=A6,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,m=uP,p=Rd("start","zoom","end"),y,v,E,S=500,I=150,D=0,M=10;function k(L){L.property("__zoom",kT).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",O).filter(a).on("touchstart.zoom",z).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",x).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(L,et,V,F){var rt=L.selection?L.selection():L;rt.property("__zoom",kT),L!==rt?J(L,et,V,F):rt.interrupt().each(function(){at(this,arguments).event(F).start().zoom(null,typeof et=="function"?et.apply(this,arguments):et).end()})},k.scaleBy=function(L,et,V,F){k.scaleTo(L,function(){var rt=this.__zoom.k,X=typeof et=="function"?et.apply(this,arguments):et;return rt*X},V,F)},k.scaleTo=function(L,et,V,F){k.transform(L,function(){var rt=t.apply(this,arguments),X=this.__zoom,N=V==null?G(rt):typeof V=="function"?V.apply(this,arguments):V,q=X.invert(N),tt=typeof et=="function"?et.apply(this,arguments):et;return n($(H(X,tt),N,q),rt,c)},V,F)},k.translateBy=function(L,et,V,F){k.transform(L,function(){return n(this.__zoom.translate(typeof et=="function"?et.apply(this,arguments):et,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),c)},null,F)},k.translateTo=function(L,et,V,F,rt){k.transform(L,function(){var X=t.apply(this,arguments),N=this.__zoom,q=F==null?G(X):typeof F=="function"?F.apply(this,arguments):F;return n(Fs.translate(q[0],q[1]).scale(N.k).translate(typeof et=="function"?-et.apply(this,arguments):-et,typeof V=="function"?-V.apply(this,arguments):-V),X,c)},F,rt)};function H(L,et){return et=Math.max(l[0],Math.min(l[1],et)),et===L.k?L:new Yi(et,L.x,L.y)}function $(L,et,V){var F=et[0]-V[0]*L.k,rt=et[1]-V[1]*L.k;return F===L.x&&rt===L.y?L:new Yi(L.k,F,rt)}function G(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function J(L,et,V,F){L.on("start.zoom",function(){at(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){at(this,arguments).event(F).end()}).tween("zoom",function(){var rt=this,X=arguments,N=at(rt,X).event(F),q=t.apply(rt,X),tt=V==null?G(q):typeof V=="function"?V.apply(rt,X):V,it=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ft=rt.__zoom,yt=typeof et=="function"?et.apply(rt,X):et,_t=m(ft.invert(tt).concat(it/ft.k),yt.invert(tt).concat(it/yt.k));return function(Nt){if(Nt===1)Nt=yt;else{var At=_t(Nt),Zt=it/At[2];Nt=new Yi(Zt,tt[0]-At[0]*Zt,tt[1]-At[1]*Zt)}N.zoom(null,Nt)}})}function at(L,et,V){return!V&&L.__zooming||new P(L,et)}function P(L,et){this.that=L,this.args=et,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,et),this.taps=0}P.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,et){return this.mouse&&L!=="mouse"&&(this.mouse[1]=et.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=et.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=et.invert(this.touch1[0])),this.that.__zoom=et,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var et=Nr(this.that).datum();p.call(L,this.that,new w6(L,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:p}),et)}};function R(L,...et){if(!e.apply(this,arguments))return;var V=at(this,et).event(L),F=this.__zoom,rt=Math.max(l[0],Math.min(l[1],F.k*Math.pow(2,i.apply(this,arguments)))),X=li(L);if(V.wheel)(V.mouse[0][0]!==X[0]||V.mouse[0][1]!==X[1])&&(V.mouse[1]=F.invert(V.mouse[0]=X)),clearTimeout(V.wheel);else{if(F.k===rt)return;V.mouse=[X,F.invert(X)],Tf(this),V.start()}Nu(L),V.wheel=setTimeout(N,I),V.zoom("mouse",n($(H(F,rt),V.mouse[0],V.mouse[1]),V.extent,c));function N(){V.wheel=null,V.end()}}function b(L,...et){if(E||!e.apply(this,arguments))return;var V=L.currentTarget,F=at(this,et,!0).event(L),rt=Nr(L.view).on("mousemove.zoom",tt,!0).on("mouseup.zoom",it,!0),X=li(L,V),N=L.clientX,q=L.clientY;sA(L.view),eg(L),F.mouse=[X,this.__zoom.invert(X)],Tf(this),F.start();function tt(ft){if(Nu(ft),!F.moved){var yt=ft.clientX-N,_t=ft.clientY-q;F.moved=yt*yt+_t*_t>D}F.event(ft).zoom("mouse",n($(F.that.__zoom,F.mouse[0]=li(ft,V),F.mouse[1]),F.extent,c))}function it(ft){rt.on("mousemove.zoom mouseup.zoom",null),aA(ft.view,F.moved),Nu(ft),F.event(ft).end()}}function O(L,...et){if(e.apply(this,arguments)){var V=this.__zoom,F=li(L.changedTouches?L.changedTouches[0]:L,this),rt=V.invert(F),X=V.k*(L.shiftKey?.5:2),N=n($(H(V,X),F,rt),t.apply(this,et),c);Nu(L),f>0?Nr(this).transition().duration(f).call(J,N,F,L):Nr(this).call(k.transform,N,F,L)}}function z(L,...et){if(e.apply(this,arguments)){var V=L.touches,F=V.length,rt=at(this,et,L.changedTouches.length===F).event(L),X,N,q,tt;for(eg(L),N=0;N<F;++N)q=V[N],tt=li(q,this),tt=[tt,this.__zoom.invert(tt),q.identifier],rt.touch0?!rt.touch1&&rt.touch0[2]!==tt[2]&&(rt.touch1=tt,rt.taps=0):(rt.touch0=tt,X=!0,rt.taps=1+!!y);y&&(y=clearTimeout(y)),X&&(rt.taps<2&&(v=tt[0],y=setTimeout(function(){y=null},S)),Tf(this),rt.start())}}function B(L,...et){if(this.__zooming){var V=at(this,et).event(L),F=L.changedTouches,rt=F.length,X,N,q,tt;for(Nu(L),X=0;X<rt;++X)N=F[X],q=li(N,this),V.touch0&&V.touch0[2]===N.identifier?V.touch0[0]=q:V.touch1&&V.touch1[2]===N.identifier&&(V.touch1[0]=q);if(N=V.that.__zoom,V.touch1){var it=V.touch0[0],ft=V.touch0[1],yt=V.touch1[0],_t=V.touch1[1],Nt=(Nt=yt[0]-it[0])*Nt+(Nt=yt[1]-it[1])*Nt,At=(At=_t[0]-ft[0])*At+(At=_t[1]-ft[1])*At;N=H(N,Math.sqrt(Nt/At)),q=[(it[0]+yt[0])/2,(it[1]+yt[1])/2],tt=[(ft[0]+_t[0])/2,(ft[1]+_t[1])/2]}else if(V.touch0)q=V.touch0[0],tt=V.touch0[1];else return;V.zoom("touch",n($(N,q,tt),V.extent,c))}}function x(L,...et){if(this.__zooming){var V=at(this,et).event(L),F=L.changedTouches,rt=F.length,X,N;for(eg(L),E&&clearTimeout(E),E=setTimeout(function(){E=null},S),X=0;X<rt;++X)N=F[X],V.touch0&&V.touch0[2]===N.identifier?delete V.touch0:V.touch1&&V.touch1[2]===N.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(N=li(N,this),Math.hypot(v[0]-N[0],v[1]-N[1])<M)){var q=Nr(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return k.wheelDelta=function(L){return arguments.length?(i=typeof L=="function"?L:tf(+L),k):i},k.filter=function(L){return arguments.length?(e=typeof L=="function"?L:tf(!!L),k):e},k.touchable=function(L){return arguments.length?(a=typeof L=="function"?L:tf(!!L),k):a},k.extent=function(L){return arguments.length?(t=typeof L=="function"?L:tf([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),k):t},k.scaleExtent=function(L){return arguments.length?(l[0]=+L[0],l[1]=+L[1],k):[l[0],l[1]]},k.translateExtent=function(L){return arguments.length?(c[0][0]=+L[0][0],c[1][0]=+L[1][0],c[0][1]=+L[0][1],c[1][1]=+L[1][1],k):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},k.constrain=function(L){return arguments.length?(n=L,k):n},k.duration=function(L){return arguments.length?(f=+L,k):f},k.interpolate=function(L){return arguments.length?(m=L,k):m},k.on=function(){var L=p.on.apply(p,arguments);return L===p?k:L},k.clickDistance=function(L){return arguments.length?(D=(L=+L)*L,k):Math.sqrt(D)},k.tapDistance=function(L){return arguments.length?(M=+L,k):M},k}const Nd=U.createContext(null),C6=Nd.Provider,ns={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},EA=ns.error001();function we(e,t){const n=U.useContext(Nd);if(n===null)throw new Error(EA);return Gb(n,e,t)}const sn=()=>{const e=U.useContext(Nd);if(e===null)throw new Error(EA);return U.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},I6=e=>e.userSelectionActive?"none":"all";function wA({position:e,children:t,className:n,style:i,...a}){const l=we(I6),c=`${e}`.split("-");return ut.createElement("div",{className:Dn(["react-flow__panel",n,...c]),style:{...i,pointerEvents:l},...a},t)}function N6({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:ut.createElement(wA,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ut.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const D6=({x:e,y:t,label:n,labelStyle:i={},labelShowBg:a=!0,labelBgStyle:l={},labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:m,className:p,...y})=>{const v=U.useRef(null),[E,S]=U.useState({x:0,y:0,width:0,height:0}),I=Dn(["react-flow__edge-textwrapper",p]);return U.useEffect(()=>{if(v.current){const D=v.current.getBBox();S({x:D.x,y:D.y,width:D.width,height:D.height})}},[n]),typeof n>"u"||!n?null:ut.createElement("g",{transform:`translate(${e-E.width/2} ${t-E.height/2})`,className:I,visibility:E.width?"visible":"hidden",...y},a&&ut.createElement("rect",{width:E.width+2*c[0],x:-c[0],y:-c[1],height:E.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:f,ry:f}),ut.createElement("text",{className:"react-flow__edge-text",y:E.height/2,dy:"0.3em",ref:v,style:i},n),m)};var M6=U.memo(D6);const r_=e=>({width:e.offsetWidth,height:e.offsetHeight}),pl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),i_=(e={x:0,y:0},t)=>({x:pl(e.x,t[0][0],t[1][0]),y:pl(e.y,t[0][1],t[1][1])}),PT=(e,t,n)=>e<t?pl(Math.abs(e-t),1,50)/50:e>n?-pl(Math.abs(e-n),1,50)/50:0,TA=(e,t)=>{const n=PT(e.x,35,t.width-35)*20,i=PT(e.y,35,t.height-35)*20;return[n,i]},SA=e=>e.getRootNode?.()||window?.document,O6=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),s_=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),V6=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),LT=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),jg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},k6=e=>vr(e.width)&&vr(e.height)&&vr(e.x)&&vr(e.y),vr=e=>!isNaN(e)&&isFinite(e),Ae=Symbol.for("internals"),bA=["Enter"," ","Escape"],P6=(e,t)=>{},L6=e=>"nativeEvent"in e;function qg(e){const n=(L6(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const AA=e=>"clientX"in e,$s=(e,t)=>{const n=AA(e),i=n?e.clientX:e.touches?.[0].clientX,a=n?e.clientY:e.touches?.[0].clientY;return{x:i-(t?.left??0),y:a-(t?.top??0)}},Qf=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,xc=({id:e,path:t,labelX:n,labelY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:v,markerStart:E,interactionWidth:S=20})=>ut.createElement(ut.Fragment,null,ut.createElement("path",{id:e,style:y,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:E}),S&&ut.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:S,className:"react-flow__edge-interaction"}),a&&vr(n)&&vr(i)?ut.createElement(M6,{x:n,y:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p}):null);xc.displayName="BaseEdge";function Du(e,t,n){return n===void 0?n:i=>{const a=t().edges.find(l=>l.id===e);a&&n(i,{...a})}}function RA({sourceX:e,sourceY:t,targetX:n,targetY:i}){const a=Math.abs(n-e)/2,l=n<e?n+a:n-a,c=Math.abs(i-t)/2,f=i<t?i+c:i-c;return[l,f,a,c]}function xA({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:f}){const m=e*.125+a*.375+c*.375+n*.125,p=t*.125+l*.375+f*.375+i*.125,y=Math.abs(m-e),v=Math.abs(p-t);return[m,p,y,v]}var Ga;(function(e){e.Strict="strict",e.Loose="loose"})(Ga||(Ga={}));var Pa;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Pa||(Pa={}));var lc;(function(e){e.Partial="partial",e.Full="full"})(lc||(lc={}));var Ls;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ls||(Ls={}));var Zf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Zf||(Zf={}));var bt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(bt||(bt={}));function UT({pos:e,x1:t,y1:n,x2:i,y2:a}){return e===bt.Left||e===bt.Right?[.5*(t+i),n]:[t,.5*(n+a)]}function CA({sourceX:e,sourceY:t,sourcePosition:n=bt.Bottom,targetX:i,targetY:a,targetPosition:l=bt.Top}){const[c,f]=UT({pos:n,x1:e,y1:t,x2:i,y2:a}),[m,p]=UT({pos:l,x1:i,y1:a,x2:e,y2:t}),[y,v,E,S]=xA({sourceX:e,sourceY:t,targetX:i,targetY:a,sourceControlX:c,sourceControlY:f,targetControlX:m,targetControlY:p});return[`M${e},${t} C${c},${f} ${m},${p} ${i},${a}`,y,v,E,S]}const a_=U.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:a=bt.Bottom,targetPosition:l=bt.Top,label:c,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:E,markerEnd:S,markerStart:I,interactionWidth:D})=>{const[M,k,H]=CA({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:i,targetPosition:l});return ut.createElement(xc,{path:M,labelX:k,labelY:H,label:c,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:E,markerEnd:S,markerStart:I,interactionWidth:D})});a_.displayName="SimpleBezierEdge";const zT={[bt.Left]:{x:-1,y:0},[bt.Right]:{x:1,y:0},[bt.Top]:{x:0,y:-1},[bt.Bottom]:{x:0,y:1}},U6=({source:e,sourcePosition:t=bt.Bottom,target:n})=>t===bt.Left||t===bt.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},BT=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function z6({source:e,sourcePosition:t=bt.Bottom,target:n,targetPosition:i=bt.Top,center:a,offset:l}){const c=zT[t],f=zT[i],m={x:e.x+c.x*l,y:e.y+c.y*l},p={x:n.x+f.x*l,y:n.y+f.y*l},y=U6({source:m,sourcePosition:t,target:p}),v=y.x!==0?"x":"y",E=y[v];let S=[],I,D;const M={x:0,y:0},k={x:0,y:0},[H,$,G,J]=RA({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[v]*f[v]===-1){I=a.x??H,D=a.y??$;const P=[{x:I,y:m.y},{x:I,y:p.y}],R=[{x:m.x,y:D},{x:p.x,y:D}];c[v]===E?S=v==="x"?P:R:S=v==="x"?R:P}else{const P=[{x:m.x,y:p.y}],R=[{x:p.x,y:m.y}];if(v==="x"?S=c.x===E?R:P:S=c.y===E?P:R,t===i){const x=Math.abs(e[v]-n[v]);if(x<=l){const L=Math.min(l-1,l-x);c[v]===E?M[v]=(m[v]>e[v]?-1:1)*L:k[v]=(p[v]>n[v]?-1:1)*L}}if(t!==i){const x=v==="x"?"y":"x",L=c[v]===f[x],et=m[x]>p[x],V=m[x]<p[x];(c[v]===1&&(!L&&et||L&&V)||c[v]!==1&&(!L&&V||L&&et))&&(S=v==="x"?P:R)}const b={x:m.x+M.x,y:m.y+M.y},O={x:p.x+k.x,y:p.y+k.y},z=Math.max(Math.abs(b.x-S[0].x),Math.abs(O.x-S[0].x)),B=Math.max(Math.abs(b.y-S[0].y),Math.abs(O.y-S[0].y));z>=B?(I=(b.x+O.x)/2,D=S[0].y):(I=S[0].x,D=(b.y+O.y)/2)}return[[e,{x:m.x+M.x,y:m.y+M.y},...S,{x:p.x+k.x,y:p.y+k.y},n],I,D,G,J]}function B6(e,t,n,i){const a=Math.min(BT(e,t)/2,BT(t,n)/2,i),{x:l,y:c}=t;if(e.x===l&&l===n.x||e.y===c&&c===n.y)return`L${l} ${c}`;if(e.y===c){const p=e.x<n.x?-1:1,y=e.y<n.y?1:-1;return`L ${l+a*p},${c}Q ${l},${c} ${l},${c+a*y}`}const f=e.x<n.x?1:-1,m=e.y<n.y?-1:1;return`L ${l},${c+a*m}Q ${l},${c} ${l+a*f},${c}`}function Wf({sourceX:e,sourceY:t,sourcePosition:n=bt.Bottom,targetX:i,targetY:a,targetPosition:l=bt.Top,borderRadius:c=5,centerX:f,centerY:m,offset:p=20}){const[y,v,E,S,I]=z6({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:a},targetPosition:l,center:{x:f,y:m},offset:p});return[y.reduce((M,k,H)=>{let $="";return H>0&&H<y.length-1?$=B6(y[H-1],k,y[H+1],c):$=`${H===0?"M":"L"}${k.x} ${k.y}`,M+=$,M},""),v,E,S,I]}const Dd=U.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,sourcePosition:v=bt.Bottom,targetPosition:E=bt.Top,markerEnd:S,markerStart:I,pathOptions:D,interactionWidth:M})=>{const[k,H,$]=Wf({sourceX:e,sourceY:t,sourcePosition:v,targetX:n,targetY:i,targetPosition:E,borderRadius:D?.borderRadius,offset:D?.offset});return ut.createElement(xc,{path:k,labelX:H,labelY:$,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:S,markerStart:I,interactionWidth:M})});Dd.displayName="SmoothStepEdge";const o_=U.memo(e=>ut.createElement(Dd,{...e,pathOptions:U.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));o_.displayName="StepEdge";function H6({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[a,l,c,f]=RA({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,a,l,c,f]}const l_=U.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:v,markerStart:E,interactionWidth:S})=>{const[I,D,M]=H6({sourceX:e,sourceY:t,targetX:n,targetY:i});return ut.createElement(xc,{path:I,labelX:D,labelY:M,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:v,markerStart:E,interactionWidth:S})});l_.displayName="StraightEdge";function ef(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function HT({pos:e,x1:t,y1:n,x2:i,y2:a,c:l}){switch(e){case bt.Left:return[t-ef(t-i,l),n];case bt.Right:return[t+ef(i-t,l),n];case bt.Top:return[t,n-ef(n-a,l)];case bt.Bottom:return[t,n+ef(a-n,l)]}}function IA({sourceX:e,sourceY:t,sourcePosition:n=bt.Bottom,targetX:i,targetY:a,targetPosition:l=bt.Top,curvature:c=.25}){const[f,m]=HT({pos:n,x1:e,y1:t,x2:i,y2:a,c}),[p,y]=HT({pos:l,x1:i,y1:a,x2:e,y2:t,c}),[v,E,S,I]=xA({sourceX:e,sourceY:t,targetX:i,targetY:a,sourceControlX:f,sourceControlY:m,targetControlX:p,targetControlY:y});return[`M${e},${t} C${f},${m} ${p},${y} ${i},${a}`,v,E,S,I]}const Jf=U.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:a=bt.Bottom,targetPosition:l=bt.Top,label:c,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:E,markerEnd:S,markerStart:I,pathOptions:D,interactionWidth:M})=>{const[k,H,$]=IA({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:i,targetPosition:l,curvature:D?.curvature});return ut.createElement(xc,{path:k,labelX:H,labelY:$,label:c,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:E,markerEnd:S,markerStart:I,interactionWidth:M})});Jf.displayName="BezierEdge";const u_=U.createContext(null),j6=u_.Provider;u_.Consumer;const q6=()=>U.useContext(u_),F6=e=>"id"in e&&"source"in e&&"target"in e,$6=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`reactflow__edge-${e}${t||""}-${n}${i||""}`,Fg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,G6=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Y6=(e,t)=>{if(!e.source||!e.target)return t;let n;return F6(e)?n={...e}:n={...e,id:$6(e)},G6(n,t)?t:t.concat(n)},$g=({x:e,y:t},[n,i,a],l,[c,f])=>{const m={x:(e-n)/a,y:(t-i)/a};return l?{x:c*Math.round(m.x/c),y:f*Math.round(m.y/f)}:m},NA=({x:e,y:t},[n,i,a])=>({x:e*a+n,y:t*a+i}),rl=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],i=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-i};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-i}:a}},c_=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,a)=>{const{x:l,y:c}=rl(a,t).positionAbsolute;return O6(i,s_({x:l,y:c,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return V6(n)},DA=(e,t,[n,i,a]=[0,0,1],l=!1,c=!1,f=[0,0])=>{const m={x:(t.x-n)/a,y:(t.y-i)/a,width:t.width/a,height:t.height/a},p=[];return e.forEach(y=>{const{width:v,height:E,selectable:S=!0,hidden:I=!1}=y;if(c&&!S||I)return!1;const{positionAbsolute:D}=rl(y,f),M={x:D.x,y:D.y,width:v||0,height:E||0},k=jg(m,M),H=typeof v>"u"||typeof E>"u"||v===null||E===null,$=l&&k>0,G=(v||0)*(E||0);(H||$||k>=G||y.dragging)&&p.push(y)}),p},MA=(e,t)=>{const n=e.map(i=>i.id);return t.filter(i=>n.includes(i.source)||n.includes(i.target))},OA=(e,t,n,i,a,l=.1)=>{const c=t/(e.width*(1+l)),f=n/(e.height*(1+l)),m=Math.min(c,f),p=pl(m,i,a),y=e.x+e.width/2,v=e.y+e.height/2,E=t/2-y*p,S=n/2-v*p;return{x:E,y:S,zoom:p}},Ma=(e,t=0)=>e.transition().duration(t);function jT(e,t,n,i){return(t[n]||[]).reduce((a,l)=>(`${e.id}-${l.id}-${n}`!==i&&a.push({id:l.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+l.x+l.width/2,y:(e.positionAbsolute?.y??0)+l.y+l.height/2}),a),[])}function K6(e,t,n,i,a,l){const{x:c,y:f}=$s(e),p=t.elementsFromPoint(c,f).find(I=>I.classList.contains("react-flow__handle"));if(p){const I=p.getAttribute("data-nodeid");if(I){const D=h_(void 0,p),M=p.getAttribute("data-handleid"),k=l({nodeId:I,id:M,type:D});if(k){const H=a.find($=>$.nodeId===I&&$.type===D&&$.id===M);return{handle:{id:M,type:D,nodeId:I,x:H?.x||n.x,y:H?.y||n.y},validHandleResult:k}}}}let y=[],v=1/0;if(a.forEach(I=>{const D=Math.sqrt((I.x-n.x)**2+(I.y-n.y)**2);if(D<=i){const M=l(I);D<=v&&(D<v?y=[{handle:I,validHandleResult:M}]:D===v&&y.push({handle:I,validHandleResult:M}),v=D)}}),!y.length)return{handle:null,validHandleResult:VA()};if(y.length===1)return y[0];const E=y.some(({validHandleResult:I})=>I.isValid),S=y.some(({handle:I})=>I.type==="target");return y.find(({handle:I,validHandleResult:D})=>S?I.type==="target":E?D.isValid:!0)||y[0]}const X6={source:null,target:null,sourceHandle:null,targetHandle:null},VA=()=>({handleDomNode:null,isValid:!1,connection:X6,endHandle:null});function kA(e,t,n,i,a,l,c){const f=a==="target",m=c.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),p={...VA(),handleDomNode:m};if(m){const y=h_(void 0,m),v=m.getAttribute("data-nodeid"),E=m.getAttribute("data-handleid"),S=m.classList.contains("connectable"),I=m.classList.contains("connectableend"),D={source:f?v:n,sourceHandle:f?E:i,target:f?n:v,targetHandle:f?i:E};p.connection=D,S&&I&&(t===Ga.Strict?f&&y==="source"||!f&&y==="target":v!==n||E!==i)&&(p.endHandle={nodeId:v,handleId:E,type:y},p.isValid=l(D))}return p}function Q6({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((a,l)=>{if(l[Ae]){const{handleBounds:c}=l[Ae];let f=[],m=[];c&&(f=jT(l,c,"source",`${t}-${n}-${i}`),m=jT(l,c,"target",`${t}-${n}-${i}`)),a.push(...f,...m)}return a},[])}function h_(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function ng(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Z6(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function PA({event:e,handleId:t,nodeId:n,onConnect:i,isTarget:a,getState:l,setState:c,isValidConnection:f,edgeUpdaterType:m,onReconnectEnd:p}){const y=SA(e.target),{connectionMode:v,domNode:E,autoPanOnConnect:S,connectionRadius:I,onConnectStart:D,panBy:M,getNodes:k,cancelConnection:H}=l();let $=0,G;const{x:J,y:at}=$s(e),P=y?.elementFromPoint(J,at),R=h_(m,P),b=E?.getBoundingClientRect();if(!b||!R)return;let O,z=$s(e,b),B=!1,x=null,L=!1,et=null;const V=Q6({nodes:k(),nodeId:n,handleId:t,handleType:R}),F=()=>{if(!S)return;const[N,q]=TA(z,b);M({x:N,y:q}),$=requestAnimationFrame(F)};c({connectionPosition:z,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),D?.(e,{nodeId:n,handleId:t,handleType:R});function rt(N){const{transform:q}=l();z=$s(N,b);const{handle:tt,validHandleResult:it}=K6(N,y,$g(z,q,!1,[1,1]),I,V,ft=>kA(ft,v,n,t,a?"target":"source",f,y));if(G=tt,B||(F(),B=!0),et=it.handleDomNode,x=it.connection,L=it.isValid,c({connectionPosition:G&&L?NA({x:G.x,y:G.y},q):z,connectionStatus:Z6(!!G,L),connectionEndHandle:it.endHandle}),!G&&!L&&!et)return ng(O);x.source!==x.target&&et&&(ng(O),O=et,et.classList.add("connecting","react-flow__handle-connecting"),et.classList.toggle("valid",L),et.classList.toggle("react-flow__handle-valid",L))}function X(N){(G||et)&&x&&L&&i?.(x),l().onConnectEnd?.(N),m&&p?.(N),ng(O),H(),cancelAnimationFrame($),B=!1,L=!1,x=null,et=null,y.removeEventListener("mousemove",rt),y.removeEventListener("mouseup",X),y.removeEventListener("touchmove",rt),y.removeEventListener("touchend",X)}y.addEventListener("mousemove",rt),y.addEventListener("mouseup",X),y.addEventListener("touchmove",rt),y.addEventListener("touchend",X)}const qT=()=>!0,W6=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),J6=(e,t,n)=>i=>{const{connectionStartHandle:a,connectionEndHandle:l,connectionClickStartHandle:c}=i;return{connecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n||l?.nodeId===e&&l?.handleId===t&&l?.type===n,clickConnecting:c?.nodeId===e&&c?.handleId===t&&c?.type===n}},LA=U.forwardRef(({type:e="source",position:t=bt.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:c,onConnect:f,children:m,className:p,onMouseDown:y,onTouchStart:v,...E},S)=>{const I=c||null,D=e==="target",M=sn(),k=q6(),{connectOnClick:H,noPanClassName:$}=we(W6,Tn),{connecting:G,clickConnecting:J}=we(J6(k,I,e),Tn);k||M.getState().onError?.("010",ns.error010());const at=b=>{const{defaultEdgeOptions:O,onConnect:z,hasDefaultEdges:B}=M.getState(),x={...O,...b};if(B){const{edges:L,setEdges:et}=M.getState();et(Y6(x,L))}z?.(x),f?.(x)},P=b=>{if(!k)return;const O=AA(b);a&&(O&&b.button===0||!O)&&PA({event:b,handleId:I,nodeId:k,onConnect:at,isTarget:D,getState:M.getState,setState:M.setState,isValidConnection:n||M.getState().isValidConnection||qT}),O?y?.(b):v?.(b)},R=b=>{const{onClickConnectStart:O,onClickConnectEnd:z,connectionClickStartHandle:B,connectionMode:x,isValidConnection:L}=M.getState();if(!k||!B&&!a)return;if(!B){O?.(b,{nodeId:k,handleId:I,handleType:e}),M.setState({connectionClickStartHandle:{nodeId:k,type:e,handleId:I}});return}const et=SA(b.target),V=n||L||qT,{connection:F,isValid:rt}=kA({nodeId:k,id:I,type:e},x,B.nodeId,B.handleId||null,B.type,V,et);rt&&at(F),z?.(b),M.setState({connectionClickStartHandle:null})};return ut.createElement("div",{"data-handleid":I,"data-nodeid":k,"data-handlepos":t,"data-id":`${k}-${I}-${e}`,className:Dn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",$,p,{source:!D,target:D,connectable:i,connectablestart:a,connectableend:l,connecting:J,connectionindicator:i&&(a&&!G||l&&G)}]),onMouseDown:P,onTouchStart:P,onClick:H?R:void 0,ref:S,...E},m)});LA.displayName="Handle";var gl=U.memo(LA);const UA=({data:e,isConnectable:t,targetPosition:n=bt.Top,sourcePosition:i=bt.Bottom})=>ut.createElement(ut.Fragment,null,ut.createElement(gl,{type:"target",position:n,isConnectable:t}),e?.label,ut.createElement(gl,{type:"source",position:i,isConnectable:t}));UA.displayName="DefaultNode";var Gg=U.memo(UA);const zA=({data:e,isConnectable:t,sourcePosition:n=bt.Bottom})=>ut.createElement(ut.Fragment,null,e?.label,ut.createElement(gl,{type:"source",position:n,isConnectable:t}));zA.displayName="InputNode";var BA=U.memo(zA);const HA=({data:e,isConnectable:t,targetPosition:n=bt.Top})=>ut.createElement(ut.Fragment,null,ut.createElement(gl,{type:"target",position:n,isConnectable:t}),e?.label);HA.displayName="OutputNode";var jA=U.memo(HA);const f_=()=>null;f_.displayName="GroupNode";const t9=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),nf=e=>e.id;function e9(e,t){return Tn(e.selectedNodes.map(nf),t.selectedNodes.map(nf))&&Tn(e.selectedEdges.map(nf),t.selectedEdges.map(nf))}const qA=U.memo(({onSelectionChange:e})=>{const t=sn(),{selectedNodes:n,selectedEdges:i}=we(t9,e9);return U.useEffect(()=>{const a={nodes:n,edges:i};e?.(a),t.getState().onSelectionChange.forEach(l=>l(a))},[n,i,e]),null});qA.displayName="SelectionListener";const n9=e=>!!e.onSelectionChange;function r9({onSelectionChange:e}){const t=we(n9);return e||t?ut.createElement(qA,{onSelectionChange:e}):null}const i9=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ho(e,t){U.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function zt(e,t,n){U.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const s9=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:a,onConnectStart:l,onConnectEnd:c,onClickConnectStart:f,onClickConnectEnd:m,nodesDraggable:p,nodesConnectable:y,nodesFocusable:v,edgesFocusable:E,edgesUpdatable:S,elevateNodesOnSelect:I,minZoom:D,maxZoom:M,nodeExtent:k,onNodesChange:H,onEdgesChange:$,elementsSelectable:G,connectionMode:J,snapGrid:at,snapToGrid:P,translateExtent:R,connectOnClick:b,defaultEdgeOptions:O,fitView:z,fitViewOptions:B,onNodesDelete:x,onEdgesDelete:L,onNodeDrag:et,onNodeDragStart:V,onNodeDragStop:F,onSelectionDrag:rt,onSelectionDragStart:X,onSelectionDragStop:N,noPanClassName:q,nodeOrigin:tt,rfId:it,autoPanOnConnect:ft,autoPanOnNodeDrag:yt,onError:_t,connectionRadius:Nt,isValidConnection:At,nodeDragThreshold:Zt})=>{const{setNodes:Gt,setEdges:Re,setDefaultNodesAndEdges:De,setMinZoom:He,setMaxZoom:Me,setTranslateExtent:fe,setNodeExtent:Sn,reset:Lt}=we(i9,Tn),St=sn();return U.useEffect(()=>{const je=i?.map(Mn=>({...Mn,...O}));return De(n,je),()=>{Lt()}},[]),zt("defaultEdgeOptions",O,St.setState),zt("connectionMode",J,St.setState),zt("onConnect",a,St.setState),zt("onConnectStart",l,St.setState),zt("onConnectEnd",c,St.setState),zt("onClickConnectStart",f,St.setState),zt("onClickConnectEnd",m,St.setState),zt("nodesDraggable",p,St.setState),zt("nodesConnectable",y,St.setState),zt("nodesFocusable",v,St.setState),zt("edgesFocusable",E,St.setState),zt("edgesUpdatable",S,St.setState),zt("elementsSelectable",G,St.setState),zt("elevateNodesOnSelect",I,St.setState),zt("snapToGrid",P,St.setState),zt("snapGrid",at,St.setState),zt("onNodesChange",H,St.setState),zt("onEdgesChange",$,St.setState),zt("connectOnClick",b,St.setState),zt("fitViewOnInit",z,St.setState),zt("fitViewOnInitOptions",B,St.setState),zt("onNodesDelete",x,St.setState),zt("onEdgesDelete",L,St.setState),zt("onNodeDrag",et,St.setState),zt("onNodeDragStart",V,St.setState),zt("onNodeDragStop",F,St.setState),zt("onSelectionDrag",rt,St.setState),zt("onSelectionDragStart",X,St.setState),zt("onSelectionDragStop",N,St.setState),zt("noPanClassName",q,St.setState),zt("nodeOrigin",tt,St.setState),zt("rfId",it,St.setState),zt("autoPanOnConnect",ft,St.setState),zt("autoPanOnNodeDrag",yt,St.setState),zt("onError",_t,St.setState),zt("connectionRadius",Nt,St.setState),zt("isValidConnection",At,St.setState),zt("nodeDragThreshold",Zt,St.setState),Ho(e,Gt),Ho(t,Re),Ho(D,He),Ho(M,Me),Ho(R,fe),Ho(k,Sn),null},FT={display:"none"},a9={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},FA="react-flow__node-desc",$A="react-flow__edge-desc",o9="react-flow__aria-live",l9=e=>e.ariaLiveMessage;function u9({rfId:e}){const t=we(l9);return ut.createElement("div",{id:`${o9}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:a9},t)}function c9({rfId:e,disableKeyboardA11y:t}){return ut.createElement(ut.Fragment,null,ut.createElement("div",{id:`${FA}-${e}`,style:FT},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ut.createElement("div",{id:`${$A}-${e}`,style:FT},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ut.createElement(u9,{rfId:e}))}var uc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,i]=U.useState(!1),a=U.useRef(!1),l=U.useRef(new Set([])),[c,f]=U.useMemo(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(v=>typeof v=="string").map(v=>v.split("+")),y=p.reduce((v,E)=>v.concat(...E),[]);return[p,y]}return[[],[]]},[e]);return U.useEffect(()=>{const m=typeof document<"u"?document:null,p=t?.target||m;if(e!==null){const y=S=>{if(a.current=S.ctrlKey||S.metaKey||S.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&qg(S))return!1;const D=GT(S.code,f);l.current.add(S[D]),$T(c,l.current,!1)&&(S.preventDefault(),i(!0))},v=S=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&qg(S))return!1;const D=GT(S.code,f);$T(c,l.current,!0)?(i(!1),l.current.clear()):l.current.delete(S[D]),S.key==="Meta"&&l.current.clear(),a.current=!1},E=()=>{l.current.clear(),i(!1)};return p?.addEventListener("keydown",y),p?.addEventListener("keyup",v),window.addEventListener("blur",E),()=>{p?.removeEventListener("keydown",y),p?.removeEventListener("keyup",v),window.removeEventListener("blur",E)}}},[e,i]),n};function $T(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(a=>t.has(a)))}function GT(e,t){return t.includes(e)?"code":"key"}function GA(e,t,n,i){const a=e.parentNode||e.parentId;if(!a)return n;const l=t.get(a),c=rl(l,i);return GA(l,t,{x:(n.x??0)+c.x,y:(n.y??0)+c.y,z:(l[Ae]?.z??0)>(n.z??0)?l[Ae]?.z??0:n.z??0},i)}function YA(e,t,n){e.forEach(i=>{const a=i.parentNode||i.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n?.[i.id]){const{x:l,y:c,z:f}=GA(i,e,{...i.position,z:i[Ae]?.z??0},t);i.positionAbsolute={x:l,y:c},i[Ae].z=f,n?.[i.id]&&(i[Ae].isParent=!0)}})}function rg(e,t,n,i){const a=new Map,l={},c=i?1e3:0;return e.forEach(f=>{const m=(vr(f.zIndex)?f.zIndex:0)+(f.selected?c:0),p=t.get(f.id),y={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},v=f.parentNode||f.parentId;v&&(l[v]=!0);const E=p?.type&&p?.type!==f.type;Object.defineProperty(y,Ae,{enumerable:!1,value:{handleBounds:E?void 0:p?.[Ae]?.handleBounds,z:m}}),a.set(f.id,y)}),YA(a,n,l),a}function KA(e,t={}){const{getNodes:n,width:i,height:a,minZoom:l,maxZoom:c,d3Zoom:f,d3Selection:m,fitViewOnInitDone:p,fitViewOnInit:y,nodeOrigin:v}=e(),E=t.initial&&!p&&y;if(f&&m&&(E||!t.initial)){const I=n().filter(M=>{const k=t.includeHiddenNodes?M.width&&M.height:!M.hidden;return t.nodes?.length?k&&t.nodes.some(H=>H.id===M.id):k}),D=I.every(M=>M.width&&M.height);if(I.length>0&&D){const M=c_(I,v),{x:k,y:H,zoom:$}=OA(M,i,a,t.minZoom??l,t.maxZoom??c,t.padding??.1),G=Fs.translate(k,H).scale($);return typeof t.duration=="number"&&t.duration>0?f.transform(Ma(m,t.duration),G):f.transform(m,G),!0}}return!1}function h9(e,t){return e.forEach(n=>{const i=t.get(n.id);i&&t.set(i.id,{...i,[Ae]:i[Ae],selected:n.selected})}),new Map(t)}function f9(e,t){return t.map(n=>{const i=e.find(a=>a.id===n.id);return i&&(n.selected=i.selected),n})}function rf({changedNodes:e,changedEdges:t,get:n,set:i}){const{nodeInternals:a,edges:l,onNodesChange:c,onEdgesChange:f,hasDefaultNodes:m,hasDefaultEdges:p}=n();e?.length&&(m&&i({nodeInternals:h9(e,a)}),c?.(e)),t?.length&&(p&&i({edges:f9(t,l)}),f?.(t))}const jo=()=>{},d9={zoomIn:jo,zoomOut:jo,zoomTo:jo,getZoom:()=>1,setViewport:jo,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:jo,fitBounds:jo,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},m9=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),p9=()=>{const e=sn(),{d3Zoom:t,d3Selection:n}=we(m9,Tn);return U.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(Ma(n,a?.duration),1.2),zoomOut:a=>t.scaleBy(Ma(n,a?.duration),1/1.2),zoomTo:(a,l)=>t.scaleTo(Ma(n,l?.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,l)=>{const[c,f,m]=e.getState().transform,p=Fs.translate(a.x??c,a.y??f).scale(a.zoom??m);t.transform(Ma(n,l?.duration),p)},getViewport:()=>{const[a,l,c]=e.getState().transform;return{x:a,y:l,zoom:c}},fitView:a=>KA(e.getState,a),setCenter:(a,l,c)=>{const{width:f,height:m,maxZoom:p}=e.getState(),y=typeof c?.zoom<"u"?c.zoom:p,v=f/2-a*y,E=m/2-l*y,S=Fs.translate(v,E).scale(y);t.transform(Ma(n,c?.duration),S)},fitBounds:(a,l)=>{const{width:c,height:f,minZoom:m,maxZoom:p}=e.getState(),{x:y,y:v,zoom:E}=OA(a,c,f,m,p,l?.padding??.1),S=Fs.translate(y,v).scale(E);t.transform(Ma(n,l?.duration),S)},project:a=>{const{transform:l,snapToGrid:c,snapGrid:f}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),$g(a,l,c,f)},screenToFlowPosition:a=>{const{transform:l,snapToGrid:c,snapGrid:f,domNode:m}=e.getState();if(!m)return a;const{x:p,y}=m.getBoundingClientRect(),v={x:a.x-p,y:a.y-y};return $g(v,l,c,f)},flowToScreenPosition:a=>{const{transform:l,domNode:c}=e.getState();if(!c)return a;const{x:f,y:m}=c.getBoundingClientRect(),p=NA(a,l);return{x:p.x+f,y:p.y+m}},viewportInitialized:!0}:d9,[t,n])};function d_(){const e=p9(),t=sn(),n=U.useCallback(()=>t.getState().getNodes().map(D=>({...D})),[]),i=U.useCallback(D=>t.getState().nodeInternals.get(D),[]),a=U.useCallback(()=>{const{edges:D=[]}=t.getState();return D.map(M=>({...M}))},[]),l=U.useCallback(D=>{const{edges:M=[]}=t.getState();return M.find(k=>k.id===D)},[]),c=U.useCallback(D=>{const{getNodes:M,setNodes:k,hasDefaultNodes:H,onNodesChange:$}=t.getState(),G=M(),J=typeof D=="function"?D(G):D;if(H)k(J);else if($){const at=J.length===0?G.map(P=>({type:"remove",id:P.id})):J.map(P=>({item:P,type:"reset"}));$(at)}},[]),f=U.useCallback(D=>{const{edges:M=[],setEdges:k,hasDefaultEdges:H,onEdgesChange:$}=t.getState(),G=typeof D=="function"?D(M):D;if(H)k(G);else if($){const J=G.length===0?M.map(at=>({type:"remove",id:at.id})):G.map(at=>({item:at,type:"reset"}));$(J)}},[]),m=U.useCallback(D=>{const M=Array.isArray(D)?D:[D],{getNodes:k,setNodes:H,hasDefaultNodes:$,onNodesChange:G}=t.getState();if($){const at=[...k(),...M];H(at)}else if(G){const J=M.map(at=>({item:at,type:"add"}));G(J)}},[]),p=U.useCallback(D=>{const M=Array.isArray(D)?D:[D],{edges:k=[],setEdges:H,hasDefaultEdges:$,onEdgesChange:G}=t.getState();if($)H([...k,...M]);else if(G){const J=M.map(at=>({item:at,type:"add"}));G(J)}},[]),y=U.useCallback(()=>{const{getNodes:D,edges:M=[],transform:k}=t.getState(),[H,$,G]=k;return{nodes:D().map(J=>({...J})),edges:M.map(J=>({...J})),viewport:{x:H,y:$,zoom:G}}},[]),v=U.useCallback(({nodes:D,edges:M})=>{const{nodeInternals:k,getNodes:H,edges:$,hasDefaultNodes:G,hasDefaultEdges:J,onNodesDelete:at,onEdgesDelete:P,onNodesChange:R,onEdgesChange:b}=t.getState(),O=(D||[]).map(et=>et.id),z=(M||[]).map(et=>et.id),B=H().reduce((et,V)=>{const F=V.parentNode||V.parentId,rt=!O.includes(V.id)&&F&&et.find(N=>N.id===F);return(typeof V.deletable=="boolean"?V.deletable:!0)&&(O.includes(V.id)||rt)&&et.push(V),et},[]),x=$.filter(et=>typeof et.deletable=="boolean"?et.deletable:!0),L=x.filter(et=>z.includes(et.id));if(B||L){const et=MA(B,x),V=[...L,...et],F=V.reduce((rt,X)=>(rt.includes(X.id)||rt.push(X.id),rt),[]);if((J||G)&&(J&&t.setState({edges:$.filter(rt=>!F.includes(rt.id))}),G&&(B.forEach(rt=>{k.delete(rt.id)}),t.setState({nodeInternals:new Map(k)}))),F.length>0&&(P?.(V),b&&b(F.map(rt=>({id:rt,type:"remove"})))),B.length>0&&(at?.(B),R)){const rt=B.map(X=>({id:X.id,type:"remove"}));R(rt)}}},[]),E=U.useCallback(D=>{const M=k6(D),k=M?null:t.getState().nodeInternals.get(D.id);return!M&&!k?[null,null,M]:[M?D:LT(k),k,M]},[]),S=U.useCallback((D,M=!0,k)=>{const[H,$,G]=E(D);return H?(k||t.getState().getNodes()).filter(J=>{if(!G&&(J.id===$.id||!J.positionAbsolute))return!1;const at=LT(J),P=jg(at,H);return M&&P>0||P>=H.width*H.height}):[]},[]),I=U.useCallback((D,M,k=!0)=>{const[H]=E(D);if(!H)return!1;const $=jg(H,M);return k&&$>0||$>=H.width*H.height},[]);return U.useMemo(()=>({...e,getNodes:n,getNode:i,getEdges:a,getEdge:l,setNodes:c,setEdges:f,addNodes:m,addEdges:p,toObject:y,deleteElements:v,getIntersectingNodes:S,isNodeIntersecting:I}),[e,n,i,a,l,c,f,m,p,y,v,S,I])}const g9={actInsideInputWithModifier:!1};var y9=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=sn(),{deleteElements:i}=d_(),a=uc(e,g9),l=uc(t);U.useEffect(()=>{if(a){const{edges:c,getNodes:f}=n.getState(),m=f().filter(y=>y.selected),p=c.filter(y=>y.selected);i({nodes:m,edges:p}),n.setState({nodesSelectionActive:!1})}},[a]),U.useEffect(()=>{n.setState({multiSelectionActive:l})},[l])};function _9(e){const t=sn();U.useEffect(()=>{let n;const i=()=>{if(!e.current)return;const a=r_(e.current);(a.height===0||a.width===0)&&t.getState().onError?.("004",ns.error004()),t.setState({width:a.width||500,height:a.height||500})};return i(),window.addEventListener("resize",i),e.current&&(n=new ResizeObserver(()=>i()),n.observe(e.current)),()=>{window.removeEventListener("resize",i),n&&e.current&&n.unobserve(e.current)}},[])}const m_={position:"absolute",width:"100%",height:"100%",top:0,left:0},v9=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,sf=e=>({x:e.x,y:e.y,zoom:e.k}),qo=(e,t)=>e.target.closest(`.${t}`),YT=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),KT=e=>{const t=e.ctrlKey&&Qf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},E9=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),w9=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:l=!0,panOnScroll:c=!1,panOnScrollSpeed:f=.5,panOnScrollMode:m=Pa.Free,zoomOnDoubleClick:p=!0,elementsSelectable:y,panOnDrag:v=!0,defaultViewport:E,translateExtent:S,minZoom:I,maxZoom:D,zoomActivationKeyCode:M,preventScrolling:k=!0,children:H,noWheelClassName:$,noPanClassName:G})=>{const J=U.useRef(),at=sn(),P=U.useRef(!1),R=U.useRef(!1),b=U.useRef(null),O=U.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:B,d3ZoomHandler:x,userSelectionActive:L}=we(E9,Tn),et=uc(M),V=U.useRef(0),F=U.useRef(!1),rt=U.useRef();return _9(b),U.useEffect(()=>{if(b.current){const X=b.current.getBoundingClientRect(),N=x6().scaleExtent([I,D]).translateExtent(S),q=Nr(b.current).call(N),tt=Fs.translate(E.x,E.y).scale(pl(E.zoom,I,D)),it=[[0,0],[X.width,X.height]],ft=N.constrain()(tt,it,S);N.transform(q,ft),N.wheelDelta(KT),at.setState({d3Zoom:N,d3Selection:q,d3ZoomHandler:q.on("wheel.zoom"),transform:[ft.x,ft.y,ft.k],domNode:b.current.closest(".react-flow")})}},[]),U.useEffect(()=>{B&&z&&(c&&!et&&!L?B.on("wheel.zoom",X=>{if(qo(X,$))return!1;X.preventDefault(),X.stopImmediatePropagation();const N=B.property("__zoom").k||1;if(X.ctrlKey&&l){const At=li(X),Zt=KT(X),Gt=N*Math.pow(2,Zt);z.scaleTo(B,Gt,At,X);return}const q=X.deltaMode===1?20:1;let tt=m===Pa.Vertical?0:X.deltaX*q,it=m===Pa.Horizontal?0:X.deltaY*q;!Qf()&&X.shiftKey&&m!==Pa.Vertical&&(tt=X.deltaY*q,it=0),z.translateBy(B,-(tt/N)*f,-(it/N)*f,{internal:!0});const ft=sf(B.property("__zoom")),{onViewportChangeStart:yt,onViewportChange:_t,onViewportChangeEnd:Nt}=at.getState();clearTimeout(rt.current),F.current||(F.current=!0,t?.(X,ft),yt?.(ft)),F.current&&(e?.(X,ft),_t?.(ft),rt.current=setTimeout(()=>{n?.(X,ft),Nt?.(ft),F.current=!1},150))},{passive:!1}):typeof x<"u"&&B.on("wheel.zoom",function(X,N){if(!k&&X.type==="wheel"&&!X.ctrlKey||qo(X,$))return null;X.preventDefault(),x.call(this,X,N)},{passive:!1}))},[L,c,m,B,z,x,et,l,k,$,t,e,n]),U.useEffect(()=>{z&&z.on("start",X=>{if(!X.sourceEvent||X.sourceEvent.internal)return null;V.current=X.sourceEvent?.button;const{onViewportChangeStart:N}=at.getState(),q=sf(X.transform);P.current=!0,O.current=q,X.sourceEvent?.type==="mousedown"&&at.setState({paneDragging:!0}),N?.(q),t?.(X.sourceEvent,q)})},[z,t]),U.useEffect(()=>{z&&(L&&!P.current?z.on("zoom",null):L||z.on("zoom",X=>{const{onViewportChange:N}=at.getState();if(at.setState({transform:[X.transform.x,X.transform.y,X.transform.k]}),R.current=!!(i&&YT(v,V.current??0)),(e||N)&&!X.sourceEvent?.internal){const q=sf(X.transform);N?.(q),e?.(X.sourceEvent,q)}}))},[L,z,e,v,i]),U.useEffect(()=>{z&&z.on("end",X=>{if(!X.sourceEvent||X.sourceEvent.internal)return null;const{onViewportChangeEnd:N}=at.getState();if(P.current=!1,at.setState({paneDragging:!1}),i&&YT(v,V.current??0)&&!R.current&&i(X.sourceEvent),R.current=!1,(n||N)&&v9(O.current,X.transform)){const q=sf(X.transform);O.current=q,clearTimeout(J.current),J.current=setTimeout(()=>{N?.(q),n?.(X.sourceEvent,q)},c?150:0)}})},[z,c,v,n,i]),U.useEffect(()=>{z&&z.filter(X=>{const N=et||a,q=l&&X.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&X.button===1&&X.type==="mousedown"&&(qo(X,"react-flow__node")||qo(X,"react-flow__edge")))return!0;if(!v&&!N&&!c&&!p&&!l||L||!p&&X.type==="dblclick"||qo(X,$)&&X.type==="wheel"||qo(X,G)&&(X.type!=="wheel"||c&&X.type==="wheel"&&!et)||!l&&X.ctrlKey&&X.type==="wheel"||!N&&!c&&!q&&X.type==="wheel"||!v&&(X.type==="mousedown"||X.type==="touchstart")||Array.isArray(v)&&!v.includes(X.button)&&X.type==="mousedown")return!1;const tt=Array.isArray(v)&&v.includes(X.button)||!X.button||X.button<=1;return(!X.ctrlKey||X.type==="wheel")&&tt})},[L,z,a,l,c,p,v,y,et]),ut.createElement("div",{className:"react-flow__renderer",ref:b,style:m_},H)},T9=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function S9(){const{userSelectionActive:e,userSelectionRect:t}=we(T9,Tn);return e&&t?ut.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function XT(e,t){const n=t.parentNode||t.parentId,i=e.find(a=>a.id===n);if(i){const a=t.position.x+t.width-i.width,l=t.position.y+t.height-i.height;if(a>0||l>0||t.position.x<0||t.position.y<0){if(i.style={...i.style},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,a>0&&(i.style.width+=a),l>0&&(i.style.height+=l),t.position.x<0){const c=Math.abs(t.position.x);i.position.x=i.position.x-c,i.style.width+=c,t.position.x=0}if(t.position.y<0){const c=Math.abs(t.position.y);i.position.y=i.position.y-c,i.style.height+=c,t.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function XA(e,t){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const n=e.filter(i=>i.type==="add").map(i=>i.item);return t.reduce((i,a)=>{const l=e.filter(f=>f.id===a.id);if(l.length===0)return i.push(a),i;const c={...a};for(const f of l)if(f)switch(f.type){case"select":{c.selected=f.selected;break}case"position":{typeof f.position<"u"&&(c.position=f.position),typeof f.positionAbsolute<"u"&&(c.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(c.dragging=f.dragging),c.expandParent&&XT(i,c);break}case"dimensions":{typeof f.dimensions<"u"&&(c.width=f.dimensions.width,c.height=f.dimensions.height),typeof f.updateStyle<"u"&&(c.style={...c.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(c.resizing=f.resizing),c.expandParent&&XT(i,c);break}case"remove":return i}return i.push(c),i},n)}function QA(e,t){return XA(e,t)}function b9(e,t){return XA(e,t)}const Os=(e,t)=>({id:e,type:"select",selected:t});function Xo(e,t){return e.reduce((n,i)=>{const a=t.includes(i.id);return!i.selected&&a?(i.selected=!0,n.push(Os(i.id,!0))):i.selected&&!a&&(i.selected=!1,n.push(Os(i.id,!1))),n},[])}const ig=(e,t)=>n=>{n.target===t.current&&e?.(n)},A9=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),ZA=U.memo(({isSelecting:e,selectionMode:t=lc.Full,panOnDrag:n,onSelectionStart:i,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:f,onPaneMouseEnter:m,onPaneMouseMove:p,onPaneMouseLeave:y,children:v})=>{const E=U.useRef(null),S=sn(),I=U.useRef(0),D=U.useRef(0),M=U.useRef(),{userSelectionActive:k,elementsSelectable:H,dragging:$}=we(A9,Tn),G=()=>{S.setState({userSelectionActive:!1,userSelectionRect:null}),I.current=0,D.current=0},J=x=>{l?.(x),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},at=x=>{if(Array.isArray(n)&&n?.includes(2)){x.preventDefault();return}c?.(x)},P=f?x=>f(x):void 0,R=x=>{const{resetSelectedElements:L,domNode:et}=S.getState();if(M.current=et?.getBoundingClientRect(),!H||!e||x.button!==0||x.target!==E.current||!M.current)return;const{x:V,y:F}=$s(x,M.current);L(),S.setState({userSelectionRect:{width:0,height:0,startX:V,startY:F,x:V,y:F}}),i?.(x)},b=x=>{const{userSelectionRect:L,nodeInternals:et,edges:V,transform:F,onNodesChange:rt,onEdgesChange:X,nodeOrigin:N,getNodes:q}=S.getState();if(!e||!M.current||!L)return;S.setState({userSelectionActive:!0,nodesSelectionActive:!1});const tt=$s(x,M.current),it=L.startX??0,ft=L.startY??0,yt={...L,x:tt.x<it?tt.x:it,y:tt.y<ft?tt.y:ft,width:Math.abs(tt.x-it),height:Math.abs(tt.y-ft)},_t=q(),Nt=DA(et,yt,F,t===lc.Partial,!0,N),At=MA(Nt,V).map(Gt=>Gt.id),Zt=Nt.map(Gt=>Gt.id);if(I.current!==Zt.length){I.current=Zt.length;const Gt=Xo(_t,Zt);Gt.length&&rt?.(Gt)}if(D.current!==At.length){D.current=At.length;const Gt=Xo(V,At);Gt.length&&X?.(Gt)}S.setState({userSelectionRect:yt})},O=x=>{if(x.button!==0)return;const{userSelectionRect:L}=S.getState();!k&&L&&x.target===E.current&&J?.(x),S.setState({nodesSelectionActive:I.current>0}),G(),a?.(x)},z=x=>{k&&(S.setState({nodesSelectionActive:I.current>0}),a?.(x)),G()},B=H&&(e||k);return ut.createElement("div",{className:Dn(["react-flow__pane",{dragging:$,selection:e}]),onClick:B?void 0:ig(J,E),onContextMenu:ig(at,E),onWheel:ig(P,E),onMouseEnter:B?void 0:m,onMouseDown:B?R:void 0,onMouseMove:B?b:p,onMouseUp:B?O:void 0,onMouseLeave:B?z:y,ref:E,style:m_},v,ut.createElement(S9,null))});ZA.displayName="Pane";function WA(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const i=t.get(n);return i?i.selected?!0:WA(i,t):!1}function QT(e,t,n){let i=e;do{if(i?.matches(t))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function R9(e,t,n,i){return Array.from(e.values()).filter(a=>(a.selected||a.id===i)&&(!a.parentNode||a.parentId||!WA(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(a.positionAbsolute?.x??0),y:n.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function x9(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function JA(e,t,n,i,a=[0,0],l){const c=x9(e,e.extent||i);let f=c;const m=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(m&&e.width&&e.height){const v=n.get(m),{x:E,y:S}=rl(v,a).positionAbsolute;f=v&&vr(E)&&vr(S)&&vr(v.width)&&vr(v.height)?[[E+e.width*a[0],S+e.height*a[1]],[E+v.width-e.width+e.width*a[0],S+v.height-e.height+e.height*a[1]]]:f}else l?.("005",ns.error005()),f=c;else if(e.extent&&m&&e.extent!=="parent"){const v=n.get(m),{x:E,y:S}=rl(v,a).positionAbsolute;f=[[e.extent[0][0]+E,e.extent[0][1]+S],[e.extent[1][0]+E,e.extent[1][1]+S]]}let p={x:0,y:0};if(m){const v=n.get(m);p=rl(v,a).positionAbsolute}const y=f&&f!=="parent"?i_(t,f):t;return{position:{x:y.x-p.x,y:y.y-p.y},positionAbsolute:y}}function sg({nodeId:e,dragItems:t,nodeInternals:n}){const i=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?i.find(a=>a.id===e):i[0],i]}const ZT=(e,t,n,i)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const l=Array.from(a),c=t.getBoundingClientRect(),f={x:c.width*i[0],y:c.height*i[1]};return l.map(m=>{const p=m.getBoundingClientRect();return{id:m.getAttribute("data-handleid"),position:m.getAttribute("data-handlepos"),x:(p.left-c.left-f.x)/n,y:(p.top-c.top-f.y)/n,...r_(m)}})};function Mu(e,t,n){return n===void 0?n:i=>{const a=t().nodeInternals.get(e);a&&n(i,{...a})}}function Yg({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:a,unselectNodesAndEdges:l,multiSelectionActive:c,nodeInternals:f,onError:m}=t.getState(),p=f.get(e);if(!p){m?.("012",ns.error012(e));return}t.setState({nodesSelectionActive:!1}),p.selected?(n||p.selected&&c)&&(l({nodes:[p],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):a([e])}function C9(){const e=sn();return U.useCallback(({sourceEvent:n})=>{const{transform:i,snapGrid:a,snapToGrid:l}=e.getState(),c=n.touches?n.touches[0].clientX:n.clientX,f=n.touches?n.touches[0].clientY:n.clientY,m={x:(c-i[0])/i[2],y:(f-i[1])/i[2]};return{xSnapped:l?a[0]*Math.round(m.x/a[0]):m.x,ySnapped:l?a[1]*Math.round(m.y/a[1]):m.y,...m}},[])}function ag(e){return(t,n,i)=>e?.(t,i)}function tR({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:a,isSelectable:l,selectNodesOnDrag:c}){const f=sn(),[m,p]=U.useState(!1),y=U.useRef([]),v=U.useRef({x:null,y:null}),E=U.useRef(0),S=U.useRef(null),I=U.useRef({x:0,y:0}),D=U.useRef(null),M=U.useRef(!1),k=U.useRef(!1),H=U.useRef(!1),$=C9();return U.useEffect(()=>{if(e?.current){const G=Nr(e.current),J=({x:R,y:b})=>{const{nodeInternals:O,onNodeDrag:z,onSelectionDrag:B,updateNodePositions:x,nodeExtent:L,snapGrid:et,snapToGrid:V,nodeOrigin:F,onError:rt}=f.getState();v.current={x:R,y:b};let X=!1,N={x:0,y:0,x2:0,y2:0};if(y.current.length>1&&L){const tt=c_(y.current,F);N=s_(tt)}if(y.current=y.current.map(tt=>{const it={x:R-tt.distance.x,y:b-tt.distance.y};V&&(it.x=et[0]*Math.round(it.x/et[0]),it.y=et[1]*Math.round(it.y/et[1]));const ft=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];y.current.length>1&&L&&!tt.extent&&(ft[0][0]=tt.positionAbsolute.x-N.x+L[0][0],ft[1][0]=tt.positionAbsolute.x+(tt.width??0)-N.x2+L[1][0],ft[0][1]=tt.positionAbsolute.y-N.y+L[0][1],ft[1][1]=tt.positionAbsolute.y+(tt.height??0)-N.y2+L[1][1]);const yt=JA(tt,it,O,ft,F,rt);return X=X||tt.position.x!==yt.position.x||tt.position.y!==yt.position.y,tt.position=yt.position,tt.positionAbsolute=yt.positionAbsolute,tt}),!X)return;x(y.current,!0,!0),p(!0);const q=a?z:ag(B);if(q&&D.current){const[tt,it]=sg({nodeId:a,dragItems:y.current,nodeInternals:O});q(D.current,tt,it)}},at=()=>{if(!S.current)return;const[R,b]=TA(I.current,S.current);if(R!==0||b!==0){const{transform:O,panBy:z}=f.getState();v.current.x=(v.current.x??0)-R/O[2],v.current.y=(v.current.y??0)-b/O[2],z({x:R,y:b})&&J(v.current)}E.current=requestAnimationFrame(at)},P=R=>{const{nodeInternals:b,multiSelectionActive:O,nodesDraggable:z,unselectNodesAndEdges:B,onNodeDragStart:x,onSelectionDragStart:L}=f.getState();k.current=!0;const et=a?x:ag(L);(!c||!l)&&!O&&a&&(b.get(a)?.selected||B()),a&&l&&c&&Yg({id:a,store:f,nodeRef:e});const V=$(R);if(v.current=V,y.current=R9(b,z,V,a),et&&y.current){const[F,rt]=sg({nodeId:a,dragItems:y.current,nodeInternals:b});et(R.sourceEvent,F,rt)}};if(t)G.on(".drag",null);else{const R=Lk().on("start",b=>{const{domNode:O,nodeDragThreshold:z}=f.getState();z===0&&P(b),H.current=!1;const B=$(b);v.current=B,S.current=O?.getBoundingClientRect()||null,I.current=$s(b.sourceEvent,S.current)}).on("drag",b=>{const O=$(b),{autoPanOnNodeDrag:z,nodeDragThreshold:B}=f.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(H.current=!0),!H.current){if(!M.current&&k.current&&z&&(M.current=!0,at()),!k.current){const x=O.xSnapped-(v?.current?.x??0),L=O.ySnapped-(v?.current?.y??0);Math.sqrt(x*x+L*L)>B&&P(b)}(v.current.x!==O.xSnapped||v.current.y!==O.ySnapped)&&y.current&&k.current&&(D.current=b.sourceEvent,I.current=$s(b.sourceEvent,S.current),J(O))}}).on("end",b=>{if(!(!k.current||H.current)&&(p(!1),M.current=!1,k.current=!1,cancelAnimationFrame(E.current),y.current)){const{updateNodePositions:O,nodeInternals:z,onNodeDragStop:B,onSelectionDragStop:x}=f.getState(),L=a?B:ag(x);if(O(y.current,!1,!1),L){const[et,V]=sg({nodeId:a,dragItems:y.current,nodeInternals:z});L(b.sourceEvent,et,V)}}}).filter(b=>{const O=b.target;return!b.button&&(!n||!QT(O,`.${n}`,e))&&(!i||QT(O,i,e))});return G.call(R),()=>{G.on(".drag",null)}}}},[e,t,n,i,l,f,a,c,$]),m}function eR(){const e=sn();return U.useCallback(n=>{const{nodeInternals:i,nodeExtent:a,updateNodePositions:l,getNodes:c,snapToGrid:f,snapGrid:m,onError:p,nodesDraggable:y}=e.getState(),v=c().filter(H=>H.selected&&(H.draggable||y&&typeof H.draggable>"u")),E=f?m[0]:5,S=f?m[1]:5,I=n.isShiftPressed?4:1,D=n.x*E*I,M=n.y*S*I,k=v.map(H=>{if(H.positionAbsolute){const $={x:H.positionAbsolute.x+D,y:H.positionAbsolute.y+M};f&&($.x=m[0]*Math.round($.x/m[0]),$.y=m[1]*Math.round($.y/m[1]));const{positionAbsolute:G,position:J}=JA(H,$,i,a,void 0,p);H.position=J,H.positionAbsolute=G}return H});l(k,!0,!1)},[])}const il={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ou=e=>{const t=({id:n,type:i,data:a,xPos:l,yPos:c,xPosOrigin:f,yPosOrigin:m,selected:p,onClick:y,onMouseEnter:v,onMouseMove:E,onMouseLeave:S,onContextMenu:I,onDoubleClick:D,style:M,className:k,isDraggable:H,isSelectable:$,isConnectable:G,isFocusable:J,selectNodesOnDrag:at,sourcePosition:P,targetPosition:R,hidden:b,resizeObserver:O,dragHandle:z,zIndex:B,isParent:x,noDragClassName:L,noPanClassName:et,initialized:V,disableKeyboardA11y:F,ariaLabel:rt,rfId:X,hasHandleBounds:N})=>{const q=sn(),tt=U.useRef(null),it=U.useRef(null),ft=U.useRef(P),yt=U.useRef(R),_t=U.useRef(i),Nt=$||H||y||v||E||S,At=eR(),Zt=Mu(n,q.getState,v),Gt=Mu(n,q.getState,E),Re=Mu(n,q.getState,S),De=Mu(n,q.getState,I),He=Mu(n,q.getState,D),Me=Lt=>{const{nodeDragThreshold:St}=q.getState();if($&&(!at||!H||St>0)&&Yg({id:n,store:q,nodeRef:tt}),y){const je=q.getState().nodeInternals.get(n);je&&y(Lt,{...je})}},fe=Lt=>{if(!qg(Lt)&&!F)if(bA.includes(Lt.key)&&$){const St=Lt.key==="Escape";Yg({id:n,store:q,unselect:St,nodeRef:tt})}else H&&p&&Object.prototype.hasOwnProperty.call(il,Lt.key)&&(q.setState({ariaLiveMessage:`Moved selected node ${Lt.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~l}, y: ${~~c}`}),At({x:il[Lt.key].x,y:il[Lt.key].y,isShiftPressed:Lt.shiftKey}))};U.useEffect(()=>()=>{it.current&&(O?.unobserve(it.current),it.current=null)},[]),U.useEffect(()=>{if(tt.current&&!b){const Lt=tt.current;(!V||!N||it.current!==Lt)&&(it.current&&O?.unobserve(it.current),O?.observe(Lt),it.current=Lt)}},[b,V,N]),U.useEffect(()=>{const Lt=_t.current!==i,St=ft.current!==P,je=yt.current!==R;tt.current&&(Lt||St||je)&&(Lt&&(_t.current=i),St&&(ft.current=P),je&&(yt.current=R),q.getState().updateNodeDimensions([{id:n,nodeElement:tt.current,forceUpdate:!0}]))},[n,i,P,R]);const Sn=tR({nodeRef:tt,disabled:b||!H,noDragClassName:L,handleSelector:z,nodeId:n,isSelectable:$,selectNodesOnDrag:at});return b?null:ut.createElement("div",{className:Dn(["react-flow__node",`react-flow__node-${i}`,{[et]:H},k,{selected:p,selectable:$,parent:x,dragging:Sn}]),ref:tt,style:{zIndex:B,transform:`translate(${f}px,${m}px)`,pointerEvents:Nt?"all":"none",visibility:V?"visible":"hidden",...M},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Zt,onMouseMove:Gt,onMouseLeave:Re,onContextMenu:De,onClick:Me,onDoubleClick:He,onKeyDown:J?fe:void 0,tabIndex:J?0:void 0,role:J?"button":void 0,"aria-describedby":F?void 0:`${FA}-${X}`,"aria-label":rt},ut.createElement(j6,{value:n},ut.createElement(e,{id:n,data:a,type:i,xPos:l,yPos:c,selected:p,isConnectable:G,sourcePosition:P,targetPosition:R,dragging:Sn,dragHandle:z,zIndex:B})))};return t.displayName="NodeWrapper",U.memo(t)};const I9=e=>{const t=e.getNodes().filter(n=>n.selected);return{...c_(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function N9({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=sn(),{width:a,height:l,x:c,y:f,transformString:m,userSelectionActive:p}=we(I9,Tn),y=eR(),v=U.useRef(null);if(U.useEffect(()=>{n||v.current?.focus({preventScroll:!0})},[n]),tR({nodeRef:v}),p||!a||!l)return null;const E=e?I=>{const D=i.getState().getNodes().filter(M=>M.selected);e(I,D)}:void 0,S=I=>{Object.prototype.hasOwnProperty.call(il,I.key)&&y({x:il[I.key].x,y:il[I.key].y,isShiftPressed:I.shiftKey})};return ut.createElement("div",{className:Dn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:m}},ut.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:E,tabIndex:n?void 0:-1,onKeyDown:n?void 0:S,style:{width:a,height:l,top:f,left:c}}))}var D9=U.memo(N9);const M9=e=>e.nodesSelectionActive,nR=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,deleteKeyCode:f,onMove:m,onMoveStart:p,onMoveEnd:y,selectionKeyCode:v,selectionOnDrag:E,selectionMode:S,onSelectionStart:I,onSelectionEnd:D,multiSelectionKeyCode:M,panActivationKeyCode:k,zoomActivationKeyCode:H,elementsSelectable:$,zoomOnScroll:G,zoomOnPinch:J,panOnScroll:at,panOnScrollSpeed:P,panOnScrollMode:R,zoomOnDoubleClick:b,panOnDrag:O,defaultViewport:z,translateExtent:B,minZoom:x,maxZoom:L,preventScrolling:et,onSelectionContextMenu:V,noWheelClassName:F,noPanClassName:rt,disableKeyboardA11y:X})=>{const N=we(M9),q=uc(v),tt=uc(k),it=tt||O,ft=tt||at,yt=q||E&&it!==!0;return y9({deleteKeyCode:f,multiSelectionKeyCode:M}),ut.createElement(w9,{onMove:m,onMoveStart:p,onMoveEnd:y,onPaneContextMenu:l,elementsSelectable:$,zoomOnScroll:G,zoomOnPinch:J,panOnScroll:ft,panOnScrollSpeed:P,panOnScrollMode:R,zoomOnDoubleClick:b,panOnDrag:!q&&it,defaultViewport:z,translateExtent:B,minZoom:x,maxZoom:L,zoomActivationKeyCode:H,preventScrolling:et,noWheelClassName:F,noPanClassName:rt},ut.createElement(ZA,{onSelectionStart:I,onSelectionEnd:D,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,panOnDrag:it,isSelecting:!!yt,selectionMode:S},e,N&&ut.createElement(D9,{onSelectionContextMenu:V,noPanClassName:rt,disableKeyboardA11y:X})))};nR.displayName="FlowRenderer";var O9=U.memo(nR);function V9(e){return we(U.useCallback(n=>e?DA(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function k9(e){const t={input:Ou(e.input||BA),default:Ou(e.default||Gg),output:Ou(e.output||jA),group:Ou(e.group||f_)},n={},i=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,l)=>(a[l]=Ou(e[l]||Gg),a),n);return{...t,...i}}const P9=({x:e,y:t,width:n,height:i,origin:a})=>!n||!i?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-i*a[1]},L9=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),rR=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:a,updateNodeDimensions:l,onError:c}=we(L9,Tn),f=V9(e.onlyRenderVisibleElements),m=U.useRef(),p=U.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const y=new ResizeObserver(v=>{const E=v.map(S=>({id:S.target.getAttribute("data-id"),nodeElement:S.target,forceUpdate:!0}));l(E)});return m.current=y,y},[]);return U.useEffect(()=>()=>{m?.current?.disconnect()},[]),ut.createElement("div",{className:"react-flow__nodes",style:m_},f.map(y=>{let v=y.type||"default";e.nodeTypes[v]||(c?.("003",ns.error003(v)),v="default");const E=e.nodeTypes[v]||e.nodeTypes.default,S=!!(y.draggable||t&&typeof y.draggable>"u"),I=!!(y.selectable||a&&typeof y.selectable>"u"),D=!!(y.connectable||n&&typeof y.connectable>"u"),M=!!(y.focusable||i&&typeof y.focusable>"u"),k=e.nodeExtent?i_(y.positionAbsolute,e.nodeExtent):y.positionAbsolute,H=k?.x??0,$=k?.y??0,G=P9({x:H,y:$,width:y.width??0,height:y.height??0,origin:e.nodeOrigin});return ut.createElement(E,{key:y.id,id:y.id,className:y.className,style:y.style,type:v,data:y.data,sourcePosition:y.sourcePosition||bt.Bottom,targetPosition:y.targetPosition||bt.Top,hidden:y.hidden,xPos:H,yPos:$,xPosOrigin:G.x,yPosOrigin:G.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!y.selected,isDraggable:S,isSelectable:I,isConnectable:D,isFocusable:M,resizeObserver:p,dragHandle:y.dragHandle,zIndex:y[Ae]?.z??0,isParent:!!y[Ae]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!y.width&&!!y.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:y.ariaLabel,hasHandleBounds:!!y[Ae]?.handleBounds})}))};rR.displayName="NodeRenderer";var U9=U.memo(rR);const z9=(e,t,n)=>n===bt.Left?e-t:n===bt.Right?e+t:e,B9=(e,t,n)=>n===bt.Top?e-t:n===bt.Bottom?e+t:e,WT="react-flow__edgeupdater",JT=({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:a,onMouseEnter:l,onMouseOut:c,type:f})=>ut.createElement("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:c,className:Dn([WT,`${WT}-${f}`]),cx:z9(t,i,e),cy:B9(n,i,e),r:i,stroke:"transparent",fill:"transparent"}),H9=()=>!0;var Fo=e=>{const t=({id:n,className:i,type:a,data:l,onClick:c,onEdgeDoubleClick:f,selected:m,animated:p,label:y,labelStyle:v,labelShowBg:E,labelBgStyle:S,labelBgPadding:I,labelBgBorderRadius:D,style:M,source:k,target:H,sourceX:$,sourceY:G,targetX:J,targetY:at,sourcePosition:P,targetPosition:R,elementsSelectable:b,hidden:O,sourceHandleId:z,targetHandleId:B,onContextMenu:x,onMouseEnter:L,onMouseMove:et,onMouseLeave:V,reconnectRadius:F,onReconnect:rt,onReconnectStart:X,onReconnectEnd:N,markerEnd:q,markerStart:tt,rfId:it,ariaLabel:ft,isFocusable:yt,isReconnectable:_t,pathOptions:Nt,interactionWidth:At,disableKeyboardA11y:Zt})=>{const Gt=U.useRef(null),[Re,De]=U.useState(!1),[He,Me]=U.useState(!1),fe=sn(),Sn=U.useMemo(()=>`url('#${Fg(tt,it)}')`,[tt,it]),Lt=U.useMemo(()=>`url('#${Fg(q,it)}')`,[q,it]);if(O)return null;const St=Ve=>{const{edges:Qe,addSelectedEdges:An,unselectNodesAndEdges:Rn,multiSelectionActive:Ze}=fe.getState(),an=Qe.find(xn=>xn.id===n);an&&(b&&(fe.setState({nodesSelectionActive:!1}),an.selected&&Ze?(Rn({nodes:[],edges:[an]}),Gt.current?.blur()):An([n])),c&&c(Ve,an))},je=Du(n,fe.getState,f),Mn=Du(n,fe.getState,x),Bn=Du(n,fe.getState,L),Br=Du(n,fe.getState,et),Hn=Du(n,fe.getState,V),bn=(Ve,Qe)=>{if(Ve.button!==0)return;const{edges:An,isValidConnection:Rn}=fe.getState(),Ze=Qe?H:k,an=(Qe?B:z)||null,xn=Qe?"target":"source",vi=Rn||H9,Ei=Qe,Tr=An.find(qn=>qn.id===n);Me(!0),X?.(Ve,Tr,xn);const jn=qn=>{Me(!1),N?.(qn,Tr,xn)};PA({event:Ve,handleId:an,nodeId:Ze,onConnect:qn=>rt?.(Tr,qn),isTarget:Ei,getState:fe.getState,setState:fe.setState,isValidConnection:vi,edgeUpdaterType:xn,onReconnectEnd:jn})},wr=Ve=>bn(Ve,!0),te=Ve=>bn(Ve,!1),Bt=()=>De(!0),Oe=()=>De(!1),ye=!b&&!c,Hr=Ve=>{if(!Zt&&bA.includes(Ve.key)&&b){const{unselectNodesAndEdges:Qe,addSelectedEdges:An,edges:Rn}=fe.getState();Ve.key==="Escape"?(Gt.current?.blur(),Qe({edges:[Rn.find(an=>an.id===n)]})):An([n])}};return ut.createElement("g",{className:Dn(["react-flow__edge",`react-flow__edge-${a}`,i,{selected:m,animated:p,inactive:ye,updating:Re}]),onClick:St,onDoubleClick:je,onContextMenu:Mn,onMouseEnter:Bn,onMouseMove:Br,onMouseLeave:Hn,onKeyDown:yt?Hr:void 0,tabIndex:yt?0:void 0,role:yt?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ft===null?void 0:ft||`Edge from ${k} to ${H}`,"aria-describedby":yt?`${$A}-${it}`:void 0,ref:Gt},!He&&ut.createElement(e,{id:n,source:k,target:H,selected:m,animated:p,label:y,labelStyle:v,labelShowBg:E,labelBgStyle:S,labelBgPadding:I,labelBgBorderRadius:D,data:l,style:M,sourceX:$,sourceY:G,targetX:J,targetY:at,sourcePosition:P,targetPosition:R,sourceHandleId:z,targetHandleId:B,markerStart:Sn,markerEnd:Lt,pathOptions:Nt,interactionWidth:At}),_t&&ut.createElement(ut.Fragment,null,(_t==="source"||_t===!0)&&ut.createElement(JT,{position:P,centerX:$,centerY:G,radius:F,onMouseDown:wr,onMouseEnter:Bt,onMouseOut:Oe,type:"source"}),(_t==="target"||_t===!0)&&ut.createElement(JT,{position:R,centerX:J,centerY:at,radius:F,onMouseDown:te,onMouseEnter:Bt,onMouseOut:Oe,type:"target"})))};return t.displayName="EdgeWrapper",U.memo(t)};function j9(e){const t={default:Fo(e.default||Jf),straight:Fo(e.bezier||l_),step:Fo(e.step||o_),smoothstep:Fo(e.step||Dd),simplebezier:Fo(e.simplebezier||a_)},n={},i=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,l)=>(a[l]=Fo(e[l]||Jf),a),n);return{...t,...i}}function tS(e,t,n=null){const i=(n?.x||0)+t.x,a=(n?.y||0)+t.y,l=n?.width||t.width,c=n?.height||t.height;switch(e){case bt.Top:return{x:i+l/2,y:a};case bt.Right:return{x:i+l,y:a+c/2};case bt.Bottom:return{x:i+l/2,y:a+c};case bt.Left:return{x:i,y:a+c/2}}}function eS(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const q9=(e,t,n,i,a,l)=>{const c=tS(n,e,t),f=tS(l,i,a);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y}};function F9({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:a,targetHeight:l,width:c,height:f,transform:m}){const p={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+i,t.y+l)};p.x===p.x2&&(p.x2+=1),p.y===p.y2&&(p.y2+=1);const y=s_({x:(0-m[0])/m[2],y:(0-m[1])/m[2],width:c/m[2],height:f/m[2]}),v=Math.max(0,Math.min(y.x2,p.x2)-Math.max(y.x,p.x)),E=Math.max(0,Math.min(y.y2,p.y2)-Math.max(y.y,p.y));return Math.ceil(v*E)>0}function nS(e){const t=e?.[Ae]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const $9=[{level:0,isMaxLevel:!0,edges:[]}];function G9(e,t,n=!1){let i=-1;const a=e.reduce((c,f)=>{const m=vr(f.zIndex);let p=m?f.zIndex:0;if(n){const y=t.get(f.target),v=t.get(f.source),E=f.selected||y?.selected||v?.selected,S=Math.max(v?.[Ae]?.z||0,y?.[Ae]?.z||0,1e3);p=(m?f.zIndex:0)+(E?S:0)}return c[p]?c[p].push(f):c[p]=[f],i=p>i?p:i,c},{}),l=Object.entries(a).map(([c,f])=>{const m=+c;return{edges:f,level:m,isMaxLevel:m===i}});return l.length===0?$9:l}function Y9(e,t,n){const i=we(U.useCallback(a=>e?a.edges.filter(l=>{const c=t.get(l.source),f=t.get(l.target);return c?.width&&c?.height&&f?.width&&f?.height&&F9({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:f.width,targetHeight:f.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return G9(i,t,n)}const K9=({color:e="none",strokeWidth:t=1})=>ut.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),X9=({color:e="none",strokeWidth:t=1})=>ut.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),rS={[Zf.Arrow]:K9,[Zf.ArrowClosed]:X9};function Q9(e){const t=sn();return U.useMemo(()=>Object.prototype.hasOwnProperty.call(rS,e)?rS[e]:(t.getState().onError?.("009",ns.error009(e)),null),[e])}const Z9=({id:e,type:t,color:n,width:i=12.5,height:a=12.5,markerUnits:l="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const m=Q9(t);return m?ut.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:f,refX:"0",refY:"0"},ut.createElement(m,{color:n,strokeWidth:c})):null},W9=({defaultColor:e,rfId:t})=>n=>{const i=[];return n.edges.reduce((a,l)=>([l.markerStart,l.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const f=Fg(c,t);i.includes(f)||(a.push({id:f,color:c.color||e,...c}),i.push(f))}}),a),[]).sort((a,l)=>a.id.localeCompare(l.id))},iR=({defaultColor:e,rfId:t})=>{const n=we(U.useCallback(W9({defaultColor:e,rfId:t}),[e,t]),(i,a)=>!(i.length!==a.length||i.some((l,c)=>l.id!==a[c].id)));return ut.createElement("defs",null,n.map(i=>ut.createElement(Z9,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};iR.displayName="MarkerDefinitions";var J9=U.memo(iR);const tL=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),sR=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:i,edgeTypes:a,noPanClassName:l,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:m,onEdgeMouseLeave:p,onEdgeClick:y,onEdgeDoubleClick:v,onReconnect:E,onReconnectStart:S,onReconnectEnd:I,reconnectRadius:D,children:M,disableKeyboardA11y:k})=>{const{edgesFocusable:H,edgesUpdatable:$,elementsSelectable:G,width:J,height:at,connectionMode:P,nodeInternals:R,onError:b}=we(tL,Tn),O=Y9(t,R,n);return J?ut.createElement(ut.Fragment,null,O.map(({level:z,edges:B,isMaxLevel:x})=>ut.createElement("svg",{key:z,style:{zIndex:z},width:J,height:at,className:"react-flow__edges react-flow__container"},x&&ut.createElement(J9,{defaultColor:e,rfId:i}),ut.createElement("g",null,B.map(L=>{const[et,V,F]=nS(R.get(L.source)),[rt,X,N]=nS(R.get(L.target));if(!F||!N)return null;let q=L.type||"default";a[q]||(b?.("011",ns.error011(q)),q="default");const tt=a[q]||a.default,it=P===Ga.Strict?X.target:(X.target??[]).concat(X.source??[]),ft=eS(V.source,L.sourceHandle),yt=eS(it,L.targetHandle),_t=ft?.position||bt.Bottom,Nt=yt?.position||bt.Top,At=!!(L.focusable||H&&typeof L.focusable>"u"),Zt=L.reconnectable||L.updatable,Gt=typeof E<"u"&&(Zt||$&&typeof Zt>"u");if(!ft||!yt)return b?.("008",ns.error008(ft,L)),null;const{sourceX:Re,sourceY:De,targetX:He,targetY:Me}=q9(et,ft,_t,rt,yt,Nt);return ut.createElement(tt,{key:L.id,id:L.id,className:Dn([L.className,l]),type:q,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:Re,sourceY:De,targetX:He,targetY:Me,sourcePosition:_t,targetPosition:Nt,elementsSelectable:G,onContextMenu:c,onMouseEnter:f,onMouseMove:m,onMouseLeave:p,onClick:y,onEdgeDoubleClick:v,onReconnect:E,onReconnectStart:S,onReconnectEnd:I,reconnectRadius:D,rfId:i,ariaLabel:L.ariaLabel,isFocusable:At,isReconnectable:Gt,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:k})})))),M):null};sR.displayName="EdgeRenderer";var eL=U.memo(sR);const nL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rL({children:e}){const t=we(nL);return ut.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function iL(e){const t=d_(),n=U.useRef(!1);U.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const sL={[bt.Left]:bt.Right,[bt.Right]:bt.Left,[bt.Top]:bt.Bottom,[bt.Bottom]:bt.Top},aR=({nodeId:e,handleType:t,style:n,type:i=Ls.Bezier,CustomComponent:a,connectionStatus:l})=>{const{fromNode:c,handleId:f,toX:m,toY:p,connectionMode:y}=we(U.useCallback(at=>({fromNode:at.nodeInternals.get(e),handleId:at.connectionHandleId,toX:(at.connectionPosition.x-at.transform[0])/at.transform[2],toY:(at.connectionPosition.y-at.transform[1])/at.transform[2],connectionMode:at.connectionMode}),[e]),Tn),v=c?.[Ae]?.handleBounds;let E=v?.[t];if(y===Ga.Loose&&(E=E||v?.[t==="source"?"target":"source"]),!c||!E)return null;const S=f?E.find(at=>at.id===f):E[0],I=S?S.x+S.width/2:(c.width??0)/2,D=S?S.y+S.height/2:c.height??0,M=(c.positionAbsolute?.x??0)+I,k=(c.positionAbsolute?.y??0)+D,H=S?.position,$=H?sL[H]:null;if(!H||!$)return null;if(a)return ut.createElement(a,{connectionLineType:i,connectionLineStyle:n,fromNode:c,fromHandle:S,fromX:M,fromY:k,toX:m,toY:p,fromPosition:H,toPosition:$,connectionStatus:l});let G="";const J={sourceX:M,sourceY:k,sourcePosition:H,targetX:m,targetY:p,targetPosition:$};return i===Ls.Bezier?[G]=IA(J):i===Ls.Step?[G]=Wf({...J,borderRadius:0}):i===Ls.SmoothStep?[G]=Wf(J):i===Ls.SimpleBezier?[G]=CA(J):G=`M${M},${k} ${m},${p}`,ut.createElement("path",{d:G,fill:"none",className:"react-flow__connection-path",style:n})};aR.displayName="ConnectionLine";const aL=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function oL({containerStyle:e,style:t,type:n,component:i}){const{nodeId:a,handleType:l,nodesConnectable:c,width:f,height:m,connectionStatus:p}=we(aL,Tn);return!(a&&l&&f&&c)?null:ut.createElement("svg",{style:e,width:f,height:m,className:"react-flow__edges react-flow__connectionline react-flow__container"},ut.createElement("g",{className:Dn(["react-flow__connection",p])},ut.createElement(aR,{nodeId:a,handleType:l,style:t,type:n,CustomComponent:i,connectionStatus:p})))}function iS(e,t){return U.useRef(null),sn(),U.useMemo(()=>t(e),[e])}const oR=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:i,onMoveEnd:a,onInit:l,onNodeClick:c,onEdgeClick:f,onNodeDoubleClick:m,onEdgeDoubleClick:p,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:E,onNodeContextMenu:S,onSelectionContextMenu:I,onSelectionStart:D,onSelectionEnd:M,connectionLineType:k,connectionLineStyle:H,connectionLineComponent:$,connectionLineContainerStyle:G,selectionKeyCode:J,selectionOnDrag:at,selectionMode:P,multiSelectionKeyCode:R,panActivationKeyCode:b,zoomActivationKeyCode:O,deleteKeyCode:z,onlyRenderVisibleElements:B,elementsSelectable:x,selectNodesOnDrag:L,defaultViewport:et,translateExtent:V,minZoom:F,maxZoom:rt,preventScrolling:X,defaultMarkerColor:N,zoomOnScroll:q,zoomOnPinch:tt,panOnScroll:it,panOnScrollSpeed:ft,panOnScrollMode:yt,zoomOnDoubleClick:_t,panOnDrag:Nt,onPaneClick:At,onPaneMouseEnter:Zt,onPaneMouseMove:Gt,onPaneMouseLeave:Re,onPaneScroll:De,onPaneContextMenu:He,onEdgeContextMenu:Me,onEdgeMouseEnter:fe,onEdgeMouseMove:Sn,onEdgeMouseLeave:Lt,onReconnect:St,onReconnectStart:je,onReconnectEnd:Mn,reconnectRadius:Bn,noDragClassName:Br,noWheelClassName:Hn,noPanClassName:bn,elevateEdgesOnSelect:wr,disableKeyboardA11y:te,nodeOrigin:Bt,nodeExtent:Oe,rfId:ye})=>{const Hr=iS(e,k9),Ve=iS(t,j9);return iL(l),ut.createElement(O9,{onPaneClick:At,onPaneMouseEnter:Zt,onPaneMouseMove:Gt,onPaneMouseLeave:Re,onPaneContextMenu:He,onPaneScroll:De,deleteKeyCode:z,selectionKeyCode:J,selectionOnDrag:at,selectionMode:P,onSelectionStart:D,onSelectionEnd:M,multiSelectionKeyCode:R,panActivationKeyCode:b,zoomActivationKeyCode:O,elementsSelectable:x,onMove:n,onMoveStart:i,onMoveEnd:a,zoomOnScroll:q,zoomOnPinch:tt,zoomOnDoubleClick:_t,panOnScroll:it,panOnScrollSpeed:ft,panOnScrollMode:yt,panOnDrag:Nt,defaultViewport:et,translateExtent:V,minZoom:F,maxZoom:rt,onSelectionContextMenu:I,preventScrolling:X,noDragClassName:Br,noWheelClassName:Hn,noPanClassName:bn,disableKeyboardA11y:te},ut.createElement(rL,null,ut.createElement(eL,{edgeTypes:Ve,onEdgeClick:f,onEdgeDoubleClick:p,onlyRenderVisibleElements:B,onEdgeContextMenu:Me,onEdgeMouseEnter:fe,onEdgeMouseMove:Sn,onEdgeMouseLeave:Lt,onReconnect:St,onReconnectStart:je,onReconnectEnd:Mn,reconnectRadius:Bn,defaultMarkerColor:N,noPanClassName:bn,elevateEdgesOnSelect:!!wr,disableKeyboardA11y:te,rfId:ye},ut.createElement(oL,{style:H,type:k,component:$,containerStyle:G})),ut.createElement("div",{className:"react-flow__edgelabel-renderer"}),ut.createElement(U9,{nodeTypes:Hr,onNodeClick:c,onNodeDoubleClick:m,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:E,onNodeContextMenu:S,selectNodesOnDrag:L,onlyRenderVisibleElements:B,noPanClassName:bn,noDragClassName:Br,disableKeyboardA11y:te,nodeOrigin:Bt,nodeExtent:Oe,rfId:ye})))};oR.displayName="GraphView";var lL=U.memo(oR);const Kg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ds={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Kg,nodeExtent:Kg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ga.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:P6,isValidConnection:void 0},uL=()=>XV((e,t)=>({...Ds,setNodes:n=>{const{nodeInternals:i,nodeOrigin:a,elevateNodesOnSelect:l}=t();e({nodeInternals:rg(n,i,a,l)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=t();e({edges:n.map(a=>({...i,...a}))})},setDefaultNodesAndEdges:(n,i)=>{const a=typeof n<"u",l=typeof i<"u",c=a?rg(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:c,edges:l?i:[],hasDefaultNodes:a,hasDefaultEdges:l})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:a,fitViewOnInit:l,fitViewOnInitDone:c,fitViewOnInitOptions:f,domNode:m,nodeOrigin:p}=t(),y=m?.querySelector(".react-flow__viewport");if(!y)return;const v=window.getComputedStyle(y),{m22:E}=new window.DOMMatrixReadOnly(v.transform),S=n.reduce((D,M)=>{const k=a.get(M.id);if(k?.hidden)a.set(k.id,{...k,[Ae]:{...k[Ae],handleBounds:void 0}});else if(k){const H=r_(M.nodeElement);!!(H.width&&H.height&&(k.width!==H.width||k.height!==H.height||M.forceUpdate))&&(a.set(k.id,{...k,[Ae]:{...k[Ae],handleBounds:{source:ZT(".source",M.nodeElement,E,p),target:ZT(".target",M.nodeElement,E,p)}},...H}),D.push({id:k.id,type:"dimensions",dimensions:H}))}return D},[]);YA(a,p);const I=c||l&&!c&&KA(t,{initial:!0,...f});e({nodeInternals:new Map(a),fitViewOnInitDone:I}),S?.length>0&&i?.(S)},updateNodePositions:(n,i=!0,a=!1)=>{const{triggerNodeChanges:l}=t(),c=n.map(f=>{const m={id:f.id,type:"position",dragging:a};return i&&(m.positionAbsolute=f.positionAbsolute,m.position=f.position),m});l(c)},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:a,hasDefaultNodes:l,nodeOrigin:c,getNodes:f,elevateNodesOnSelect:m}=t();if(n?.length){if(l){const p=QA(n,f()),y=rg(p,a,c,m);e({nodeInternals:y})}i?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:a,getNodes:l}=t();let c,f=null;i?c=n.map(m=>Os(m,!0)):(c=Xo(l(),n),f=Xo(a,[])),rf({changedNodes:c,changedEdges:f,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:a,getNodes:l}=t();let c,f=null;i?c=n.map(m=>Os(m,!0)):(c=Xo(a,n),f=Xo(l(),[])),rf({changedNodes:f,changedEdges:c,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:i}={})=>{const{edges:a,getNodes:l}=t(),c=n||l(),f=i||a,m=c.map(y=>(y.selected=!1,Os(y.id,!1))),p=f.map(y=>Os(y.id,!1));rf({changedNodes:m,changedEdges:p,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:a}=t();i?.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:a}=t();i?.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=t(),l=i().filter(f=>f.selected).map(f=>Os(f.id,!1)),c=n.filter(f=>f.selected).map(f=>Os(f.id,!1));rf({changedNodes:l,changedEdges:c,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:i}=t();i.forEach(a=>{a.positionAbsolute=i_(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(i)})},panBy:n=>{const{transform:i,width:a,height:l,d3Zoom:c,d3Selection:f,translateExtent:m}=t();if(!c||!f||!n.x&&!n.y)return!1;const p=Fs.translate(i[0]+n.x,i[1]+n.y).scale(i[2]),y=[[0,0],[a,l]],v=c?.constrain()(p,y,m);return c.transform(f,v),i[0]!==v.x||i[1]!==v.y||i[2]!==v.k},cancelConnection:()=>e({connectionNodeId:Ds.connectionNodeId,connectionHandleId:Ds.connectionHandleId,connectionHandleType:Ds.connectionHandleType,connectionStatus:Ds.connectionStatus,connectionStartHandle:Ds.connectionStartHandle,connectionEndHandle:Ds.connectionEndHandle}),reset:()=>e({...Ds})}),Object.is),p_=({children:e})=>{const t=U.useRef(null);return t.current||(t.current=uL()),ut.createElement(C6,{value:t.current},e)};p_.displayName="ReactFlowProvider";const lR=({children:e})=>U.useContext(Nd)?ut.createElement(ut.Fragment,null,e):ut.createElement(p_,null,e);lR.displayName="ReactFlowWrapper";const cL={input:BA,default:Gg,output:jA,group:f_},hL={default:Jf,straight:l_,step:o_,smoothstep:Dd,simplebezier:a_},fL=[0,0],dL=[15,15],mL={x:0,y:0,zoom:1},pL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},uR=U.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:a,nodeTypes:l=cL,edgeTypes:c=hL,onNodeClick:f,onEdgeClick:m,onInit:p,onMove:y,onMoveStart:v,onMoveEnd:E,onConnect:S,onConnectStart:I,onConnectEnd:D,onClickConnectStart:M,onClickConnectEnd:k,onNodeMouseEnter:H,onNodeMouseMove:$,onNodeMouseLeave:G,onNodeContextMenu:J,onNodeDoubleClick:at,onNodeDragStart:P,onNodeDrag:R,onNodeDragStop:b,onNodesDelete:O,onEdgesDelete:z,onSelectionChange:B,onSelectionDragStart:x,onSelectionDrag:L,onSelectionDragStop:et,onSelectionContextMenu:V,onSelectionStart:F,onSelectionEnd:rt,connectionMode:X=Ga.Strict,connectionLineType:N=Ls.Bezier,connectionLineStyle:q,connectionLineComponent:tt,connectionLineContainerStyle:it,deleteKeyCode:ft="Backspace",selectionKeyCode:yt="Shift",selectionOnDrag:_t=!1,selectionMode:Nt=lc.Full,panActivationKeyCode:At="Space",multiSelectionKeyCode:Zt=Qf()?"Meta":"Control",zoomActivationKeyCode:Gt=Qf()?"Meta":"Control",snapToGrid:Re=!1,snapGrid:De=dL,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:Me=!0,nodesDraggable:fe,nodesConnectable:Sn,nodesFocusable:Lt,nodeOrigin:St=fL,edgesFocusable:je,edgesUpdatable:Mn,elementsSelectable:Bn,defaultViewport:Br=mL,minZoom:Hn=.5,maxZoom:bn=2,translateExtent:wr=Kg,preventScrolling:te=!0,nodeExtent:Bt,defaultMarkerColor:Oe="#b1b1b7",zoomOnScroll:ye=!0,zoomOnPinch:Hr=!0,panOnScroll:Ve=!1,panOnScrollSpeed:Qe=.5,panOnScrollMode:An=Pa.Free,zoomOnDoubleClick:Rn=!0,panOnDrag:Ze=!0,onPaneClick:an,onPaneMouseEnter:xn,onPaneMouseMove:vi,onPaneMouseLeave:Ei,onPaneScroll:Tr,onPaneContextMenu:jn,children:er,onEdgeContextMenu:qn,onEdgeDoubleClick:nr,onEdgeMouseEnter:ea,onEdgeMouseMove:jr,onEdgeMouseLeave:is,onEdgeUpdate:qr,onEdgeUpdateStart:Qa,onEdgeUpdateEnd:ce,onReconnect:xe,onReconnectStart:Te,onReconnectEnd:On,reconnectRadius:na=10,edgeUpdaterRadius:xl=10,onNodesChange:Fr,onEdgesChange:Za,noDragClassName:wi="nodrag",noWheelClassName:$r="nowheel",noPanClassName:rr="nopan",fitView:ir=!1,fitViewOptions:sr,connectOnClick:on=!0,attributionPosition:_e,proOptions:ra,defaultEdgeOptions:ss,elevateNodesOnSelect:Fn=!0,elevateEdgesOnSelect:Sr=!1,disableKeyboardA11y:ia=!1,autoPanOnConnect:Wa=!0,autoPanOnNodeDrag:Ti=!0,connectionRadius:Ja=20,isValidConnection:Gr,onError:ar,style:qe,id:Yr,nodeDragThreshold:to,...br},as)=>{const Kr=Yr||"1";return ut.createElement("div",{...br,style:{...qe,...pL},ref:as,className:Dn(["react-flow",a]),"data-testid":"rf__wrapper",id:Yr},ut.createElement(lR,null,ut.createElement(lL,{onInit:p,onMove:y,onMoveStart:v,onMoveEnd:E,onNodeClick:f,onEdgeClick:m,onNodeMouseEnter:H,onNodeMouseMove:$,onNodeMouseLeave:G,onNodeContextMenu:J,onNodeDoubleClick:at,nodeTypes:l,edgeTypes:c,connectionLineType:N,connectionLineStyle:q,connectionLineComponent:tt,connectionLineContainerStyle:it,selectionKeyCode:yt,selectionOnDrag:_t,selectionMode:Nt,deleteKeyCode:ft,multiSelectionKeyCode:Zt,panActivationKeyCode:At,zoomActivationKeyCode:Gt,onlyRenderVisibleElements:He,selectNodesOnDrag:Me,defaultViewport:Br,translateExtent:wr,minZoom:Hn,maxZoom:bn,preventScrolling:te,zoomOnScroll:ye,zoomOnPinch:Hr,zoomOnDoubleClick:Rn,panOnScroll:Ve,panOnScrollSpeed:Qe,panOnScrollMode:An,panOnDrag:Ze,onPaneClick:an,onPaneMouseEnter:xn,onPaneMouseMove:vi,onPaneMouseLeave:Ei,onPaneScroll:Tr,onPaneContextMenu:jn,onSelectionContextMenu:V,onSelectionStart:F,onSelectionEnd:rt,onEdgeContextMenu:qn,onEdgeDoubleClick:nr,onEdgeMouseEnter:ea,onEdgeMouseMove:jr,onEdgeMouseLeave:is,onReconnect:xe??qr,onReconnectStart:Te??Qa,onReconnectEnd:On??ce,reconnectRadius:na??xl,defaultMarkerColor:Oe,noDragClassName:wi,noWheelClassName:$r,noPanClassName:rr,elevateEdgesOnSelect:Sr,rfId:Kr,disableKeyboardA11y:ia,nodeOrigin:St,nodeExtent:Bt}),ut.createElement(s9,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:S,onConnectStart:I,onConnectEnd:D,onClickConnectStart:M,onClickConnectEnd:k,nodesDraggable:fe,nodesConnectable:Sn,nodesFocusable:Lt,edgesFocusable:je,edgesUpdatable:Mn,elementsSelectable:Bn,elevateNodesOnSelect:Fn,minZoom:Hn,maxZoom:bn,nodeExtent:Bt,onNodesChange:Fr,onEdgesChange:Za,snapToGrid:Re,snapGrid:De,connectionMode:X,translateExtent:wr,connectOnClick:on,defaultEdgeOptions:ss,fitView:ir,fitViewOptions:sr,onNodesDelete:O,onEdgesDelete:z,onNodeDragStart:P,onNodeDrag:R,onNodeDragStop:b,onSelectionDrag:L,onSelectionDragStart:x,onSelectionDragStop:et,noPanClassName:rr,nodeOrigin:St,rfId:Kr,autoPanOnConnect:Wa,autoPanOnNodeDrag:Ti,onError:ar,connectionRadius:Ja,isValidConnection:Gr,nodeDragThreshold:to}),ut.createElement(r9,{onSelectionChange:B}),er,ut.createElement(N6,{proOptions:ra,position:_e}),ut.createElement(c9,{rfId:Kr,disableKeyboardA11y:ia})))});uR.displayName="ReactFlow";function gL(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ut.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function yL(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ut.createElement("path",{d:"M0 0h32v4.2H0z"}))}function _L(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ut.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function vL(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function EL(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Bu=({children:e,className:t,...n})=>ut.createElement("button",{type:"button",className:Dn(["react-flow__controls-button",t]),...n},e);Bu.displayName="ControlButton";const wL=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),cR=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:l,onZoomOut:c,onFitView:f,onInteractiveChange:m,className:p,children:y,position:v="bottom-left"})=>{const E=sn(),[S,I]=U.useState(!1),{isInteractive:D,minZoomReached:M,maxZoomReached:k}=we(wL,Tn),{zoomIn:H,zoomOut:$,fitView:G}=d_();if(U.useEffect(()=>{I(!0)},[]),!S)return null;const J=()=>{H(),l?.()},at=()=>{$(),c?.()},P=()=>{G(a),f?.()},R=()=>{E.setState({nodesDraggable:!D,nodesConnectable:!D,elementsSelectable:!D}),m?.(!D)};return ut.createElement(wA,{className:Dn(["react-flow__controls",p]),position:v,style:e,"data-testid":"rf__controls"},t&&ut.createElement(ut.Fragment,null,ut.createElement(Bu,{onClick:J,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:k},ut.createElement(gL,null)),ut.createElement(Bu,{onClick:at,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:M},ut.createElement(yL,null))),n&&ut.createElement(Bu,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},ut.createElement(_L,null)),i&&ut.createElement(Bu,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},D?ut.createElement(EL,null):ut.createElement(vL,null)),y)};cR.displayName="Controls";var TL=U.memo(cR),Vr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Vr||(Vr={}));function SL({color:e,dimensions:t,lineWidth:n}){return ut.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function bL({color:e,radius:t}){return ut.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const AL={[Vr.Dots]:"#91919a",[Vr.Lines]:"#eee",[Vr.Cross]:"#e2e2e2"},RL={[Vr.Dots]:1,[Vr.Lines]:1,[Vr.Cross]:6},xL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function hR({id:e,variant:t=Vr.Dots,gap:n=20,size:i,lineWidth:a=1,offset:l=2,color:c,style:f,className:m}){const p=U.useRef(null),{transform:y,patternId:v}=we(xL,Tn),E=c||AL[t],S=i||RL[t],I=t===Vr.Dots,D=t===Vr.Cross,M=Array.isArray(n)?n:[n,n],k=[M[0]*y[2]||1,M[1]*y[2]||1],H=S*y[2],$=D?[H,H]:k,G=I?[H/l,H/l]:[$[0]/l,$[1]/l];return ut.createElement("svg",{className:Dn(["react-flow__background",m]),style:{...f,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:p,"data-testid":"rf__background"},ut.createElement("pattern",{id:v+e,x:y[0]%k[0],y:y[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${G[0]},-${G[1]})`},I?ut.createElement(bL,{color:E,radius:H/l}):ut.createElement(SL,{dimensions:$,color:E,lineWidth:a})),ut.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+e})`}))}hR.displayName="Background";var CL=U.memo(hR);const IL=({data:e})=>{const{label:t,status:n}=e,i=n==="done",a=i?"border-teal-500":"border-slate-400",l=i?"text-slate-400":"text-slate-800";return ct.jsxs(ct.Fragment,{children:[ct.jsx(gl,{type:"target",position:bt.Left,className:"!w-3 !h-3 !border-2 !border-white !bg-teal-500"}),ct.jsx("div",{className:`bg-white rounded-full w-48 h-48 flex items-center justify-center text-center p-2 shadow-xl shadow-slate-300/60 ${a}`,children:ct.jsx("p",{className:`font-bold text-lg px-2 ${l}`,children:t})}),ct.jsx(gl,{type:"source",position:bt.Right,className:"!w-3 !h-3 !border-2 !border-white !bg-teal-500"})]})},NL=U.memo(IL),DL=({id:e,sourceX:t,sourceY:n,targetX:i,targetY:a,sourcePosition:l,targetPosition:c,style:f={},markerEnd:m,data:p})=>{const[y,v,E]=Wf({sourceX:t,sourceY:n,sourcePosition:l,targetX:i,targetY:a,targetPosition:c}),S=I=>{I.stopPropagation(),p.onAddNode(e)};return ct.jsxs(ct.Fragment,{children:[ct.jsx("path",{id:e,style:f,className:"react-flow__edge-path",d:y,markerEnd:m}),ct.jsx("path",{id:e,style:{...f,strokeWidth:20,stroke:"transparent"},className:"react-flow__edge-path",d:y,markerEnd:m}),ct.jsx("foreignObject",{width:40,height:40,x:v-20,y:E-20,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml",children:ct.jsx("div",{className:"flex items-center justify-center h-full w-full",children:ct.jsx("button",{className:"w-8 h-8 bg-indigo-600 rounded-full text-white text-lg font-bold shadow-lg opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",onClick:S,title:"Add a step in the middle",children:"+"})})})]})},ML={bubble:NL},OL=({nodes:e,edges:t,setNodes:n,onNodesChange:i,onEdgesChange:a,onNodeContextMenu:l,setReactFlowInstance:c,nodesDraggable:f,onAddNodeInMiddle:m})=>{const p=U.useCallback((E,S)=>{n(I=>{const D=I.findIndex(k=>k.id===S.id);if(I[D].data.status==="done")return I.map((k,H)=>H>=D?{...k,data:{...k.data,status:"pending"}}:k);{const k=D===0,H=I[D-1];if(k||H&&H.data.status==="done"){const $=[...I];return $[D]={...$[D],data:{...$[D].data,status:"done"}},$}}return I})},[n]),y=U.useMemo(()=>({custom:DL}),[]),v=t.map(E=>({...E,type:"custom",data:{...E.data,onAddNode:m}}));return ct.jsx("div",{style:{height:"75vh",width:"100%"},children:ct.jsxs(uR,{nodes:e,edges:v,nodeTypes:ML,edgeTypes:y,onNodesChange:i,onEdgesChange:a,onNodeClick:p,onNodeContextMenu:l,onInit:c,nodesDraggable:f,nodesConnectable:!1,fitView:!0,fitViewOptions:{padding:.2},children:[ct.jsx(TL,{}),ct.jsx(CL,{})]})})},VL=e=>ct.jsx(p_,{children:ct.jsx(OL,{...e})}),kL=({progress:e=0})=>{const t=Math.max(0,Math.min(100,e));return ct.jsxs("div",{children:[ct.jsxs("div",{className:"flex justify-between mb-1",children:[ct.jsx("span",{className:"text-base font-medium text-slate-700",children:"Progress"}),ct.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[Math.round(t),"%"]})]}),ct.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:ct.jsx("div",{className:"bg-teal-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${t}%`}})})]})},PL=({x:e,y:t,onEdit:n,onDelete:i})=>ct.jsx("div",{style:{top:t,left:e},className:"absolute bg-white rounded-md shadow-lg z-50 border border-gray-200",children:ct.jsxs("ul",{className:"py-1",children:[ct.jsx("li",{children:ct.jsx("button",{onClick:n,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Edit Text"})}),ct.jsx("li",{children:ct.jsx("button",{onClick:i,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete Bubble"})})]})}),LL=()=>{const{currentUser:e}=Ad(),{roadmapId:t}=wC(),n=U.useRef(!0),[i,a]=U.useState([]),[l,c]=U.useState([]),[f,m]=U.useState(""),[p,y]=U.useState(!0),[v,E]=U.useState(0),[S,I]=U.useState(null),[D,M]=U.useState(null),[k,H]=U.useState(null);U.useEffect(()=>{(async()=>{if(e&&t){y(!0);const O=await IV(e.uid,t);O&&(a(O.nodes||[]),c(O.edges||[]),m(O.title||"My Roadmap")),y(!1)}})()},[e,t]),U.useEffect(()=>{if(n.current||p){p||(n.current=!1);return}e&&t&&DV(e.uid,t,{nodes:i,edges:l})},[i,l,e,t,p]),U.useEffect(()=>{const b=i.filter(O=>O.data.status==="done").length;E(i.length>0?b/i.length*100:0)},[i]);const $=U.useCallback(b=>a(O=>QA(b,O)),[]),G=U.useCallback(b=>c(O=>b9(b,O)),[]),J=U.useCallback((b,O)=>{b.preventDefault(),M({x:b.clientX,y:b.clientY,node:O})},[]),at=U.useCallback(b=>{I({mode:"insert",edgeId:b})},[]),P=U.useCallback(b=>{let O=null;const z={stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5,5"},B=()=>"id_"+Date.now();if(S?.mode==="new"){const x=i[i.length-1],L=B(),et={id:L,type:"bubble",data:{label:b,status:"pending"},position:{x:x?x.position.x+250:100,y:125}},V=x?{id:`e${x.id}-${L}`,source:x.id,target:L,type:"custom",style:z}:null;a(F=>[...F,et]),V&&c(F=>[...F,V]),O=et}else if(S?.mode==="edit")a(x=>x.map(L=>L.id===S.node.id?{...L,data:{...L.data,label:b}}:L));else if(S?.mode==="insert"){const x=l.find(q=>q.id===S.edgeId);if(!x)return;const L=i.find(q=>q.id===x.source),et=i.findIndex(q=>q.id===L.id),V=B(),F={id:V,type:"bubble",data:{label:b,status:"pending"},position:{x:L.position.x+250,y:L.position.y}},rt=i.map((q,tt)=>tt>et?{...q,position:{...q.position,x:q.position.x+250}}:q),X=[...rt.slice(0,et+1),F,...rt.slice(et+1)],N=l.filter(q=>q.id!==x.id).concat([{id:`e${x.source}-${V}`,source:x.source,target:V,type:"custom",style:z},{id:`e${V}-${x.target}`,source:V,target:x.target,type:"custom",style:z}]);a(X),c(N),O=F}O&&k&&setTimeout(()=>{k.setCenter(O.position.x+100,O.position.y+100,{zoom:1,duration:800})},100),I(null)},[S,i,l,k]),R=U.useCallback(()=>{if(!D?.node)return;const{node:b}=D,O=i.findIndex(F=>F.id===b.id),z=l.find(F=>F.target===b.id),B=l.find(F=>F.source===b.id),x=z?.source,L=B?.target,et=i.filter(F=>F.id!==b.id).map((F,rt)=>rt>=O?{...F,position:{...F.position,x:F.position.x-250}}:F);let V=l.filter(F=>F.source!==b.id&&F.target!==b.id);if(x&&L){const F={id:`e${x}-${L}`,source:x,target:L,type:"custom",style:{stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5,5"}};V.push(F)}a(et),c(V),M(null)},[D,i,l]);return p?ct.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl font-semibold text-gray-700",children:"Loading Your Roadmap..."}):ct.jsxs("div",{onClick:()=>M(null),children:[ct.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[ct.jsxs("div",{className:"px-4 pb-6 sm:px-0",children:[ct.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ct.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Roadmap"}),ct.jsx("button",{onClick:()=>I({mode:"new"}),className:"bg-indigo-600 hover-bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg",children:"+ Add Step"})]}),ct.jsx(kL,{progress:v})]}),ct.jsx("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden",children:ct.jsx(VL,{nodes:i,edges:l,setNodes:a,onNodesChange:$,onEdgesChange:G,onNodeContextMenu:J,setReactFlowInstance:H,nodesDraggable:!1,onAddNodeInMiddle:at})})]}),D&&ct.jsx(PL,{x:D.x,y:D.y,onEdit:()=>{I({mode:"edit",node:D.node}),M(null)},onDelete:R}),ct.jsx($b,{isOpen:!!S,onClose:()=>I(null),onSubmit:P,initialValue:S?.mode==="edit"?S.node.data.label:"",title:S?.mode==="edit"?"Edit Step":S?.mode==="insert"?"Insert New Step":"Add New Step"})]})},UL=()=>{const{currentUser:e}=Ad();return ct.jsx("nav",{className:"bg-white shadow-md w-full",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex items-center justify-between h-16",children:[ct.jsxs("div",{className:"flex items-center space-x-4",children:[ct.jsx(bf,{to:"/",className:"text-2xl font-bold text-gray-800 hover:text-indigo-600 transition-colors",children:"Pathfinder"}),ct.jsx(bf,{to:"/",className:"px-3 py-1 bg-indigo-50 text-indigo-700 font-semibold hover:bg-indigo-100 hover:text-indigo-800 rounded-md transition-colors duration-200 shadow-sm",children:"Home"})]}),e&&ct.jsxs("div",{className:"flex items-center space-x-3",children:[ct.jsx("span",{className:"text-gray-700 hidden sm:block font-medium",children:e.displayName}),e.photoURL&&ct.jsx("img",{className:"h-10 w-10 rounded-full border-2 border-indigo-600",src:e.photoURL,alt:"User avatar",referrerPolicy:"no-referrer"}),ct.jsx("button",{onClick:AV,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-700 transition-colors duration-300",children:"Sign Out"})]})]})})})},zL=({children:e})=>ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx(UL,{}),ct.jsx("main",{children:e})]});function BL(){const{currentUser:e}=Ad();return e?ct.jsx(a2,{basename:"/visual-roadmap-app/",children:ct.jsx(zL,{children:ct.jsxs(LC,{children:[ct.jsx(af,{path:"/",element:ct.jsx(LV,{})}),ct.jsx(af,{path:"/roadmap/:roadmapId",element:ct.jsx(LL,{})}),ct.jsx(af,{path:"*",element:ct.jsx(kC,{to:"/"})})]})})}):ct.jsx(xV,{})}$x.createRoot(document.getElementById("root")).render(ct.jsx(ut.StrictMode,{children:ct.jsx(TV,{children:ct.jsx(BL,{})})}));
